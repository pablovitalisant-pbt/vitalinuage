function G0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Z0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Op={exports:{}},Po={},Lp={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=Symbol.for("react.element"),q0=Symbol.for("react.portal"),K0=Symbol.for("react.fragment"),Q0=Symbol.for("react.strict_mode"),J0=Symbol.for("react.profiler"),Y0=Symbol.for("react.provider"),X0=Symbol.for("react.context"),ev=Symbol.for("react.forward_ref"),tv=Symbol.for("react.suspense"),rv=Symbol.for("react.memo"),nv=Symbol.for("react.lazy"),Xd=Symbol.iterator;function sv(t){return t===null||typeof t!="object"?null:(t=Xd&&t[Xd]||t["@@iterator"],typeof t=="function"?t:null)}var Dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mp=Object.assign,Up={};function js(t,e,r){this.props=t,this.context=e,this.refs=Up,this.updater=r||Dp}js.prototype.isReactComponent={};js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fp(){}Fp.prototype=js.prototype;function ku(t,e,r){this.props=t,this.context=e,this.refs=Up,this.updater=r||Dp}var Su=ku.prototype=new Fp;Su.constructor=ku;Mp(Su,js.prototype);Su.isPureReactComponent=!0;var ef=Array.isArray,zp=Object.prototype.hasOwnProperty,Nu={current:null},$p={key:!0,ref:!0,__self:!0,__source:!0};function Vp(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)zp.call(e,n)&&!$p.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:zi,type:t,key:i,ref:a,props:s,_owner:Nu.current}}function iv(t,e){return{$$typeof:zi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Eu(t){return typeof t=="object"&&t!==null&&t.$$typeof===zi}function av(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var tf=/\/+/g;function hl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?av(""+t.key):e.toString(36)}function Na(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case zi:case q0:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+hl(a,0):n,ef(s)?(r="",t!=null&&(r=t.replace(tf,"$&/")+"/"),Na(s,e,r,"",function(u){return u})):s!=null&&(Eu(s)&&(s=iv(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(tf,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",ef(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+hl(i,l);a+=Na(i,e,r,c,s)}else if(c=sv(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+hl(i,l++),a+=Na(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function na(t,e,r){if(t==null)return t;var n=[],s=0;return Na(t,n,"","",function(i){return e.call(r,i,s++)}),n}function ov(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Ea={transition:null},lv={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Ea,ReactCurrentOwner:Nu};function Bp(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:na,forEach:function(t,e,r){na(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return na(t,function(){e++}),e},toArray:function(t){return na(t,function(e){return e})||[]},only:function(t){if(!Eu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=js;ie.Fragment=K0;ie.Profiler=J0;ie.PureComponent=ku;ie.StrictMode=Q0;ie.Suspense=tv;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lv;ie.act=Bp;ie.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Mp({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Nu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)zp.call(e,c)&&!$p.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:zi,type:t.type,key:s,ref:i,props:n,_owner:a}};ie.createContext=function(t){return t={$$typeof:X0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Y0,_context:t},t.Consumer=t};ie.createElement=Vp;ie.createFactory=function(t){var e=Vp.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:ev,render:t}};ie.isValidElement=Eu;ie.lazy=function(t){return{$$typeof:nv,_payload:{_status:-1,_result:t},_init:ov}};ie.memo=function(t,e){return{$$typeof:rv,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Ea.transition;Ea.transition={};try{t()}finally{Ea.transition=e}};ie.unstable_act=Bp;ie.useCallback=function(t,e){return st.current.useCallback(t,e)};ie.useContext=function(t){return st.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return st.current.useDeferredValue(t)};ie.useEffect=function(t,e){return st.current.useEffect(t,e)};ie.useId=function(){return st.current.useId()};ie.useImperativeHandle=function(t,e,r){return st.current.useImperativeHandle(t,e,r)};ie.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return st.current.useMemo(t,e)};ie.useReducer=function(t,e,r){return st.current.useReducer(t,e,r)};ie.useRef=function(t){return st.current.useRef(t)};ie.useState=function(t){return st.current.useState(t)};ie.useSyncExternalStore=function(t,e,r){return st.current.useSyncExternalStore(t,e,r)};ie.useTransition=function(){return st.current.useTransition()};ie.version="18.3.1";Lp.exports=ie;var v=Lp.exports;const Xe=Z0(v),cv=G0({__proto__:null,default:Xe},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv=v,dv=Symbol.for("react.element"),fv=Symbol.for("react.fragment"),hv=Object.prototype.hasOwnProperty,pv=uv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mv={key:!0,ref:!0,__self:!0,__source:!0};function Hp(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)hv.call(e,n)&&!mv.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:dv,type:t,key:i,ref:a,props:s,_owner:pv.current}}Po.Fragment=fv;Po.jsx=Hp;Po.jsxs=Hp;Op.exports=Po;var o=Op.exports,Xl={},Wp={exports:{}},vt={},Gp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,K){var J=D.length;D.push(K);e:for(;0<J;){var oe=J-1>>>1,Ce=D[oe];if(0<s(Ce,K))D[oe]=K,D[J]=Ce,J=oe;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var K=D[0],J=D.pop();if(J!==K){D[0]=J;e:for(var oe=0,Ce=D.length,Dn=Ce>>>1;oe<Dn;){var Vt=2*(oe+1)-1,Rs=D[Vt],Bt=Vt+1,Mn=D[Bt];if(0>s(Rs,J))Bt<Ce&&0>s(Mn,Rs)?(D[oe]=Mn,D[Bt]=J,oe=Bt):(D[oe]=Rs,D[Vt]=J,oe=Vt);else if(Bt<Ce&&0>s(Mn,J))D[oe]=Mn,D[Bt]=J,oe=Bt;else break e}}return K}function s(D,K){var J=D.sortIndex-K.sortIndex;return J!==0?J:D.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,g=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=D)n(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=r(u)}}function k(D){if(w=!1,y(D),!b)if(r(c)!==null)b=!0,te(j);else{var K=r(u);K!==null&&ae(k,K.startTime-D)}}function j(D,K){b=!1,w&&(w=!1,m(T),T=-1),g=!0;var J=f;try{for(y(K),d=r(c);d!==null&&(!(d.expirationTime>K)||D&&!H());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,f=d.priorityLevel;var Ce=oe(d.expirationTime<=K);K=t.unstable_now(),typeof Ce=="function"?d.callback=Ce:d===r(c)&&n(c),y(K)}else n(c);d=r(c)}if(d!==null)var Dn=!0;else{var Vt=r(u);Vt!==null&&ae(k,Vt.startTime-K),Dn=!1}return Dn}finally{d=null,f=J,g=!1}}var R=!1,E=null,T=-1,q=5,C=-1;function H(){return!(t.unstable_now()-C<q)}function P(){if(E!==null){var D=t.unstable_now();C=D;var K=!0;try{K=E(!0,D)}finally{K?G():(R=!1,E=null)}}else R=!1}var G;if(typeof p=="function")G=function(){p(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=P,G=function(){Y.postMessage(null)}}else G=function(){_(P,0)};function te(D){E=D,R||(R=!0,G())}function ae(D,K){T=_(function(){D(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,te(j))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var J=f;f=K;try{return D()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var J=f;f=D;try{return K()}finally{f=J}},t.unstable_scheduleCallback=function(D,K,J){var oe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,D){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=J+Ce,D={id:h++,callback:K,priorityLevel:D,startTime:J,expirationTime:Ce,sortIndex:-1},J>oe?(D.sortIndex=J,e(u,D),r(c)===null&&D===r(u)&&(w?(m(T),T=-1):w=!0,ae(k,J-oe))):(D.sortIndex=Ce,e(c,D),b||g||(b=!0,te(j))),D},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(D){var K=f;return function(){var J=f;f=K;try{return D.apply(this,arguments)}finally{f=J}}}})(Zp);Gp.exports=Zp;var gv=Gp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=v,gt=gv;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qp=new Set,hi={};function Rn(t,e){fs(t,e),fs(t+"Capture",e)}function fs(t,e){for(hi[t]=e,t=0;t<e.length;t++)qp.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=Object.prototype.hasOwnProperty,vv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rf={},nf={};function xv(t){return ec.call(nf,t)?!0:ec.call(rf,t)?!1:vv.test(t)?nf[t]=!0:(rf[t]=!0,!1)}function wv(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bv(t,e,r,n){if(e===null||typeof e>"u"||wv(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var ju=/[\-:]([a-z])/g;function Cu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ju,Cu);He[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ju,Cu);He[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ju,Cu);He[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iu(t,e,r,n){var s=He.hasOwnProperty(e)?He[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bv(e,r,s,n)&&(r=null),n||s===null?xv(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var br=yv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),Bn=Symbol.for("react.fragment"),Tu=Symbol.for("react.strict_mode"),tc=Symbol.for("react.profiler"),Kp=Symbol.for("react.provider"),Qp=Symbol.for("react.context"),Pu=Symbol.for("react.forward_ref"),rc=Symbol.for("react.suspense"),nc=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),Jp=Symbol.for("react.offscreen"),sf=Symbol.iterator;function Os(t){return t===null||typeof t!="object"?null:(t=sf&&t[sf]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,pl;function Zs(t){if(pl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);pl=e&&e[1]||""}return`
`+pl+t}var ml=!1;function gl(t,e){if(!t||ml)return"";ml=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{ml=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Zs(t):""}function _v(t){switch(t.tag){case 5:return Zs(t.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return t=gl(t.type,!1),t;case 11:return t=gl(t.type.render,!1),t;case 1:return t=gl(t.type,!0),t;default:return""}}function sc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bn:return"Fragment";case Vn:return"Portal";case tc:return"Profiler";case Tu:return"StrictMode";case rc:return"Suspense";case nc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qp:return(t.displayName||"Context")+".Consumer";case Kp:return(t._context.displayName||"Context")+".Provider";case Pu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Au:return e=t.displayName||null,e!==null?e:sc(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return sc(t(e))}catch{}}return null}function kv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sc(e);case 8:return e===Tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sv(t){var e=Yp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ia(t){t._valueTracker||(t._valueTracker=Sv(t))}function Xp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Yp(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ha(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ic(t,e){var r=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function af(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=sn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function em(t,e){e=e.checked,e!=null&&Iu(t,"checked",e,!1)}function ac(t,e){em(t,e);var r=sn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?oc(t,e.type,r):e.hasOwnProperty("defaultValue")&&oc(t,e.type,sn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function of(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function oc(t,e,r){(e!=="number"||Ha(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var qs=Array.isArray;function ts(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+sn(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function lc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lf(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(I(92));if(qs(r)){if(1<r.length)throw Error(I(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:sn(r)}}function tm(t,e){var r=sn(e.value),n=sn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function cf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var aa,nm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(aa=aa||document.createElement("div"),aa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=aa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nv=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(t){Nv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ei[e]=ei[t]})});function sm(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ei.hasOwnProperty(t)&&ei[t]?(""+e).trim():e+"px"}function im(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sm(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Ev=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uc(t,e){if(e){if(Ev[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function dc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=null;function Ru(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hc=null,rs=null,ns=null;function uf(t){if(t=Bi(t)){if(typeof hc!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Do(e),hc(t.stateNode,t.type,e))}}function am(t){rs?ns?ns.push(t):ns=[t]:rs=t}function om(){if(rs){var t=rs,e=ns;if(ns=rs=null,uf(t),e)for(t=0;t<e.length;t++)uf(e[t])}}function lm(t,e){return t(e)}function cm(){}var yl=!1;function um(t,e,r){if(yl)return t(e,r);yl=!0;try{return lm(t,e,r)}finally{yl=!1,(rs!==null||ns!==null)&&(cm(),om())}}function mi(t,e){var r=t.stateNode;if(r===null)return null;var n=Do(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(I(231,e,typeof r));return r}var pc=!1;if(hr)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){pc=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{pc=!1}function jv(t,e,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var ti=!1,Wa=null,Ga=!1,mc=null,Cv={onError:function(t){ti=!0,Wa=t}};function Iv(t,e,r,n,s,i,a,l,c){ti=!1,Wa=null,jv.apply(Cv,arguments)}function Tv(t,e,r,n,s,i,a,l,c){if(Iv.apply(this,arguments),ti){if(ti){var u=Wa;ti=!1,Wa=null}else throw Error(I(198));Ga||(Ga=!0,mc=u)}}function On(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function df(t){if(On(t)!==t)throw Error(I(188))}function Pv(t){var e=t.alternate;if(!e){if(e=On(t),e===null)throw Error(I(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return df(s),t;if(i===n)return df(s),e;i=i.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?t:e}function fm(t){return t=Pv(t),t!==null?hm(t):null}function hm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hm(t);if(e!==null)return e;t=t.sibling}return null}var pm=gt.unstable_scheduleCallback,ff=gt.unstable_cancelCallback,Av=gt.unstable_shouldYield,Rv=gt.unstable_requestPaint,Te=gt.unstable_now,Ov=gt.unstable_getCurrentPriorityLevel,Ou=gt.unstable_ImmediatePriority,mm=gt.unstable_UserBlockingPriority,Za=gt.unstable_NormalPriority,Lv=gt.unstable_LowPriority,gm=gt.unstable_IdlePriority,Ao=null,Kt=null;function Dv(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Ao,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Fv,Mv=Math.log,Uv=Math.LN2;function Fv(t){return t>>>=0,t===0?32:31-(Mv(t)/Uv|0)|0}var oa=64,la=4194304;function Ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qa(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Ks(l):(i&=a,i!==0&&(n=Ks(i)))}else a=r&~s,a!==0?n=Ks(a):i!==0&&(n=Ks(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Mt(e),s=1<<r,n|=t[r],e&=~s;return n}function zv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $v(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Mt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=zv(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function gc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ym(){var t=oa;return oa<<=1,!(oa&4194240)&&(oa=64),t}function vl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $i(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mt(e),t[e]=r}function Vv(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Mt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Lu(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Mt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var fe=0;function vm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xm,Du,wm,bm,_m,yc=!1,ca=[],Wr=null,Gr=null,Zr=null,gi=new Map,yi=new Map,Rr=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hf(t,e){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":gi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(e.pointerId)}}function Ds(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Bi(e),e!==null&&Du(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Hv(t,e,r,n,s){switch(e){case"focusin":return Wr=Ds(Wr,t,e,r,n,s),!0;case"dragenter":return Gr=Ds(Gr,t,e,r,n,s),!0;case"mouseover":return Zr=Ds(Zr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return gi.set(i,Ds(gi.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,yi.set(i,Ds(yi.get(i)||null,t,e,r,n,s)),!0}return!1}function km(t){var e=xn(t.target);if(e!==null){var r=On(e);if(r!==null){if(e=r.tag,e===13){if(e=dm(r),e!==null){t.blockedOn=e,_m(t.priority,function(){wm(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ja(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=vc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);fc=n,r.target.dispatchEvent(n),fc=null}else return e=Bi(r),e!==null&&Du(e),t.blockedOn=r,!1;e.shift()}return!0}function pf(t,e,r){ja(t)&&r.delete(e)}function Wv(){yc=!1,Wr!==null&&ja(Wr)&&(Wr=null),Gr!==null&&ja(Gr)&&(Gr=null),Zr!==null&&ja(Zr)&&(Zr=null),gi.forEach(pf),yi.forEach(pf)}function Ms(t,e){t.blockedOn===e&&(t.blockedOn=null,yc||(yc=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,Wv)))}function vi(t){function e(s){return Ms(s,t)}if(0<ca.length){Ms(ca[0],t);for(var r=1;r<ca.length;r++){var n=ca[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Wr!==null&&Ms(Wr,t),Gr!==null&&Ms(Gr,t),Zr!==null&&Ms(Zr,t),gi.forEach(e),yi.forEach(e),r=0;r<Rr.length;r++)n=Rr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rr.length&&(r=Rr[0],r.blockedOn===null);)km(r),r.blockedOn===null&&Rr.shift()}var ss=br.ReactCurrentBatchConfig,Ka=!0;function Gv(t,e,r,n){var s=fe,i=ss.transition;ss.transition=null;try{fe=1,Mu(t,e,r,n)}finally{fe=s,ss.transition=i}}function Zv(t,e,r,n){var s=fe,i=ss.transition;ss.transition=null;try{fe=4,Mu(t,e,r,n)}finally{fe=s,ss.transition=i}}function Mu(t,e,r,n){if(Ka){var s=vc(t,e,r,n);if(s===null)Cl(t,e,n,Qa,r),hf(t,n);else if(Hv(s,t,e,r,n))n.stopPropagation();else if(hf(t,n),e&4&&-1<Bv.indexOf(t)){for(;s!==null;){var i=Bi(s);if(i!==null&&xm(i),i=vc(t,e,r,n),i===null&&Cl(t,e,n,Qa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Cl(t,e,n,null,r)}}var Qa=null;function vc(t,e,r,n){if(Qa=null,t=Ru(n),t=xn(t),t!==null)if(e=On(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dm(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qa=t,null}function Sm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ov()){case Ou:return 1;case mm:return 4;case Za:case Lv:return 16;case gm:return 536870912;default:return 16}default:return 16}}var $r=null,Uu=null,Ca=null;function Nm(){if(Ca)return Ca;var t,e=Uu,r=e.length,n,s="value"in $r?$r.value:$r.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Ca=s.slice(t,1<n?1-n:void 0)}function Ia(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ua(){return!0}function mf(){return!1}function xt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ua:mf,this.isPropagationStopped=mf,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),e}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=xt(Cs),Vi=ke({},Cs,{view:0,detail:0}),qv=xt(Vi),xl,wl,Us,Ro=ke({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Us&&(Us&&t.type==="mousemove"?(xl=t.screenX-Us.screenX,wl=t.screenY-Us.screenY):wl=xl=0,Us=t),xl)},movementY:function(t){return"movementY"in t?t.movementY:wl}}),gf=xt(Ro),Kv=ke({},Ro,{dataTransfer:0}),Qv=xt(Kv),Jv=ke({},Vi,{relatedTarget:0}),bl=xt(Jv),Yv=ke({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Xv=xt(Yv),ex=ke({},Cs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tx=xt(ex),rx=ke({},Cs,{data:0}),yf=xt(rx),nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ix={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ax(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ix[t])?!!e[t]:!1}function zu(){return ax}var ox=ke({},Vi,{key:function(t){if(t.key){var e=nx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ia(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(t){return t.type==="keypress"?Ia(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ia(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lx=xt(ox),cx=ke({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vf=xt(cx),ux=ke({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),dx=xt(ux),fx=ke({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),hx=xt(fx),px=ke({},Ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mx=xt(px),gx=[9,13,27,32],$u=hr&&"CompositionEvent"in window,ri=null;hr&&"documentMode"in document&&(ri=document.documentMode);var yx=hr&&"TextEvent"in window&&!ri,Em=hr&&(!$u||ri&&8<ri&&11>=ri),xf=" ",wf=!1;function jm(t,e){switch(t){case"keyup":return gx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function vx(t,e){switch(t){case"compositionend":return Cm(e);case"keypress":return e.which!==32?null:(wf=!0,xf);case"textInput":return t=e.data,t===xf&&wf?null:t;default:return null}}function xx(t,e){if(Hn)return t==="compositionend"||!$u&&jm(t,e)?(t=Nm(),Ca=Uu=$r=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Em&&e.locale!=="ko"?null:e.data;default:return null}}var wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wx[t.type]:e==="textarea"}function Im(t,e,r,n){am(n),e=Ja(e,"onChange"),0<e.length&&(r=new Fu("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ni=null,xi=null;function bx(t){zm(t,0)}function Oo(t){var e=Zn(t);if(Xp(e))return t}function _x(t,e){if(t==="change")return e}var Tm=!1;if(hr){var _l;if(hr){var kl="oninput"in document;if(!kl){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),kl=typeof _f.oninput=="function"}_l=kl}else _l=!1;Tm=_l&&(!document.documentMode||9<document.documentMode)}function kf(){ni&&(ni.detachEvent("onpropertychange",Pm),xi=ni=null)}function Pm(t){if(t.propertyName==="value"&&Oo(xi)){var e=[];Im(e,xi,t,Ru(t)),um(bx,e)}}function kx(t,e,r){t==="focusin"?(kf(),ni=e,xi=r,ni.attachEvent("onpropertychange",Pm)):t==="focusout"&&kf()}function Sx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oo(xi)}function Nx(t,e){if(t==="click")return Oo(e)}function Ex(t,e){if(t==="input"||t==="change")return Oo(e)}function jx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:jx;function wi(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ec.call(e,s)||!Ft(t[s],e[s]))return!1}return!0}function Sf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nf(t,e){var r=Sf(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sf(r)}}function Am(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Am(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rm(){for(var t=window,e=Ha();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ha(t.document)}return e}function Vu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cx(t){var e=Rm(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Am(r.ownerDocument.documentElement,r)){if(n!==null&&Vu(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Nf(r,i);var a=Nf(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ix=hr&&"documentMode"in document&&11>=document.documentMode,Wn=null,xc=null,si=null,wc=!1;function Ef(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wc||Wn==null||Wn!==Ha(n)||(n=Wn,"selectionStart"in n&&Vu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),si&&wi(si,n)||(si=n,n=Ja(xc,"onSelect"),0<n.length&&(e=new Fu("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wn)))}function da(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Gn={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionend:da("Transition","TransitionEnd")},Sl={},Om={};hr&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Lo(t){if(Sl[t])return Sl[t];if(!Gn[t])return t;var e=Gn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Om)return Sl[t]=e[r];return t}var Lm=Lo("animationend"),Dm=Lo("animationiteration"),Mm=Lo("animationstart"),Um=Lo("transitionend"),Fm=new Map,jf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(t,e){Fm.set(t,e),Rn(e,[t])}for(var Nl=0;Nl<jf.length;Nl++){var El=jf[Nl],Tx=El.toLowerCase(),Px=El[0].toUpperCase()+El.slice(1);cn(Tx,"on"+Px)}cn(Lm,"onAnimationEnd");cn(Dm,"onAnimationIteration");cn(Mm,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(Um,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function Cf(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Tv(n,e,void 0,t),t.currentTarget=null}function zm(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Cf(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Cf(s,l,u),i=c}}}if(Ga)throw t=mc,Ga=!1,mc=null,t}function ve(t,e){var r=e[Nc];r===void 0&&(r=e[Nc]=new Set);var n=t+"__bubble";r.has(n)||($m(e,t,2,!1),r.add(n))}function jl(t,e,r){var n=0;e&&(n|=4),$m(r,t,n,e)}var fa="_reactListening"+Math.random().toString(36).slice(2);function bi(t){if(!t[fa]){t[fa]=!0,qp.forEach(function(r){r!=="selectionchange"&&(Ax.has(r)||jl(r,!1,t),jl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fa]||(e[fa]=!0,jl("selectionchange",!1,e))}}function $m(t,e,r,n){switch(Sm(e)){case 1:var s=Gv;break;case 4:s=Zv;break;default:s=Mu}r=s.bind(null,e,r,t),s=void 0,!pc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Cl(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=xn(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}um(function(){var u=i,h=Ru(r),d=[];e:{var f=Fm.get(t);if(f!==void 0){var g=Fu,b=t;switch(t){case"keypress":if(Ia(r)===0)break e;case"keydown":case"keyup":g=lx;break;case"focusin":b="focus",g=bl;break;case"focusout":b="blur",g=bl;break;case"beforeblur":case"afterblur":g=bl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Qv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=dx;break;case Lm:case Dm:case Mm:g=Xv;break;case Um:g=hx;break;case"scroll":g=qv;break;case"wheel":g=mx;break;case"copy":case"cut":case"paste":g=tx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=vf}var w=(e&4)!==0,_=!w&&t==="scroll",m=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,y;p!==null;){y=p;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,m!==null&&(k=mi(p,m),k!=null&&w.push(_i(p,k,y)))),_)break;p=p.return}0<w.length&&(f=new g(f,b,null,r,h),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==fc&&(b=r.relatedTarget||r.fromElement)&&(xn(b)||b[pr]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=u,b=b?xn(b):null,b!==null&&(_=On(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(w=gf,k="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=vf,k="onPointerLeave",m="onPointerEnter",p="pointer"),_=g==null?f:Zn(g),y=b==null?f:Zn(b),f=new w(k,p+"leave",g,r,h),f.target=_,f.relatedTarget=y,k=null,xn(h)===u&&(w=new w(m,p+"enter",b,r,h),w.target=y,w.relatedTarget=_,k=w),_=k,g&&b)t:{for(w=g,m=b,p=0,y=w;y;y=Un(y))p++;for(y=0,k=m;k;k=Un(k))y++;for(;0<p-y;)w=Un(w),p--;for(;0<y-p;)m=Un(m),y--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=Un(w),m=Un(m)}w=null}else w=null;g!==null&&If(d,f,g,w,!1),b!==null&&_!==null&&If(d,_,b,w,!0)}}e:{if(f=u?Zn(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=_x;else if(bf(f))if(Tm)j=Ex;else{j=Sx;var R=kx}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Nx);if(j&&(j=j(t,u))){Im(d,j,r,h);break e}R&&R(t,f,u),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&oc(f,"number",f.value)}switch(R=u?Zn(u):window,t){case"focusin":(bf(R)||R.contentEditable==="true")&&(Wn=R,xc=u,si=null);break;case"focusout":si=xc=Wn=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Ef(d,r,h);break;case"selectionchange":if(Ix)break;case"keydown":case"keyup":Ef(d,r,h)}var E;if($u)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Hn?jm(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Em&&r.locale!=="ko"&&(Hn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Hn&&(E=Nm()):($r=h,Uu="value"in $r?$r.value:$r.textContent,Hn=!0)),R=Ja(u,T),0<R.length&&(T=new yf(T,t,null,r,h),d.push({event:T,listeners:R}),E?T.data=E:(E=Cm(r),E!==null&&(T.data=E)))),(E=yx?vx(t,r):xx(t,r))&&(u=Ja(u,"onBeforeInput"),0<u.length&&(h=new yf("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=E))}zm(d,e)})}function _i(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ja(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mi(t,r),i!=null&&n.unshift(_i(t,i,s)),i=mi(t,e),i!=null&&n.push(_i(t,i,s))),t=t.return}return n}function Un(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function If(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=mi(r,i),c!=null&&a.unshift(_i(r,c,l))):s||(c=mi(r,i),c!=null&&a.push(_i(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Rx=/\r\n?/g,Ox=/\u0000|\uFFFD/g;function Tf(t){return(typeof t=="string"?t:""+t).replace(Rx,`
`).replace(Ox,"")}function ha(t,e,r){if(e=Tf(e),Tf(t)!==e&&r)throw Error(I(425))}function Ya(){}var bc=null,_c=null;function kc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,Lx=typeof clearTimeout=="function"?clearTimeout:void 0,Pf=typeof Promise=="function"?Promise:void 0,Dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Pf<"u"?function(t){return Pf.resolve(null).then(t).catch(Mx)}:Sc;function Mx(t){setTimeout(function(){throw t})}function Il(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),vi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);vi(e)}function qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Af(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Is,ki="__reactProps$"+Is,pr="__reactContainer$"+Is,Nc="__reactEvents$"+Is,Ux="__reactListeners$"+Is,Fx="__reactHandles$"+Is;function xn(t){var e=t[Zt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pr]||r[Zt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Af(t);t!==null;){if(r=t[Zt])return r;t=Af(t)}return e}t=r,r=t.parentNode}return null}function Bi(t){return t=t[Zt]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Do(t){return t[ki]||null}var Ec=[],qn=-1;function un(t){return{current:t}}function xe(t){0>qn||(t.current=Ec[qn],Ec[qn]=null,qn--)}function ge(t,e){qn++,Ec[qn]=t.current,t.current=e}var an={},qe=un(an),ct=un(!1),Nn=an;function hs(t,e){var r=t.type.contextTypes;if(!r)return an;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ut(t){return t=t.childContextTypes,t!=null}function Xa(){xe(ct),xe(qe)}function Rf(t,e,r){if(qe.current!==an)throw Error(I(168));ge(qe,e),ge(ct,r)}function Vm(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(I(108,kv(t)||"Unknown",s));return ke({},r,n)}function eo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||an,Nn=qe.current,ge(qe,t),ge(ct,ct.current),!0}function Of(t,e,r){var n=t.stateNode;if(!n)throw Error(I(169));r?(t=Vm(t,e,Nn),n.__reactInternalMemoizedMergedChildContext=t,xe(ct),xe(qe),ge(qe,t)):xe(ct),ge(ct,r)}var ir=null,Mo=!1,Tl=!1;function Bm(t){ir===null?ir=[t]:ir.push(t)}function zx(t){Mo=!0,Bm(t)}function dn(){if(!Tl&&ir!==null){Tl=!0;var t=0,e=fe;try{var r=ir;for(fe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ir=null,Mo=!1}catch(s){throw ir!==null&&(ir=ir.slice(t+1)),pm(Ou,dn),s}finally{fe=e,Tl=!1}}return null}var Kn=[],Qn=0,to=null,ro=0,_t=[],kt=0,En=null,ar=1,or="";function gn(t,e){Kn[Qn++]=ro,Kn[Qn++]=to,to=t,ro=e}function Hm(t,e,r){_t[kt++]=ar,_t[kt++]=or,_t[kt++]=En,En=t;var n=ar;t=or;var s=32-Mt(n)-1;n&=~(1<<s),r+=1;var i=32-Mt(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ar=1<<32-Mt(e)+s|r<<s|n,or=i+t}else ar=1<<i|r<<s|n,or=t}function Bu(t){t.return!==null&&(gn(t,1),Hm(t,1,0))}function Hu(t){for(;t===to;)to=Kn[--Qn],Kn[Qn]=null,ro=Kn[--Qn],Kn[Qn]=null;for(;t===En;)En=_t[--kt],_t[kt]=null,or=_t[--kt],_t[kt]=null,ar=_t[--kt],_t[kt]=null}var mt=null,pt=null,we=!1,At=null;function Wm(t,e){var r=St(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Lf(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mt=t,pt=qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=En!==null?{id:ar,overflow:or}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=St(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,mt=t,pt=null,!0):!1;default:return!1}}function jc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cc(t){if(we){var e=pt;if(e){var r=e;if(!Lf(t,e)){if(jc(t))throw Error(I(418));e=qr(r.nextSibling);var n=mt;e&&Lf(t,e)?Wm(n,r):(t.flags=t.flags&-4097|2,we=!1,mt=t)}}else{if(jc(t))throw Error(I(418));t.flags=t.flags&-4097|2,we=!1,mt=t}}}function Df(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function pa(t){if(t!==mt)return!1;if(!we)return Df(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kc(t.type,t.memoizedProps)),e&&(e=pt)){if(jc(t))throw Gm(),Error(I(418));for(;e;)Wm(t,e),e=qr(e.nextSibling)}if(Df(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){pt=qr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=mt?qr(t.stateNode.nextSibling):null;return!0}function Gm(){for(var t=pt;t;)t=qr(t.nextSibling)}function ps(){pt=mt=null,we=!1}function Wu(t){At===null?At=[t]:At.push(t)}var $x=br.ReactCurrentBatchConfig;function Fs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,t))}return t}function ma(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mf(t){var e=t._init;return e(t._payload)}function Zm(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Yr(m,p),m.index=0,m.sibling=null,m}function i(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,y,k){return p===null||p.tag!==6?(p=Ml(y,m.mode,k),p.return=m,p):(p=s(p,y),p.return=m,p)}function c(m,p,y,k){var j=y.type;return j===Bn?h(m,p,y.props.children,k,y.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Tr&&Mf(j)===p.type)?(k=s(p,y.props),k.ref=Fs(m,p,y),k.return=m,k):(k=Da(y.type,y.key,y.props,null,m.mode,k),k.ref=Fs(m,p,y),k.return=m,k)}function u(m,p,y,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ul(y,m.mode,k),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function h(m,p,y,k,j){return p===null||p.tag!==7?(p=Sn(y,m.mode,k,j),p.return=m,p):(p=s(p,y),p.return=m,p)}function d(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ml(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case sa:return y=Da(p.type,p.key,p.props,null,m.mode,y),y.ref=Fs(m,null,p),y.return=m,y;case Vn:return p=Ul(p,m.mode,y),p.return=m,p;case Tr:var k=p._init;return d(m,k(p._payload),y)}if(qs(p)||Os(p))return p=Sn(p,m.mode,y,null),p.return=m,p;ma(m,p)}return null}function f(m,p,y,k){var j=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:l(m,p,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sa:return y.key===j?c(m,p,y,k):null;case Vn:return y.key===j?u(m,p,y,k):null;case Tr:return j=y._init,f(m,p,j(y._payload),k)}if(qs(y)||Os(y))return j!==null?null:h(m,p,y,k,null);ma(m,y)}return null}function g(m,p,y,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(y)||null,l(p,m,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case sa:return m=m.get(k.key===null?y:k.key)||null,c(p,m,k,j);case Vn:return m=m.get(k.key===null?y:k.key)||null,u(p,m,k,j);case Tr:var R=k._init;return g(m,p,y,R(k._payload),j)}if(qs(k)||Os(k))return m=m.get(y)||null,h(p,m,k,j,null);ma(p,k)}return null}function b(m,p,y,k){for(var j=null,R=null,E=p,T=p=0,q=null;E!==null&&T<y.length;T++){E.index>T?(q=E,E=null):q=E.sibling;var C=f(m,E,y[T],k);if(C===null){E===null&&(E=q);break}t&&E&&C.alternate===null&&e(m,E),p=i(C,p,T),R===null?j=C:R.sibling=C,R=C,E=q}if(T===y.length)return r(m,E),we&&gn(m,T),j;if(E===null){for(;T<y.length;T++)E=d(m,y[T],k),E!==null&&(p=i(E,p,T),R===null?j=E:R.sibling=E,R=E);return we&&gn(m,T),j}for(E=n(m,E);T<y.length;T++)q=g(E,m,T,y[T],k),q!==null&&(t&&q.alternate!==null&&E.delete(q.key===null?T:q.key),p=i(q,p,T),R===null?j=q:R.sibling=q,R=q);return t&&E.forEach(function(H){return e(m,H)}),we&&gn(m,T),j}function w(m,p,y,k){var j=Os(y);if(typeof j!="function")throw Error(I(150));if(y=j.call(y),y==null)throw Error(I(151));for(var R=j=null,E=p,T=p=0,q=null,C=y.next();E!==null&&!C.done;T++,C=y.next()){E.index>T?(q=E,E=null):q=E.sibling;var H=f(m,E,C.value,k);if(H===null){E===null&&(E=q);break}t&&E&&H.alternate===null&&e(m,E),p=i(H,p,T),R===null?j=H:R.sibling=H,R=H,E=q}if(C.done)return r(m,E),we&&gn(m,T),j;if(E===null){for(;!C.done;T++,C=y.next())C=d(m,C.value,k),C!==null&&(p=i(C,p,T),R===null?j=C:R.sibling=C,R=C);return we&&gn(m,T),j}for(E=n(m,E);!C.done;T++,C=y.next())C=g(E,m,T,C.value,k),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?T:C.key),p=i(C,p,T),R===null?j=C:R.sibling=C,R=C);return t&&E.forEach(function(P){return e(m,P)}),we&&gn(m,T),j}function _(m,p,y,k){if(typeof y=="object"&&y!==null&&y.type===Bn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case sa:e:{for(var j=y.key,R=p;R!==null;){if(R.key===j){if(j=y.type,j===Bn){if(R.tag===7){r(m,R.sibling),p=s(R,y.props.children),p.return=m,m=p;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Tr&&Mf(j)===R.type){r(m,R.sibling),p=s(R,y.props),p.ref=Fs(m,R,y),p.return=m,m=p;break e}r(m,R);break}else e(m,R);R=R.sibling}y.type===Bn?(p=Sn(y.props.children,m.mode,k,y.key),p.return=m,m=p):(k=Da(y.type,y.key,y.props,null,m.mode,k),k.ref=Fs(m,p,y),k.return=m,m=k)}return a(m);case Vn:e:{for(R=y.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=Ul(y,m.mode,k),p.return=m,m=p}return a(m);case Tr:return R=y._init,_(m,p,R(y._payload),k)}if(qs(y))return b(m,p,y,k);if(Os(y))return w(m,p,y,k);ma(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,y),p.return=m,m=p):(r(m,p),p=Ml(y,m.mode,k),p.return=m,m=p),a(m)):r(m,p)}return _}var ms=Zm(!0),qm=Zm(!1),no=un(null),so=null,Jn=null,Gu=null;function Zu(){Gu=Jn=so=null}function qu(t){var e=no.current;xe(no),t._currentValue=e}function Ic(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function is(t,e){so=t,Gu=Jn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lt=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(Gu!==t)if(t={context:t,memoizedValue:e,next:null},Jn===null){if(so===null)throw Error(I(308));Jn=t,so.dependencies={lanes:0,firstContext:t}}else Jn=Jn.next=t;return e}var wn=null;function Ku(t){wn===null?wn=[t]:wn.push(t)}function Km(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ku(e)):(r.next=s.next,s.next=r),e.interleaved=r,mr(t,n)}function mr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Pr=!1;function Qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,le&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,mr(t,r)}return s=n.interleaved,s===null?(e.next=e,Ku(n)):(e.next=s.next,s.next=e),n.interleaved=e,mr(t,r)}function Ta(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Lu(t,r)}}function Uf(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function io(t,e,r,n){var s=t.updateQueue;Pr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;a=0,h=u=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,w=l;switch(f=e,g=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){d=b.call(g,d,f);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,f=typeof b=="function"?b.call(g,d,f):b,f==null)break e;d=ke({},d,f);break e;case 2:Pr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=d):h=h.next=g,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Cn|=a,t.lanes=a,t.memoizedState=d}}function Ff(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var Hi={},Qt=un(Hi),Si=un(Hi),Ni=un(Hi);function bn(t){if(t===Hi)throw Error(I(174));return t}function Ju(t,e){switch(ge(Ni,e),ge(Si,t),ge(Qt,Hi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cc(e,t)}xe(Qt),ge(Qt,e)}function gs(){xe(Qt),xe(Si),xe(Ni)}function Jm(t){bn(Ni.current);var e=bn(Qt.current),r=cc(e,t.type);e!==r&&(ge(Si,t),ge(Qt,r))}function Yu(t){Si.current===t&&(xe(Qt),xe(Si))}var be=un(0);function ao(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pl=[];function Xu(){for(var t=0;t<Pl.length;t++)Pl[t]._workInProgressVersionPrimary=null;Pl.length=0}var Pa=br.ReactCurrentDispatcher,Al=br.ReactCurrentBatchConfig,jn=0,_e=null,Le=null,Fe=null,oo=!1,ii=!1,Ei=0,Vx=0;function We(){throw Error(I(321))}function ed(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ft(t[r],e[r]))return!1;return!0}function td(t,e,r,n,s,i){if(jn=i,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pa.current=t===null||t.memoizedState===null?Gx:Zx,t=r(n,s),ii){i=0;do{if(ii=!1,Ei=0,25<=i)throw Error(I(301));i+=1,Fe=Le=null,e.updateQueue=null,Pa.current=qx,t=r(n,s)}while(ii)}if(Pa.current=lo,e=Le!==null&&Le.next!==null,jn=0,Fe=Le=_e=null,oo=!1,e)throw Error(I(300));return t}function rd(){var t=Ei!==0;return Ei=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?_e.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function jt(){if(Le===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=Fe===null?_e.memoizedState:Fe.next;if(e!==null)Fe=e,Le=t;else{if(t===null)throw Error(I(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Fe===null?_e.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function ji(t,e){return typeof e=="function"?e(t):e}function Rl(t){var e=jt(),r=e.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=t;var n=Le,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((jn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=n):c=c.next=d,_e.lanes|=h,Cn|=h}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Ft(n,e.memoizedState)||(lt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,_e.lanes|=i,Cn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ol(t){var e=jt(),r=e.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Ft(i,e.memoizedState)||(lt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Ym(){}function Xm(t,e){var r=_e,n=jt(),s=e(),i=!Ft(n.memoizedState,s);if(i&&(n.memoizedState=s,lt=!0),n=n.queue,nd(rg.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,Ci(9,tg.bind(null,r,n,s,e),void 0,null),ze===null)throw Error(I(349));jn&30||eg(r,e,s)}return s}function eg(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function tg(t,e,r,n){e.value=r,e.getSnapshot=n,ng(e)&&sg(t)}function rg(t,e,r){return r(function(){ng(e)&&sg(t)})}function ng(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ft(t,r)}catch{return!0}}function sg(t){var e=mr(t,1);e!==null&&Ut(e,t,1,-1)}function zf(t){var e=Wt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},e.queue=t,t=t.dispatch=Wx.bind(null,_e,t),[e.memoizedState,t]}function Ci(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ig(){return jt().memoizedState}function Aa(t,e,r,n){var s=Wt();_e.flags|=t,s.memoizedState=Ci(1|e,r,void 0,n===void 0?null:n)}function Uo(t,e,r,n){var s=jt();n=n===void 0?null:n;var i=void 0;if(Le!==null){var a=Le.memoizedState;if(i=a.destroy,n!==null&&ed(n,a.deps)){s.memoizedState=Ci(e,r,i,n);return}}_e.flags|=t,s.memoizedState=Ci(1|e,r,i,n)}function $f(t,e){return Aa(8390656,8,t,e)}function nd(t,e){return Uo(2048,8,t,e)}function ag(t,e){return Uo(4,2,t,e)}function og(t,e){return Uo(4,4,t,e)}function lg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cg(t,e,r){return r=r!=null?r.concat([t]):null,Uo(4,4,lg.bind(null,e,t),r)}function sd(){}function ug(t,e){var r=jt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ed(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function dg(t,e){var r=jt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ed(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function fg(t,e,r){return jn&21?(Ft(r,e)||(r=ym(),_e.lanes|=r,Cn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lt=!0),t.memoizedState=r)}function Bx(t,e){var r=fe;fe=r!==0&&4>r?r:4,t(!0);var n=Al.transition;Al.transition={};try{t(!1),e()}finally{fe=r,Al.transition=n}}function hg(){return jt().memoizedState}function Hx(t,e,r){var n=Jr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pg(t))mg(e,r);else if(r=Km(t,e,r,n),r!==null){var s=rt();Ut(r,t,n,s),gg(r,e,n)}}function Wx(t,e,r){var n=Jr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pg(t))mg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Ft(l,a)){var c=e.interleaved;c===null?(s.next=s,Ku(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Km(t,e,s,n),r!==null&&(s=rt(),Ut(r,t,n,s),gg(r,e,n))}}function pg(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function mg(t,e){ii=oo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Lu(t,r)}}var lo={readContext:Et,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Gx={readContext:Et,useCallback:function(t,e){return Wt().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:$f,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Aa(4194308,4,lg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Aa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Aa(4,2,t,e)},useMemo:function(t,e){var r=Wt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Wt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Hx.bind(null,_e,t),[n.memoizedState,t]},useRef:function(t){var e=Wt();return t={current:t},e.memoizedState=t},useState:zf,useDebugValue:sd,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=zf(!1),e=t[0];return t=Bx.bind(null,t[1]),Wt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_e,s=Wt();if(we){if(r===void 0)throw Error(I(407));r=r()}else{if(r=e(),ze===null)throw Error(I(349));jn&30||eg(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,$f(rg.bind(null,n,i,t),[t]),n.flags|=2048,Ci(9,tg.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Wt(),e=ze.identifierPrefix;if(we){var r=or,n=ar;r=(n&~(1<<32-Mt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ei++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Vx++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Zx={readContext:Et,useCallback:ug,useContext:Et,useEffect:nd,useImperativeHandle:cg,useInsertionEffect:ag,useLayoutEffect:og,useMemo:dg,useReducer:Rl,useRef:ig,useState:function(){return Rl(ji)},useDebugValue:sd,useDeferredValue:function(t){var e=jt();return fg(e,Le.memoizedState,t)},useTransition:function(){var t=Rl(ji)[0],e=jt().memoizedState;return[t,e]},useMutableSource:Ym,useSyncExternalStore:Xm,useId:hg,unstable_isNewReconciler:!1},qx={readContext:Et,useCallback:ug,useContext:Et,useEffect:nd,useImperativeHandle:cg,useInsertionEffect:ag,useLayoutEffect:og,useMemo:dg,useReducer:Ol,useRef:ig,useState:function(){return Ol(ji)},useDebugValue:sd,useDeferredValue:function(t){var e=jt();return Le===null?e.memoizedState=t:fg(e,Le.memoizedState,t)},useTransition:function(){var t=Ol(ji)[0],e=jt().memoizedState;return[t,e]},useMutableSource:Ym,useSyncExternalStore:Xm,useId:hg,unstable_isNewReconciler:!1};function Tt(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Tc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ke({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Fo={isMounted:function(t){return(t=t._reactInternals)?On(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=rt(),s=Jr(t),i=ur(n,s);i.payload=e,r!=null&&(i.callback=r),e=Kr(t,i,s),e!==null&&(Ut(e,t,s,n),Ta(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=rt(),s=Jr(t),i=ur(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Kr(t,i,s),e!==null&&(Ut(e,t,s,n),Ta(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=rt(),n=Jr(t),s=ur(r,n);s.tag=2,e!=null&&(s.callback=e),e=Kr(t,s,n),e!==null&&(Ut(e,t,n,r),Ta(e,t,n))}};function Vf(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!wi(r,n)||!wi(s,i):!0}function yg(t,e,r){var n=!1,s=an,i=e.contextType;return typeof i=="object"&&i!==null?i=Et(i):(s=ut(e)?Nn:qe.current,n=e.contextTypes,i=(n=n!=null)?hs(t,s):an),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fo,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Fo.enqueueReplaceState(e,e.state,null)}function Pc(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Qu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Et(i):(i=ut(e)?Nn:qe.current,s.context=hs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Tc(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fo.enqueueReplaceState(s,s.state,null),io(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ys(t,e){try{var r="",n=e;do r+=_v(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ll(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ac(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Kx=typeof WeakMap=="function"?WeakMap:Map;function vg(t,e,r){r=ur(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){uo||(uo=!0,Vc=n),Ac(t,e)},r}function xg(t,e,r){r=ur(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ac(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ac(t,e),typeof n!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Hf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Kx;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=cw.bind(null,t,e,r),e.then(t,t))}function Wf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gf(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ur(-1,1),e.tag=2,Kr(r,e,1))),r.lanes|=1),t)}var Qx=br.ReactCurrentOwner,lt=!1;function tt(t,e,r,n){e.child=t===null?qm(e,null,r,n):ms(e,t.child,r,n)}function Zf(t,e,r,n,s){r=r.render;var i=e.ref;return is(e,s),n=td(t,e,r,n,i,s),r=rd(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gr(t,e,s)):(we&&r&&Bu(e),e.flags|=1,tt(t,e,n,s),e.child)}function qf(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!fd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,wg(t,e,i,n,s)):(t=Da(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:wi,r(a,n)&&t.ref===e.ref)return gr(t,e,s)}return e.flags|=1,t=Yr(i,n),t.ref=e.ref,t.return=e,e.child=t}function wg(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(wi(i,n)&&t.ref===e.ref)if(lt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,gr(t,e,s)}return Rc(t,e,r,n,s)}function bg(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Xn,ft),ft|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Xn,ft),ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ge(Xn,ft),ft|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,ge(Xn,ft),ft|=n;return tt(t,e,s,r),e.child}function _g(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Rc(t,e,r,n,s){var i=ut(r)?Nn:qe.current;return i=hs(e,i),is(e,s),r=td(t,e,r,n,i,s),n=rd(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gr(t,e,s)):(we&&n&&Bu(e),e.flags|=1,tt(t,e,r,s),e.child)}function Kf(t,e,r,n,s){if(ut(r)){var i=!0;eo(e)}else i=!1;if(is(e,s),e.stateNode===null)Ra(t,e),yg(e,r,n),Pc(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Et(u):(u=ut(r)?Nn:qe.current,u=hs(e,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Bf(e,a,n,u),Pr=!1;var f=e.memoizedState;a.state=f,io(e,n,a,s),c=e.memoizedState,l!==n||f!==c||ct.current||Pr?(typeof h=="function"&&(Tc(e,r,h,n),c=e.memoizedState),(l=Pr||Vf(e,r,l,n,f,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Qm(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Tt(e.type,l),a.props=u,d=e.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Et(c):(c=ut(r)?Nn:qe.current,c=hs(e,c));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||f!==c)&&Bf(e,a,n,c),Pr=!1,f=e.memoizedState,a.state=f,io(e,n,a,s);var b=e.memoizedState;l!==d||f!==b||ct.current||Pr?(typeof g=="function"&&(Tc(e,r,g,n),b=e.memoizedState),(u=Pr||Vf(e,r,u,n,f,b,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Oc(t,e,r,n,i,s)}function Oc(t,e,r,n,s,i){_g(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Of(e,r,!1),gr(t,e,i);n=e.stateNode,Qx.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=ms(e,t.child,null,i),e.child=ms(e,null,l,i)):tt(t,e,l,i),e.memoizedState=n.state,s&&Of(e,r,!0),e.child}function kg(t){var e=t.stateNode;e.pendingContext?Rf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rf(t,e.context,!1),Ju(t,e.containerInfo)}function Qf(t,e,r,n,s){return ps(),Wu(s),e.flags|=256,tt(t,e,r,n),e.child}var Lc={dehydrated:null,treeContext:null,retryLane:0};function Dc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sg(t,e,r){var n=e.pendingProps,s=be.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(be,s&1),t===null)return Cc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Vo(a,n,0,null),t=Sn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dc(r),e.memoizedState=Lc,t):id(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Jx(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Yr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Yr(l,i):(i=Sn(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Dc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Lc,n}return i=t.child,t=i.sibling,n=Yr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function id(t,e){return e=Vo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ga(t,e,r,n){return n!==null&&Wu(n),ms(e,t.child,null,r),t=id(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Jx(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=Ll(Error(I(422))),ga(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Vo({mode:"visible",children:n.children},s,0,null),i=Sn(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ms(e,t.child,null,a),e.child.memoizedState=Dc(a),e.memoizedState=Lc,i);if(!(e.mode&1))return ga(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(I(419)),n=Ll(i,n,void 0),ga(t,e,a,n)}if(l=(a&t.childLanes)!==0,lt||l){if(n=ze,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mr(t,s),Ut(n,t,s,-1))}return dd(),n=Ll(Error(I(421))),ga(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=uw.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pt=qr(s.nextSibling),mt=e,we=!0,At=null,t!==null&&(_t[kt++]=ar,_t[kt++]=or,_t[kt++]=En,ar=t.id,or=t.overflow,En=e),e=id(e,n.children),e.flags|=4096,e)}function Jf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ic(t.return,e,r)}function Dl(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Ng(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(tt(t,e,n.children,r),n=be.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jf(t,r,e);else if(t.tag===19)Jf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ge(be,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ao(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Dl(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ao(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Dl(e,!0,r,null,i);break;case"together":Dl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ra(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Cn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,r=Yr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Yx(t,e,r){switch(e.tag){case 3:kg(e),ps();break;case 5:Jm(e);break;case 1:ut(e.type)&&eo(e);break;case 4:Ju(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;ge(no,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ge(be,be.current&1),e.flags|=128,null):r&e.child.childLanes?Sg(t,e,r):(ge(be,be.current&1),t=gr(t,e,r),t!==null?t.sibling:null);ge(be,be.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ng(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(be,be.current),n)break;return null;case 22:case 23:return e.lanes=0,bg(t,e,r)}return gr(t,e,r)}var Eg,Mc,jg,Cg;Eg=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Mc=function(){};jg=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,bn(Qt.current);var i=null;switch(r){case"input":s=ic(t,s),n=ic(t,n),i=[];break;case"select":s=ke({},s,{value:void 0}),n=ke({},n,{value:void 0}),i=[];break;case"textarea":s=lc(t,s),n=lc(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ya)}uc(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Cg=function(t,e,r,n){r!==n&&(e.flags|=4)};function zs(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Xx(t,e,r){var n=e.pendingProps;switch(Hu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(e),null;case 1:return ut(e.type)&&Xa(),Ge(e),null;case 3:return n=e.stateNode,gs(),xe(ct),xe(qe),Xu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,At!==null&&(Wc(At),At=null))),Mc(t,e),Ge(e),null;case 5:Yu(e);var s=bn(Ni.current);if(r=e.type,t!==null&&e.stateNode!=null)jg(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(I(166));return Ge(e),null}if(t=bn(Qt.current),pa(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Zt]=e,n[ki]=i,t=(e.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(s=0;s<Qs.length;s++)ve(Qs[s],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":af(n,i),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ve("invalid",n);break;case"textarea":lf(n,i),ve("invalid",n)}uc(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ha(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ha(n.textContent,l,t),s=["children",""+l]):hi.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ve("scroll",n)}switch(r){case"input":ia(n),of(n,i,!0);break;case"textarea":ia(n),cf(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ya)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rm(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Zt]=e,t[ki]=n,Eg(t,e,!1,!1),e.stateNode=t;e:{switch(a=dc(r,n),r){case"dialog":ve("cancel",t),ve("close",t),s=n;break;case"iframe":case"object":case"embed":ve("load",t),s=n;break;case"video":case"audio":for(s=0;s<Qs.length;s++)ve(Qs[s],t);s=n;break;case"source":ve("error",t),s=n;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=n;break;case"details":ve("toggle",t),s=n;break;case"input":af(t,n),s=ic(t,n),ve("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ke({},n,{value:void 0}),ve("invalid",t);break;case"textarea":lf(t,n),s=lc(t,n),ve("invalid",t);break;default:s=n}uc(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?im(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nm(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&pi(t,c):typeof c=="number"&&pi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ve("scroll",t):c!=null&&Iu(t,i,c,a))}switch(r){case"input":ia(t),of(t,n,!1);break;case"textarea":ia(t),cf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+sn(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ts(t,!!n.multiple,i,!1):n.defaultValue!=null&&ts(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ya)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ge(e),null;case 6:if(t&&e.stateNode!=null)Cg(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(I(166));if(r=bn(Ni.current),bn(Qt.current),pa(e)){if(n=e.stateNode,r=e.memoizedProps,n[Zt]=e,(i=n.nodeValue!==r)&&(t=mt,t!==null))switch(t.tag){case 3:ha(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ha(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zt]=e,e.stateNode=n}return Ge(e),null;case 13:if(xe(be),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&pt!==null&&e.mode&1&&!(e.flags&128))Gm(),ps(),e.flags|=98560,i=!1;else if(i=pa(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(I(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Zt]=e}else ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ge(e),i=!1}else At!==null&&(Wc(At),At=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Me===0&&(Me=3):dd())),e.updateQueue!==null&&(e.flags|=4),Ge(e),null);case 4:return gs(),Mc(t,e),t===null&&bi(e.stateNode.containerInfo),Ge(e),null;case 10:return qu(e.type._context),Ge(e),null;case 17:return ut(e.type)&&Xa(),Ge(e),null;case 19:if(xe(be),i=e.memoizedState,i===null)return Ge(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)zs(i,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ao(t),a!==null){for(e.flags|=128,zs(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ge(be,be.current&1|2),e.child}t=t.sibling}i.tail!==null&&Te()>vs&&(e.flags|=128,n=!0,zs(i,!1),e.lanes=4194304)}else{if(!n)if(t=ao(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),zs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!we)return Ge(e),null}else 2*Te()-i.renderingStartTime>vs&&r!==1073741824&&(e.flags|=128,n=!0,zs(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Te(),e.sibling=null,r=be.current,ge(be,n?r&1|2:r&1),e):(Ge(e),null);case 22:case 23:return ud(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ft&1073741824&&(Ge(e),e.subtreeFlags&6&&(e.flags|=8192)):Ge(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function ew(t,e){switch(Hu(e),e.tag){case 1:return ut(e.type)&&Xa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gs(),xe(ct),xe(qe),Xu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yu(e),null;case 13:if(xe(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(be),null;case 4:return gs(),null;case 10:return qu(e.type._context),null;case 22:case 23:return ud(),null;case 24:return null;default:return null}}var ya=!1,Ze=!1,tw=typeof WeakSet=="function"?WeakSet:Set,F=null;function Yn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Se(t,e,n)}else r.current=null}function Uc(t,e,r){try{r()}catch(n){Se(t,e,n)}}var Yf=!1;function rw(t,e){if(bc=Ka,t=Rm(),Vu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==r||s!==0&&d.nodeType!==3||(l=a+s),d!==i||n!==0&&d.nodeType!==3||(c=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===r&&++u===s&&(l=a),f===i&&++h===n&&(c=a),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_c={focusedElem:t,selectionRange:r},Ka=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,_=b.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Tt(e.type,w),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(k){Se(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return b=Yf,Yf=!1,b}function ai(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Uc(e,r,i)}s=s.next}while(s!==n)}}function zo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Fc(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Ig(t){var e=t.alternate;e!==null&&(t.alternate=null,Ig(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zt],delete e[ki],delete e[Nc],delete e[Ux],delete e[Fx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tg(t){return t.tag===5||t.tag===3||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ya));else if(n!==4&&(t=t.child,t!==null))for(zc(t,e,r),t=t.sibling;t!==null;)zc(t,e,r),t=t.sibling}function $c(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for($c(t,e,r),t=t.sibling;t!==null;)$c(t,e,r),t=t.sibling}var Ve=null,Pt=!1;function Er(t,e,r){for(r=r.child;r!==null;)Pg(t,e,r),r=r.sibling}function Pg(t,e,r){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Ao,r)}catch{}switch(r.tag){case 5:Ze||Yn(r,e);case 6:var n=Ve,s=Pt;Ve=null,Er(t,e,r),Ve=n,Pt=s,Ve!==null&&(Pt?(t=Ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(Pt?(t=Ve,r=r.stateNode,t.nodeType===8?Il(t.parentNode,r):t.nodeType===1&&Il(t,r),vi(t)):Il(Ve,r.stateNode));break;case 4:n=Ve,s=Pt,Ve=r.stateNode.containerInfo,Pt=!0,Er(t,e,r),Ve=n,Pt=s;break;case 0:case 11:case 14:case 15:if(!Ze&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Uc(r,e,a),s=s.next}while(s!==n)}Er(t,e,r);break;case 1:if(!Ze&&(Yn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Se(r,e,l)}Er(t,e,r);break;case 21:Er(t,e,r);break;case 22:r.mode&1?(Ze=(n=Ze)||r.memoizedState!==null,Er(t,e,r),Ze=n):Er(t,e,r);break;default:Er(t,e,r)}}function eh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new tw),e.forEach(function(n){var s=dw.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function It(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ve=l.stateNode,Pt=!1;break e;case 3:Ve=l.stateNode.containerInfo,Pt=!0;break e;case 4:Ve=l.stateNode.containerInfo,Pt=!0;break e}l=l.return}if(Ve===null)throw Error(I(160));Pg(i,a,s),Ve=null,Pt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Se(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ag(e,t),e=e.sibling}function Ag(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(It(e,t),Ht(t),n&4){try{ai(3,t,t.return),zo(3,t)}catch(w){Se(t,t.return,w)}try{ai(5,t,t.return)}catch(w){Se(t,t.return,w)}}break;case 1:It(e,t),Ht(t),n&512&&r!==null&&Yn(r,r.return);break;case 5:if(It(e,t),Ht(t),n&512&&r!==null&&Yn(r,r.return),t.flags&32){var s=t.stateNode;try{pi(s,"")}catch(w){Se(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&em(s,i),dc(l,a);var u=dc(l,i);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];h==="style"?im(s,d):h==="dangerouslySetInnerHTML"?nm(s,d):h==="children"?pi(s,d):Iu(s,h,d,u)}switch(l){case"input":ac(s,i);break;case"textarea":tm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ts(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?ts(s,!!i.multiple,i.defaultValue,!0):ts(s,!!i.multiple,i.multiple?[]:"",!1))}s[ki]=i}catch(w){Se(t,t.return,w)}}break;case 6:if(It(e,t),Ht(t),n&4){if(t.stateNode===null)throw Error(I(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){Se(t,t.return,w)}}break;case 3:if(It(e,t),Ht(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vi(e.containerInfo)}catch(w){Se(t,t.return,w)}break;case 4:It(e,t),Ht(t);break;case 13:It(e,t),Ht(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ld=Te())),n&4&&eh(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Ze=(u=Ze)||h,It(e,t),Ze=u):It(e,t),Ht(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(F=t,h=t.child;h!==null;){for(d=F=h;F!==null;){switch(f=F,g=f.child,f.tag){case 0:case 11:case 14:case 15:ai(4,f,f.return);break;case 1:Yn(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){Se(n,r,w)}}break;case 5:Yn(f,f.return);break;case 22:if(f.memoizedState!==null){rh(d);continue}}g!==null?(g.return=f,F=g):rh(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=sm("display",a))}catch(w){Se(t,t.return,w)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Se(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:It(e,t),Ht(t),n&4&&eh(t);break;case 21:break;default:It(e,t),Ht(t)}}function Ht(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Tg(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(pi(s,""),n.flags&=-33);var i=Xf(t);$c(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Xf(t);zc(t,l,a);break;default:throw Error(I(161))}}catch(c){Se(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nw(t,e,r){F=t,Rg(t)}function Rg(t,e,r){for(var n=(t.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||ya;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ze;l=ya;var u=Ze;if(ya=a,(Ze=c)&&!u)for(F=s;F!==null;)a=F,c=a.child,a.tag===22&&a.memoizedState!==null?nh(s):c!==null?(c.return=a,F=c):nh(s);for(;i!==null;)F=i,Rg(i),i=i.sibling;F=s,ya=l,Ze=u}th(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):th(t)}}function th(t){for(;F!==null;){var e=F;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||zo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ze)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Tt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ff(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ff(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&vi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ze||e.flags&512&&Fc(e)}catch(f){Se(e,e.return,f)}}if(e===t){F=null;break}if(r=e.sibling,r!==null){r.return=e.return,F=r;break}F=e.return}}function rh(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var r=e.sibling;if(r!==null){r.return=e.return,F=r;break}F=e.return}}function nh(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{zo(4,e)}catch(c){Se(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Se(e,s,c)}}var i=e.return;try{Fc(e)}catch(c){Se(e,i,c)}break;case 5:var a=e.return;try{Fc(e)}catch(c){Se(e,a,c)}}}catch(c){Se(e,e.return,c)}if(e===t){F=null;break}var l=e.sibling;if(l!==null){l.return=e.return,F=l;break}F=e.return}}var sw=Math.ceil,co=br.ReactCurrentDispatcher,ad=br.ReactCurrentOwner,Nt=br.ReactCurrentBatchConfig,le=0,ze=null,Re=null,Be=0,ft=0,Xn=un(0),Me=0,Ii=null,Cn=0,$o=0,od=0,oi=null,ot=null,ld=0,vs=1/0,sr=null,uo=!1,Vc=null,Qr=null,va=!1,Vr=null,fo=0,li=0,Bc=null,Oa=-1,La=0;function rt(){return le&6?Te():Oa!==-1?Oa:Oa=Te()}function Jr(t){return t.mode&1?le&2&&Be!==0?Be&-Be:$x.transition!==null?(La===0&&(La=ym()),La):(t=fe,t!==0||(t=window.event,t=t===void 0?16:Sm(t.type)),t):1}function Ut(t,e,r,n){if(50<li)throw li=0,Bc=null,Error(I(185));$i(t,r,n),(!(le&2)||t!==ze)&&(t===ze&&(!(le&2)&&($o|=r),Me===4&&Or(t,Be)),dt(t,n),r===1&&le===0&&!(e.mode&1)&&(vs=Te()+500,Mo&&dn()))}function dt(t,e){var r=t.callbackNode;$v(t,e);var n=qa(t,t===ze?Be:0);if(n===0)r!==null&&ff(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ff(r),e===1)t.tag===0?zx(sh.bind(null,t)):Bm(sh.bind(null,t)),Dx(function(){!(le&6)&&dn()}),r=null;else{switch(vm(n)){case 1:r=Ou;break;case 4:r=mm;break;case 16:r=Za;break;case 536870912:r=gm;break;default:r=Za}r=$g(r,Og.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Og(t,e){if(Oa=-1,La=0,le&6)throw Error(I(327));var r=t.callbackNode;if(as()&&t.callbackNode!==r)return null;var n=qa(t,t===ze?Be:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ho(t,n);else{e=n;var s=le;le|=2;var i=Dg();(ze!==t||Be!==e)&&(sr=null,vs=Te()+500,kn(t,e));do try{ow();break}catch(l){Lg(t,l)}while(!0);Zu(),co.current=i,le=s,Re!==null?e=0:(ze=null,Be=0,e=Me)}if(e!==0){if(e===2&&(s=gc(t),s!==0&&(n=s,e=Hc(t,s))),e===1)throw r=Ii,kn(t,0),Or(t,n),dt(t,Te()),r;if(e===6)Or(t,n);else{if(s=t.current.alternate,!(n&30)&&!iw(s)&&(e=ho(t,n),e===2&&(i=gc(t),i!==0&&(n=i,e=Hc(t,i))),e===1))throw r=Ii,kn(t,0),Or(t,n),dt(t,Te()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(I(345));case 2:yn(t,ot,sr);break;case 3:if(Or(t,n),(n&130023424)===n&&(e=ld+500-Te(),10<e)){if(qa(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sc(yn.bind(null,t,ot,sr),e);break}yn(t,ot,sr);break;case 4:if(Or(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Mt(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=Te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sw(n/1960))-n,10<n){t.timeoutHandle=Sc(yn.bind(null,t,ot,sr),n);break}yn(t,ot,sr);break;case 5:yn(t,ot,sr);break;default:throw Error(I(329))}}}return dt(t,Te()),t.callbackNode===r?Og.bind(null,t):null}function Hc(t,e){var r=oi;return t.current.memoizedState.isDehydrated&&(kn(t,e).flags|=256),t=ho(t,e),t!==2&&(e=ot,ot=r,e!==null&&Wc(e)),t}function Wc(t){ot===null?ot=t:ot.push.apply(ot,t)}function iw(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ft(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(t,e){for(e&=~od,e&=~$o,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Mt(e),n=1<<r;t[r]=-1,e&=~n}}function sh(t){if(le&6)throw Error(I(327));as();var e=qa(t,0);if(!(e&1))return dt(t,Te()),null;var r=ho(t,e);if(t.tag!==0&&r===2){var n=gc(t);n!==0&&(e=n,r=Hc(t,n))}if(r===1)throw r=Ii,kn(t,0),Or(t,e),dt(t,Te()),r;if(r===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yn(t,ot,sr),dt(t,Te()),null}function cd(t,e){var r=le;le|=1;try{return t(e)}finally{le=r,le===0&&(vs=Te()+500,Mo&&dn())}}function In(t){Vr!==null&&Vr.tag===0&&!(le&6)&&as();var e=le;le|=1;var r=Nt.transition,n=fe;try{if(Nt.transition=null,fe=1,t)return t()}finally{fe=n,Nt.transition=r,le=e,!(le&6)&&dn()}}function ud(){ft=Xn.current,xe(Xn)}function kn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Lx(r)),Re!==null)for(r=Re.return;r!==null;){var n=r;switch(Hu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xa();break;case 3:gs(),xe(ct),xe(qe),Xu();break;case 5:Yu(n);break;case 4:gs();break;case 13:xe(be);break;case 19:xe(be);break;case 10:qu(n.type._context);break;case 22:case 23:ud()}r=r.return}if(ze=t,Re=t=Yr(t.current,null),Be=ft=e,Me=0,Ii=null,od=$o=Cn=0,ot=oi=null,wn!==null){for(e=0;e<wn.length;e++)if(r=wn[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}wn=null}return t}function Lg(t,e){do{var r=Re;try{if(Zu(),Pa.current=lo,oo){for(var n=_e.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}oo=!1}if(jn=0,Fe=Le=_e=null,ii=!1,Ei=0,ad.current=null,r===null||r.return===null){Me=1,Ii=e,Re=null;break}e:{var i=t,a=r.return,l=r,c=e;if(e=Be,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Wf(a);if(g!==null){g.flags&=-257,Gf(g,a,l,i,e),g.mode&1&&Hf(i,u,e),e=g,c=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(c),e.updateQueue=w}else b.add(c);break e}else{if(!(e&1)){Hf(i,u,e),dd();break e}c=Error(I(426))}}else if(we&&l.mode&1){var _=Wf(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Gf(_,a,l,i,e),Wu(ys(c,l));break e}}i=c=ys(c,l),Me!==4&&(Me=2),oi===null?oi=[i]:oi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=vg(i,c,e);Uf(i,m);break e;case 1:l=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qr===null||!Qr.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=xg(i,l,e);Uf(i,k);break e}}i=i.return}while(i!==null)}Ug(r)}catch(j){e=j,Re===r&&r!==null&&(Re=r=r.return);continue}break}while(!0)}function Dg(){var t=co.current;return co.current=lo,t===null?lo:t}function dd(){(Me===0||Me===3||Me===2)&&(Me=4),ze===null||!(Cn&268435455)&&!($o&268435455)||Or(ze,Be)}function ho(t,e){var r=le;le|=2;var n=Dg();(ze!==t||Be!==e)&&(sr=null,kn(t,e));do try{aw();break}catch(s){Lg(t,s)}while(!0);if(Zu(),le=r,co.current=n,Re!==null)throw Error(I(261));return ze=null,Be=0,Me}function aw(){for(;Re!==null;)Mg(Re)}function ow(){for(;Re!==null&&!Av();)Mg(Re)}function Mg(t){var e=zg(t.alternate,t,ft);t.memoizedProps=t.pendingProps,e===null?Ug(t):Re=e,ad.current=null}function Ug(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ew(r,e),r!==null){r.flags&=32767,Re=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,Re=null;return}}else if(r=Xx(r,e,ft),r!==null){Re=r;return}if(e=e.sibling,e!==null){Re=e;return}Re=e=t}while(e!==null);Me===0&&(Me=5)}function yn(t,e,r){var n=fe,s=Nt.transition;try{Nt.transition=null,fe=1,lw(t,e,r,n)}finally{Nt.transition=s,fe=n}return null}function lw(t,e,r,n){do as();while(Vr!==null);if(le&6)throw Error(I(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Vv(t,i),t===ze&&(Re=ze=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||va||(va=!0,$g(Za,function(){return as(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Nt.transition,Nt.transition=null;var a=fe;fe=1;var l=le;le|=4,ad.current=null,rw(t,r),Ag(r,t),Cx(_c),Ka=!!bc,_c=bc=null,t.current=r,nw(r),Rv(),le=l,fe=a,Nt.transition=i}else t.current=r;if(va&&(va=!1,Vr=t,fo=s),i=t.pendingLanes,i===0&&(Qr=null),Dv(r.stateNode),dt(t,Te()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(uo)throw uo=!1,t=Vc,Vc=null,t;return fo&1&&t.tag!==0&&as(),i=t.pendingLanes,i&1?t===Bc?li++:(li=0,Bc=t):li=0,dn(),null}function as(){if(Vr!==null){var t=vm(fo),e=Nt.transition,r=fe;try{if(Nt.transition=null,fe=16>t?16:t,Vr===null)var n=!1;else{if(t=Vr,Vr=null,fo=0,le&6)throw Error(I(331));var s=le;for(le|=4,F=t.current;F!==null;){var i=F,a=i.child;if(F.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(F=u;F!==null;){var h=F;switch(h.tag){case 0:case 11:case 15:ai(8,h,i)}var d=h.child;if(d!==null)d.return=h,F=d;else for(;F!==null;){h=F;var f=h.sibling,g=h.return;if(Ig(h),h===u){F=null;break}if(f!==null){f.return=g,F=f;break}F=g}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}F=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,F=a;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ai(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,F=m;break e}F=i.return}}var p=t.current;for(F=p;F!==null;){a=F;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,F=y;else e:for(a=p;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zo(9,l)}}catch(j){Se(l,l.return,j)}if(l===a){F=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,F=k;break e}F=l.return}}if(le=s,dn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Ao,t)}catch{}n=!0}return n}finally{fe=r,Nt.transition=e}}return!1}function ih(t,e,r){e=ys(r,e),e=vg(t,e,1),t=Kr(t,e,1),e=rt(),t!==null&&($i(t,1,e),dt(t,e))}function Se(t,e,r){if(t.tag===3)ih(t,t,r);else for(;e!==null;){if(e.tag===3){ih(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qr===null||!Qr.has(n))){t=ys(r,t),t=xg(e,t,1),e=Kr(e,t,1),t=rt(),e!==null&&($i(e,1,t),dt(e,t));break}}e=e.return}}function cw(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&r,ze===t&&(Be&r)===r&&(Me===4||Me===3&&(Be&130023424)===Be&&500>Te()-ld?kn(t,0):od|=r),dt(t,e)}function Fg(t,e){e===0&&(t.mode&1?(e=la,la<<=1,!(la&130023424)&&(la=4194304)):e=1);var r=rt();t=mr(t,e),t!==null&&($i(t,e,r),dt(t,r))}function uw(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Fg(t,r)}function dw(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(e),Fg(t,r)}var zg;zg=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)lt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return lt=!1,Yx(t,e,r);lt=!!(t.flags&131072)}else lt=!1,we&&e.flags&1048576&&Hm(e,ro,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ra(t,e),t=e.pendingProps;var s=hs(e,qe.current);is(e,r),s=td(null,e,n,t,s,r);var i=rd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(n)?(i=!0,eo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qu(e),s.updater=Fo,e.stateNode=s,s._reactInternals=e,Pc(e,n,t,r),e=Oc(null,e,n,!0,i,r)):(e.tag=0,we&&i&&Bu(e),tt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ra(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=hw(n),t=Tt(n,t),s){case 0:e=Rc(null,e,n,t,r);break e;case 1:e=Kf(null,e,n,t,r);break e;case 11:e=Zf(null,e,n,t,r);break e;case 14:e=qf(null,e,n,Tt(n.type,t),r);break e}throw Error(I(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),Rc(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),Kf(t,e,n,s,r);case 3:e:{if(kg(e),t===null)throw Error(I(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Qm(t,e),io(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ys(Error(I(423)),e),e=Qf(t,e,n,r,s);break e}else if(n!==s){s=ys(Error(I(424)),e),e=Qf(t,e,n,r,s);break e}else for(pt=qr(e.stateNode.containerInfo.firstChild),mt=e,we=!0,At=null,r=qm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ps(),n===s){e=gr(t,e,r);break e}tt(t,e,n,r)}e=e.child}return e;case 5:return Jm(e),t===null&&Cc(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,kc(n,s)?a=null:i!==null&&kc(n,i)&&(e.flags|=32),_g(t,e),tt(t,e,a,r),e.child;case 6:return t===null&&Cc(e),null;case 13:return Sg(t,e,r);case 4:return Ju(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ms(e,null,n,r):tt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),Zf(t,e,n,s,r);case 7:return tt(t,e,e.pendingProps,r),e.child;case 8:return tt(t,e,e.pendingProps.children,r),e.child;case 12:return tt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ge(no,n._currentValue),n._currentValue=a,i!==null)if(Ft(i.value,a)){if(i.children===s.children&&!ct.current){e=gr(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ur(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ic(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(I(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Ic(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}tt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,is(e,r),s=Et(s),n=n(s),e.flags|=1,tt(t,e,n,r),e.child;case 14:return n=e.type,s=Tt(n,e.pendingProps),s=Tt(n.type,s),qf(t,e,n,s,r);case 15:return wg(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Tt(n,s),Ra(t,e),e.tag=1,ut(n)?(t=!0,eo(e)):t=!1,is(e,r),yg(e,n,s),Pc(e,n,s,r),Oc(null,e,n,!0,t,r);case 19:return Ng(t,e,r);case 22:return bg(t,e,r)}throw Error(I(156,e.tag))};function $g(t,e){return pm(t,e)}function fw(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,r,n){return new fw(t,e,r,n)}function fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hw(t){if(typeof t=="function")return fd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pu)return 11;if(t===Au)return 14}return 2}function Yr(t,e){var r=t.alternate;return r===null?(r=St(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Da(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")fd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Bn:return Sn(r.children,s,i,e);case Tu:a=8,s|=8;break;case tc:return t=St(12,r,e,s|2),t.elementType=tc,t.lanes=i,t;case rc:return t=St(13,r,e,s),t.elementType=rc,t.lanes=i,t;case nc:return t=St(19,r,e,s),t.elementType=nc,t.lanes=i,t;case Jp:return Vo(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kp:a=10;break e;case Qp:a=9;break e;case Pu:a=11;break e;case Au:a=14;break e;case Tr:a=16,n=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=St(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Sn(t,e,r,n){return t=St(7,t,n,e),t.lanes=r,t}function Vo(t,e,r,n){return t=St(22,t,n,e),t.elementType=Jp,t.lanes=r,t.stateNode={isHidden:!1},t}function Ml(t,e,r){return t=St(6,t,null,e),t.lanes=r,t}function Ul(t,e,r){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pw(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vl(0),this.expirationTimes=vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hd(t,e,r,n,s,i,a,l,c){return t=new pw(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=St(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(i),t}function mw(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Vg(t){if(!t)return an;t=t._reactInternals;e:{if(On(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var r=t.type;if(ut(r))return Vm(t,r,e)}return e}function Bg(t,e,r,n,s,i,a,l,c){return t=hd(r,n,!0,t,s,i,a,l,c),t.context=Vg(null),r=t.current,n=rt(),s=Jr(r),i=ur(n,s),i.callback=e??null,Kr(r,i,s),t.current.lanes=s,$i(t,s,n),dt(t,n),t}function Bo(t,e,r,n){var s=e.current,i=rt(),a=Jr(s);return r=Vg(r),e.context===null?e.context=r:e.pendingContext=r,e=ur(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Kr(s,e,a),t!==null&&(Ut(t,s,a,i),Ta(t,s,a)),a}function po(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ah(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function pd(t,e){ah(t,e),(t=t.alternate)&&ah(t,e)}function gw(){return null}var Hg=typeof reportError=="function"?reportError:function(t){console.error(t)};function md(t){this._internalRoot=t}Ho.prototype.render=md.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Bo(t,e,null,null)};Ho.prototype.unmount=md.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;In(function(){Bo(null,t,null,null)}),e[pr]=null}};function Ho(t){this._internalRoot=t}Ho.prototype.unstable_scheduleHydration=function(t){if(t){var e=bm();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rr.length&&e!==0&&e<Rr[r].priority;r++);Rr.splice(r,0,t),r===0&&km(t)}};function gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oh(){}function yw(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=po(a);i.call(u)}}var a=Bg(e,n,t,0,null,!1,!1,"",oh);return t._reactRootContainer=a,t[pr]=a.current,bi(t.nodeType===8?t.parentNode:t),In(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=po(c);l.call(u)}}var c=hd(t,0,!1,null,null,!1,!1,"",oh);return t._reactRootContainer=c,t[pr]=c.current,bi(t.nodeType===8?t.parentNode:t),In(function(){Bo(e,c,r,n)}),c}function Go(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=po(a);l.call(c)}}Bo(e,a,t,s)}else a=yw(r,e,t,s,n);return po(a)}xm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ks(e.pendingLanes);r!==0&&(Lu(e,r|1),dt(e,Te()),!(le&6)&&(vs=Te()+500,dn()))}break;case 13:In(function(){var n=mr(t,1);if(n!==null){var s=rt();Ut(n,t,1,s)}}),pd(t,1)}};Du=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var r=rt();Ut(e,t,134217728,r)}pd(t,134217728)}};wm=function(t){if(t.tag===13){var e=Jr(t),r=mr(t,e);if(r!==null){var n=rt();Ut(r,t,e,n)}pd(t,e)}};bm=function(){return fe};_m=function(t,e){var r=fe;try{return fe=t,e()}finally{fe=r}};hc=function(t,e,r){switch(e){case"input":if(ac(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Do(n);if(!s)throw Error(I(90));Xp(n),ac(n,s)}}}break;case"textarea":tm(t,r);break;case"select":e=r.value,e!=null&&ts(t,!!r.multiple,e,!1)}};lm=cd;cm=In;var vw={usingClientEntryPoint:!1,Events:[Bi,Zn,Do,am,om,cd]},$s={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xw={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fm(t),t===null?null:t.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||gw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{Ao=xa.inject(xw),Kt=xa}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vw;vt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gd(e))throw Error(I(200));return mw(t,e,null,r)};vt.createRoot=function(t,e){if(!gd(t))throw Error(I(299));var r=!1,n="",s=Hg;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=hd(t,1,!1,null,null,r,!1,n,s),t[pr]=e.current,bi(t.nodeType===8?t.parentNode:t),new md(e)};vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=fm(e),t=t===null?null:t.stateNode,t};vt.flushSync=function(t){return In(t)};vt.hydrate=function(t,e,r){if(!Wo(e))throw Error(I(200));return Go(null,t,e,!0,r)};vt.hydrateRoot=function(t,e,r){if(!gd(t))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Hg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Bg(e,null,t,1,r??null,s,!1,i,a),t[pr]=e.current,bi(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ho(e)};vt.render=function(t,e,r){if(!Wo(e))throw Error(I(200));return Go(null,t,e,!1,r)};vt.unmountComponentAtNode=function(t){if(!Wo(t))throw Error(I(40));return t._reactRootContainer?(In(function(){Go(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};vt.unstable_batchedUpdates=cd;vt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Wo(r))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Go(t,e,r,!1,n)};vt.version="18.3.1-next-f1338f8080-20240426";function Wg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wg)}catch(t){console.error(t)}}Wg(),Wp.exports=vt;var ww=Wp.exports,lh=ww;Xl.createRoot=lh.createRoot,Xl.hydrateRoot=lh.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ti(){return Ti=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ti.apply(this,arguments)}var Br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Br||(Br={}));const ch="popstate";function bw(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:l}=n.location;return Gc("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:mo(s)}return kw(e,r,null,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _w(){return Math.random().toString(36).substr(2,8)}function uh(t,e){return{usr:t.state,key:t.key,idx:e}}function Gc(t,e,r,n){return r===void 0&&(r=null),Ti({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ts(e):e,{state:r,key:e&&e.key||n||_w()})}function mo(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ts(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function kw(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Br.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(Ti({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){l=Br.Pop;let _=h(),m=_==null?null:_-u;u=_,c&&c({action:l,location:w.location,delta:m})}function f(_,m){l=Br.Push;let p=Gc(w.location,_,m);u=h()+1;let y=uh(p,u),k=w.createHref(p);try{a.pushState(y,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}i&&c&&c({action:l,location:w.location,delta:1})}function g(_,m){l=Br.Replace;let p=Gc(w.location,_,m);u=h();let y=uh(p,u),k=w.createHref(p);a.replaceState(y,"",k),i&&c&&c({action:l,location:w.location,delta:0})}function b(_){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:mo(_);return p=p.replace(/ $/,"%20"),Ee(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let w={get action(){return l},get location(){return t(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ch,d),c=_,()=>{s.removeEventListener(ch,d),c=null}},createHref(_){return e(s,_)},createURL:b,encodeLocation(_){let m=b(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:g,go(_){return a.go(_)}};return w}var dh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dh||(dh={}));function Sw(t,e,r){return r===void 0&&(r="/"),Nw(t,e,r)}function Nw(t,e,r,n){let s=typeof e=="string"?Ts(e):e,i=xs(s.pathname||"/",r);if(i==null)return null;let a=Gg(t);Ew(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Mw(i);l=Lw(a[c],u)}return l}function Gg(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Ee(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Xr([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(Ee(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gg(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Rw(u,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of Zg(i.path))s(i,a,c)}),e}function Zg(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Zg(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Ew(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Ow(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jw=/^:[\w-]+$/,Cw=3,Iw=2,Tw=1,Pw=10,Aw=-2,fh=t=>t==="*";function Rw(t,e){let r=t.split("/"),n=r.length;return r.some(fh)&&(n+=Aw),e&&(n+=Iw),r.filter(s=>!fh(s)).reduce((s,i)=>s+(jw.test(i)?Cw:i===""?Tw:Pw),n)}function Ow(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Lw(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=Zc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Xr([i,d.pathname]),pathnameBase:Vw(Xr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Xr([i,d.pathnameBase]))}return a}function Zc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Dw(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let w=l[d]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=l[d];return g&&!b?u[f]=void 0:u[f]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function Dw(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),yd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Mw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fw=t=>Uw.test(t);function zw(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Ts(t):t,i;if(r)if(Fw(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),yd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=hh(r.substring(1),"/"):i=hh(r,e)}else i=e;return{pathname:i,search:Bw(n),hash:Hw(s)}}function hh(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Fl(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $w(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qg(t,e){let r=$w(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Kg(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Ts(t):(s=Ti({},t),Ee(!s.pathname||!s.pathname.includes("?"),Fl("?","pathname","search",s)),Ee(!s.pathname||!s.pathname.includes("#"),Fl("#","pathname","hash",s)),Ee(!s.search||!s.search.includes("#"),Fl("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}l=d>=0?e[d]:"/"}let c=zw(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Xr=t=>t.join("/").replace(/\/\/+/g,"/"),Vw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ww(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Qg=["post","put","patch","delete"];new Set(Qg);const Gw=["get",...Qg];new Set(Gw);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pi(){return Pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pi.apply(this,arguments)}const Zo=v.createContext(null),Jg=v.createContext(null),fn=v.createContext(null),qo=v.createContext(null),_r=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Yg=v.createContext(null);function Zw(t,e){let{relative:r}=e===void 0?{}:e;Wi()||Ee(!1);let{basename:n,navigator:s}=v.useContext(fn),{hash:i,pathname:a,search:l}=Ko(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Xr([n,a])),s.createHref({pathname:c,search:l,hash:i})}function Wi(){return v.useContext(qo)!=null}function hn(){return Wi()||Ee(!1),v.useContext(qo).location}function Xg(t){v.useContext(fn).static||v.useLayoutEffect(t)}function $t(){let{isDataRoute:t}=v.useContext(_r);return t?lb():qw()}function qw(){Wi()||Ee(!1);let t=v.useContext(Zo),{basename:e,future:r,navigator:n}=v.useContext(fn),{matches:s}=v.useContext(_r),{pathname:i}=hn(),a=JSON.stringify(qg(s,r.v7_relativeSplatPath)),l=v.useRef(!1);return Xg(()=>{l.current=!0}),v.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Kg(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Xr([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,a,i,t])}const Kw=v.createContext(null);function Qw(t){let e=v.useContext(_r).outlet;return e&&v.createElement(Kw.Provider,{value:t},e)}function vd(){let{matches:t}=v.useContext(_r),e=t[t.length-1];return e?e.params:{}}function Ko(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(fn),{matches:s}=v.useContext(_r),{pathname:i}=hn(),a=JSON.stringify(qg(s,n.v7_relativeSplatPath));return v.useMemo(()=>Kg(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Jw(t,e){return Yw(t,e)}function Yw(t,e,r,n){Wi()||Ee(!1);let{navigator:s}=v.useContext(fn),{matches:i}=v.useContext(_r),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=hn(),h;if(e){var d;let _=typeof e=="string"?Ts(e):e;c==="/"||(d=_.pathname)!=null&&d.startsWith(c)||Ee(!1),h=_}else h=u;let f=h.pathname||"/",g=f;if(c!=="/"){let _=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=Sw(t,{pathname:g}),w=nb(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Xr([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Xr([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return e&&w?v.createElement(qo.Provider,{value:{location:Pi({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Br.Pop}},w):w}function Xw(){let t=ob(),e=Ww(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:s},r):null,null)}const eb=v.createElement(Xw,null);class tb extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(_r.Provider,{value:this.props.routeContext},v.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rb(t){let{routeContext:e,match:r,children:n}=t,s=v.useContext(Zo);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(_r.Provider,{value:e},n)}function nb(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||Ee(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:g}=r,b=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,f)=>{let g,b=!1,w=null,_=null;r&&(g=l&&d.route.id?l[d.route.id]:void 0,w=d.route.errorElement||eb,c&&(u<0&&f===0?(cb("route-fallback"),b=!0,_=null):u===f&&(b=!0,_=d.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),p=()=>{let y;return g?y=w:b?y=_:d.route.Component?y=v.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=h,v.createElement(rb,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(tb,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var ey=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ey||{}),ty=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ty||{});function sb(t){let e=v.useContext(Zo);return e||Ee(!1),e}function ib(t){let e=v.useContext(Jg);return e||Ee(!1),e}function ab(t){let e=v.useContext(_r);return e||Ee(!1),e}function ry(t){let e=ab(),r=e.matches[e.matches.length-1];return r.route.id||Ee(!1),r.route.id}function ob(){var t;let e=v.useContext(Yg),r=ib(),n=ry();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function lb(){let{router:t}=sb(ey.UseNavigateStable),e=ry(ty.UseNavigateStable),r=v.useRef(!1);return Xg(()=>{r.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Pi({fromRouteId:e},i)))},[t,e])}const ph={};function cb(t,e,r){ph[t]||(ph[t]=!0)}function ub(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function db(t){return Qw(t.context)}function Je(t){Ee(!1)}function fb(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Br.Pop,navigator:i,static:a=!1,future:l}=t;Wi()&&Ee(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:a,future:Pi({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=Ts(n));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:b="default"}=n,w=v.useMemo(()=>{let _=xs(h,c);return _==null?null:{location:{pathname:_,search:d,hash:f,state:g,key:b},navigationType:s}},[c,h,d,f,g,b,s]);return w==null?null:v.createElement(fn.Provider,{value:u},v.createElement(qo.Provider,{children:r,value:w}))}function hb(t){let{children:e,location:r}=t;return Jw(qc(e),r)}new Promise(()=>{});function qc(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,s)=>{if(!v.isValidElement(n))return;let i=[...e,s];if(n.type===v.Fragment){r.push.apply(r,qc(n.props.children,i));return}n.type!==Je&&Ee(!1),!n.props.index||!n.props.children||Ee(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=qc(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},go.apply(this,arguments)}function ny(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function pb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mb(t,e){return t.button===0&&(!e||e==="_self")&&!pb(t)}function Kc(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function gb(t,e){let r=Kc(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const yb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vb=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],xb="6";try{window.__reactRouterVersion=xb}catch{}const wb=v.createContext({isTransitioning:!1}),bb="startTransition",mh=cv[bb];function zl(t){let{basename:e,children:r,future:n,window:s}=t,i=v.useRef();i.current==null&&(i.current=bw({window:s,v5Compat:!0}));let a=i.current,[l,c]=v.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=v.useCallback(d=>{u&&mh?mh(()=>c(d)):c(d)},[c,u]);return v.useLayoutEffect(()=>a.listen(h),[a,h]),v.useEffect(()=>ub(n),[n]),v.createElement(fb,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const _b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sb=v.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=e,f=ny(e,yb),{basename:g}=v.useContext(fn),b,w=!1;if(typeof u=="string"&&kb.test(u)&&(b=u,_b))try{let y=new URL(window.location.href),k=u.startsWith("//")?new URL(y.protocol+u):new URL(u),j=xs(k.pathname,g);k.origin===y.origin&&j!=null?u=j+k.search+k.hash:w=!0}catch{}let _=Zw(u,{relative:s}),m=jb(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:d});function p(y){n&&n(y),y.defaultPrevented||m(y)}return v.createElement("a",go({},f,{href:b||_,onClick:w||i?n:p,ref:r,target:c}))}),Nb=v.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:h}=e,d=ny(e,vb),f=Ko(c,{relative:d.relative}),g=hn(),b=v.useContext(Jg),{navigator:w,basename:_}=v.useContext(fn),m=b!=null&&Ib(f)&&u===!0,p=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,y=g.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(y=y.toLowerCase(),k=k?k.toLowerCase():null,p=p.toLowerCase()),k&&_&&(k=xs(k,_)||k);const j=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let R=y===p||!a&&y.startsWith(p)&&y.charAt(j)==="/",E=k!=null&&(k===p||!a&&k.startsWith(p)&&k.charAt(p.length)==="/"),T={isActive:R,isPending:E,isTransitioning:m},q=R?n:void 0,C;typeof i=="function"?C=i(T):C=[i,R?"active":null,E?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let H=typeof l=="function"?l(T):l;return v.createElement(Sb,go({},d,{"aria-current":q,className:C,ref:r,style:H,to:c,viewTransition:u}),typeof h=="function"?h(T):h)});var Qc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qc||(Qc={}));var gh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gh||(gh={}));function Eb(t){let e=v.useContext(Zo);return e||Ee(!1),e}function jb(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=$t(),u=hn(),h=Ko(t,{relative:a});return v.useCallback(d=>{if(mb(d,r)){d.preventDefault();let f=n!==void 0?n:mo(u)===mo(h);c(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,h,n,s,r,t,i,a,l])}function Cb(t){let e=v.useRef(Kc(t)),r=v.useRef(!1),n=hn(),s=v.useMemo(()=>gb(n.search,r.current?null:e.current),[n.search]),i=$t(),a=v.useCallback((l,c)=>{const u=Kc(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,a]}function Ib(t,e){e===void 0&&(e={});let r=v.useContext(wb);r==null&&Ee(!1);let{basename:n}=Eb(Qc.useViewTransitionState),s=Ko(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=xs(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=xs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Zc(s.pathname,a)!=null||Zc(s.pathname,i)!=null}const Tb=()=>{};var yh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},Pb=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],a=t[r++],l=t[r++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const i=t[r++],a=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},iy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,d=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(f=64)),n.push(r[h],r[d],r[f],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],l=s<t.length?r[t.charAt(s)]:0;++s;const u=s<t.length?r[t.charAt(s)]:64;++s;const d=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||d==null)throw new Ab;const f=i<<2|l>>4;if(n.push(f),u!==64){const g=l<<4&240|u>>2;if(n.push(g),d!==64){const b=u<<6&192|d;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ab extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rb=function(t){const e=sy(t);return iy.encodeByteArray(e,!0)},ay=function(t){return Rb(t).replace(/\./g,"")},oy=function(t){try{return iy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=()=>Ob().__FIREBASE_DEFAULTS__,Db=()=>{if(typeof process>"u"||typeof yh>"u")return;const t=yh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oy(t[1]);return e&&JSON.parse(e)},xd=()=>{try{return Tb()||Lb()||Db()||Mb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ub=t=>{var e,r;return(r=(e=xd())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},ly=()=>{var t;return(t=xd())==null?void 0:t.config},cy=t=>{var e;return(e=xd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zb(t){return(await fetch(t,{credentials:"include"})).ok}const ci={};function $b(){const t={prod:[],emulator:[]};for(const e of Object.keys(ci))ci[e]?t.emulator.push(e):t.prod.push(e);return t}function Vb(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let vh=!1;function Bb(t,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||ci[t]===e||ci[t]||vh)return;ci[t]=e;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",i=$b().prod.length>0;function a(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{vh=!0,a()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=Vb(n),g=r("text"),b=document.getElementById(g)||document.createElement("span"),w=r("learnmore"),_=document.getElementById(w)||document.createElement("a"),m=r("preprendIcon"),p=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const y=f.element;l(y),h(_,w);const k=u();c(p,m),y.append(p,b,_,k),document.body.appendChild(y)}i?(b.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function Wb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qb(){const t=nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kb(){try{return typeof indexedDB=="object"}catch{return!1}}function Qb(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="FirebaseError";class pn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Jb,Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gi.prototype.create)}}class Gi{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?Yb(i,n):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new pn(s,l,n)}}function Yb(t,e){return t.replace(Xb,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const Xb=/\{\$([^}]+)}/g;function e1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ws(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],a=e[s];if(xh(i)&&xh(a)){if(!ws(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function xh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Js(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ys(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function t1(t,e){const r=new r1(t,e);return r.subscribe.bind(r)}class r1{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");n1(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=$l),s.error===void 0&&(s.error=$l),s.complete===void 0&&(s.complete=$l);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n1(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function $l(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){return t&&t._delegate?t._delegate:t}class bs{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Fb;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a1(e))try{this.getOrInitializeService({instanceIdentifier:vn})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=vn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vn){return this.instances.has(e)}getOptions(e=vn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&a.resolve(s)}return s}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&e(i,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:i1(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=vn){return this.component?this.component.multipleInstances?e:vn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i1(t){return t===vn?void 0:t}function a1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new s1(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const l1={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},c1=pe.INFO,u1={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},d1=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=u1[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uy{constructor(e){this.name=e,this._logLevel=c1,this._logHandler=d1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const f1=(t,e)=>e.some(r=>t instanceof r);let wh,bh;function h1(){return wh||(wh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return bh||(bh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dy=new WeakMap,Jc=new WeakMap,fy=new WeakMap,Vl=new WeakMap,wd=new WeakMap;function m1(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{r(en(t.result)),s()},a=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&dy.set(r,t)}).catch(()=>{}),wd.set(e,t),e}function g1(t){if(Jc.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{r(),s()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Jc.set(t,e)}let Yc={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Jc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fy.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return en(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y1(t){Yc=t(Yc)}function v1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Bl(this),e,...r);return fy.set(n,e.sort?e.sort():[e]),en(n)}:p1().includes(t)?function(...e){return t.apply(Bl(this),e),en(dy.get(this))}:function(...e){return en(t.apply(Bl(this),e))}}function x1(t){return typeof t=="function"?v1(t):(t instanceof IDBTransaction&&g1(t),f1(t,h1())?new Proxy(t,Yc):t)}function en(t){if(t instanceof IDBRequest)return m1(t);if(Vl.has(t))return Vl.get(t);const e=x1(t);return e!==t&&(Vl.set(t,e),wd.set(e,t)),e}const Bl=t=>wd.get(t);function w1(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=en(a);return n&&a.addEventListener("upgradeneeded",c=>{n(en(a.result),c.oldVersion,c.newVersion,en(a.transaction),c)}),r&&a.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const b1=["get","getKey","getAll","getAllKeys","count"],_1=["put","add","delete","clear"],Hl=new Map;function _h(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hl.get(e))return Hl.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=_1.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||b1.includes(r)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return Hl.set(e,i),i}y1(t=>({...t,get:(e,r,n)=>_h(e,r)||t.get(e,r,n),has:(e,r)=>!!_h(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(S1(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function S1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xc="@firebase/app",kh="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new uy("@firebase/app"),N1="@firebase/app-compat",E1="@firebase/analytics-compat",j1="@firebase/analytics",C1="@firebase/app-check-compat",I1="@firebase/app-check",T1="@firebase/auth",P1="@firebase/auth-compat",A1="@firebase/database",R1="@firebase/data-connect",O1="@firebase/database-compat",L1="@firebase/functions",D1="@firebase/functions-compat",M1="@firebase/installations",U1="@firebase/installations-compat",F1="@firebase/messaging",z1="@firebase/messaging-compat",$1="@firebase/performance",V1="@firebase/performance-compat",B1="@firebase/remote-config",H1="@firebase/remote-config-compat",W1="@firebase/storage",G1="@firebase/storage-compat",Z1="@firebase/firestore",q1="@firebase/ai",K1="@firebase/firestore-compat",Q1="firebase",J1="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="[DEFAULT]",Y1={[Xc]:"fire-core",[N1]:"fire-core-compat",[j1]:"fire-analytics",[E1]:"fire-analytics-compat",[I1]:"fire-app-check",[C1]:"fire-app-check-compat",[T1]:"fire-auth",[P1]:"fire-auth-compat",[A1]:"fire-rtdb",[R1]:"fire-data-connect",[O1]:"fire-rtdb-compat",[L1]:"fire-fn",[D1]:"fire-fn-compat",[M1]:"fire-iid",[U1]:"fire-iid-compat",[F1]:"fire-fcm",[z1]:"fire-fcm-compat",[$1]:"fire-perf",[V1]:"fire-perf-compat",[B1]:"fire-rc",[H1]:"fire-rc-compat",[W1]:"fire-gcs",[G1]:"fire-gcs-compat",[Z1]:"fire-fst",[K1]:"fire-fst-compat",[q1]:"fire-vertex","fire-js":"fire-js",[Q1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Map,X1=new Map,tu=new Map;function Sh(t,e){try{t.container.addComponent(e)}catch(r){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ai(t){const e=t.name;if(tu.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;tu.set(e,t);for(const r of yo.values())Sh(r,t);for(const r of X1.values())Sh(r,t);return!0}function hy(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Rt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tn=new Gi("app","Firebase",e_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=J1;function py(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:eu,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw tn.create("bad-app-name",{appName:String(s)});if(r||(r=ly()),!r)throw tn.create("no-options");const i=yo.get(s);if(i){if(ws(r,i.options)&&ws(n,i.config))return i;throw tn.create("duplicate-app",{appName:s})}const a=new o1(s);for(const c of tu.values())a.addComponent(c);const l=new t_(r,n,a);return yo.set(s,l),l}function r_(t=eu){const e=yo.get(t);if(!e&&t===eu&&ly())return py();if(!e)throw tn.create("no-app",{appName:t});return e}function os(t,e,r){let n=Y1[t]??t;r&&(n+=`-${r}`);const s=n.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${e}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(a.join(" "));return}Ai(new bs(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="firebase-heartbeat-database",s_=1,Ri="firebase-heartbeat-store";let Wl=null;function my(){return Wl||(Wl=w1(n_,s_,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ri)}catch(r){console.warn(r)}}}}).catch(t=>{throw tn.create("idb-open",{originalErrorMessage:t.message})})),Wl}async function i_(t){try{const r=(await my()).transaction(Ri),n=await r.objectStore(Ri).get(gy(t));return await r.done,n}catch(e){if(e instanceof pn)yr.warn(e.message);else{const r=tn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(r.message)}}}async function Nh(t,e){try{const n=(await my()).transaction(Ri,"readwrite");await n.objectStore(Ri).put(e,gy(t)),await n.done}catch(r){if(r instanceof pn)yr.warn(r.message);else{const n=tn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});yr.warn(n.message)}}}function gy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=1024,o_=30;class l_{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new u_(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Eh();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>o_){const a=d_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){yr.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Eh(),{heartbeatsToSend:n,unsentEntries:s}=c_(this._heartbeatsCache.heartbeats),i=ay(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return yr.warn(r),""}}}function Eh(){return new Date().toISOString().substring(0,10)}function c_(t,e=a_){const r=[];let n=t.slice();for(const s of t){const i=r.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),jh(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),jh(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class u_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kb()?Qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await i_(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Nh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Nh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function jh(t){return ay(JSON.stringify({version:2,heartbeats:t})).length}function d_(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t){Ai(new bs("platform-logger",e=>new k1(e),"PRIVATE")),Ai(new bs("heartbeat",e=>new l_(e),"PRIVATE")),os(Xc,kh,t),os(Xc,kh,"esm2020"),os("fire-js","")}f_("");var h_="firebase",p_="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(h_,p_,"app");function yy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m_=yy,vy=new Gi("auth","Firebase",yy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new uy("@firebase/auth");function g_(t,...e){vo.logLevel<=pe.WARN&&vo.warn(`Auth (${qi}): ${t}`,...e)}function Ma(t,...e){vo.logLevel<=pe.ERROR&&vo.error(`Auth (${qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t,...e){throw bd(t,...e)}function Jt(t,...e){return bd(t,...e)}function xy(t,e,r){const n={...m_(),[e]:r};return new Gi("auth","Firebase",n).create(e,{appName:t.name})}function dr(t){return xy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bd(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return vy.create(t,...e)}function Q(t,e,...r){if(!t)throw bd(e,...r)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ma(e),new Error(e)}function vr(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function y_(){return Ch()==="http:"||Ch()==="https:"}function Ch(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y_()||Gb()||"connection"in navigator)?navigator.onLine:!0}function x_(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,r){this.shortDelay=e,this.longDelay=r,vr(r>e,"Short delay should be less than long delay!"),this.isMobile=Hb()||Zb()}get(){return v_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t,e){vr(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],__=new Ki(3e4,6e4);function kr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Sr(t,e,r,n,s={}){return by(t,s,async()=>{let i={},a={};n&&(e==="GET"?a=n:i={body:JSON.stringify(n)});const l=Zi({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return Wb()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Qo(t.emulatorConfig.host)&&(u.credentials="include"),wy.fetch()(await _y(t,t.config.apiHost,r,l),u)})}async function by(t,e,r){t._canInitEmulator=!1;const n={...w_,...e};try{const s=new S_(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw wa(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wa(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw wa(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw wa(t,"user-disabled",a);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xy(t,h,u);zt(t,h)}}catch(s){if(s instanceof pn)throw s;zt(t,"network-request-failed",{message:String(s)})}}async function Qi(t,e,r,n,s={}){const i=await Sr(t,e,r,n,s);return"mfaPendingCredential"in i&&zt(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function _y(t,e,r,n){const s=`${e}${r}?${n}`,i=t,a=i.config.emulator?_d(t.config,s):`${t.config.apiScheme}://${s}`;return b_.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function k_(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class S_{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Jt(this.auth,"network-request-failed")),__.get())})}}function wa(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Jt(t,e,n);return s.customData._tokenResponse=r,s}function Ih(t){return t!==void 0&&t.enterprise!==void 0}class N_{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return k_(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E_(t,e){return Sr(t,"GET","/v2/recaptchaConfig",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_(t,e){return Sr(t,"POST","/v1/accounts:delete",e)}async function xo(t,e){return Sr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C_(t,e=!1){const r=er(t),n=await r.getIdToken(e),s=kd(n);Q(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:ui(Gl(s.auth_time)),issuedAtTime:ui(Gl(s.iat)),expirationTime:ui(Gl(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Gl(t){return Number(t)*1e3}function kd(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Ma("JWT malformed, contained fewer than 3 sections"),null;try{const s=oy(r);return s?JSON.parse(s):(Ma("Failed to decode base64 JWT payload"),null)}catch(s){return Ma("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Th(t){const e=kd(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oi(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof pn&&I_(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function I_({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ui(this.lastLoginAt),this.creationTime=ui(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t){var d;const e=t.auth,r=await t.getIdToken(),n=await Oi(t,xo(e,{idToken:r}));Q(n==null?void 0:n.users.length,e,"internal-error");const s=n.users[0];t._notifyReloadListener(s);const i=(d=s.providerUserInfo)!=null&&d.length?ky(s.providerUserInfo):[],a=A_(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nu(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function P_(t){const e=er(t);await wo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A_(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function ky(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(t,e){const r=await by(t,{},async()=>{const n=Zi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await _y(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&Qo(t.emulatorConfig.host)&&(c.credentials="include"),wy.fetch()(a,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function O_(t,e){return Sr(t,"POST","/v2/accounts:revokeToken",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Th(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const r=Th(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await R_(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,a=new ls;return n&&(Q(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),s&&(Q(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ls,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dt{constructor({uid:e,auth:r,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new T_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new nu(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Oi(this,this.stsTokenManager.getToken(this.auth,e));return Q(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return C_(this,e)}reload(){return P_(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Dt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await wo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rt(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await Oi(this,j_(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,s=r.email??void 0,i=r.phoneNumber??void 0,a=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,h=r.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:g,providerData:b,stsTokenManager:w}=r;Q(d&&w,e,"internal-error");const _=ls.fromJSON(this.name,w);Q(typeof d=="string",e,"internal-error"),jr(n,e.name),jr(s,e.name),Q(typeof f=="boolean",e,"internal-error"),Q(typeof g=="boolean",e,"internal-error"),jr(i,e.name),jr(a,e.name),jr(l,e.name),jr(c,e.name),jr(u,e.name),jr(h,e.name);const m=new Dt({uid:d,auth:e,email:s,emailVerified:f,displayName:n,isAnonymous:g,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:_,createdAt:u,lastLoginAt:h});return b&&Array.isArray(b)&&(m.providerData=b.map(p=>({...p}))),c&&(m._redirectEventId=c),m}static async _fromIdTokenResponse(e,r,n=!1){const s=new ls;s.updateFromServerResponse(r);const i=new Dt({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await wo(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Q(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?ky(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new ls;l.updateFromIdToken(n);const c=new Dt({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new nu(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map;function cr(t){vr(t instanceof Function,"Expected a class definition");let e=Ph.get(t);return e?(vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ph.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Sy.type="NONE";const Ah=Sy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t,e,r){return`firebase:${t}:${e}:${r}`}class cs{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=Ua(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ua("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await xo(this.auth,{idToken:e}).catch(()=>{});return r?Dt._fromGetAccountInfoResponse(this.auth,r,e):null}return Dt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new cs(cr(Ah),e,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||cr(Ah);const a=Ua(n,e.config.apiKey,e.name);let l=null;for(const u of r)try{const h=await u._get(a);if(h){let d;if(typeof h=="string"){const f=await xo(e,{idToken:h}).catch(()=>{});if(!f)break;d=await Dt._fromGetAccountInfoResponse(e,f,h)}else d=Dt._fromJSON(e,h);u!==i&&(l=d),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new cs(i,e,n):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new cs(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ny(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ty(e))return"Blackberry";if(Py(e))return"Webos";if(Ey(e))return"Safari";if((e.includes("chrome/")||jy(e))&&!e.includes("edge/"))return"Chrome";if(Iy(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Ny(t=nt()){return/firefox\//i.test(t)}function Ey(t=nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jy(t=nt()){return/crios\//i.test(t)}function Cy(t=nt()){return/iemobile/i.test(t)}function Iy(t=nt()){return/android/i.test(t)}function Ty(t=nt()){return/blackberry/i.test(t)}function Py(t=nt()){return/webos/i.test(t)}function Sd(t=nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function L_(t=nt()){var e;return Sd(t)&&!!((e=window.navigator)!=null&&e.standalone)}function D_(){return qb()&&document.documentMode===10}function Ay(t=nt()){return Sd(t)||Iy(t)||Py(t)||Ty(t)||/windows phone/i.test(t)||Cy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e=[]){let r;switch(t){case"Browser":r=Rh(nt());break;case"Worker":r=`${Rh(nt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${qi}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U_(t,e={}){return Sr(t,"GET","/v2/passwordPolicy",kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=6;class z_{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??F_,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oh(this),this.idTokenSubscription=new Oh(this),this.beforeStateQueue=new M_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=cr(r)),this._initializationPromise=this.queue(async()=>{var n,s,i;if(!this._deleted&&(this.persistenceManager=await cs.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await xo(this,{idToken:e}),n=await Dt._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Rt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(n=c.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await wo(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x_()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rt(this.app))return Promise.reject(dr(this));const r=e?er(e):null;return r&&Q(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rt(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rt(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U_(this),r=new z_(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gi("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await O_(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&cr(e)||this._popupRedirectResolver;Q(r,this,"argument-error"),this.redirectPersistenceManager=await cs.create(this,[cr(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,s);return()=>{a=!0,c()}}else{const c=e.addObserver(r);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ry(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&g_(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ln(t){return er(t)}class Oh{constructor(e){this.auth=e,this.observer=null,this.addObserver=t1(r=>this.observer=r)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V_(t){Jo=t}function Oy(t){return Jo.loadJS(t)}function B_(){return Jo.recaptchaEnterpriseScript}function H_(){return Jo.gapiScript}function W_(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class G_{constructor(){this.enterprise=new Z_}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Z_{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const q_="recaptcha-enterprise",Ly="NO_RECAPTCHA";class K_{constructor(e){this.type=q_,this.auth=Ln(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{E_(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new N_(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;Ih(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(Ly)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new G_().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{n(this.auth).then(l=>{if(!r&&Ih(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=B_();c.length!==0&&(c+=l),Oy(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Lh(t,e,r,n=!1,s=!1){const i=new K_(t);let a;if(s)a=Ly;else try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function su(t,e,r,n,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Lh(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Lh(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){const r=hy(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(ws(i,e??{}))return s;zt(s,"already-initialized")}return r.initialize({options:e})}function J_(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Y_(t,e,r){const n=Ln(t);Q(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=Dy(e),{host:a,port:l}=X_(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Q(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Q(ws(u,n.config.emulator)&&ws(h,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=h,n.settings.appVerificationDisabledForTesting=!0,Qo(a)?(zb(`${i}//${a}${c}`),Bb("Auth",!0)):ek()}function Dy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X_(t){const e=Dy(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:Dh(n.substr(i.length+1))}}else{const[i,a]=n.split(":");return{host:i,port:Dh(a)}}}function Dh(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ek(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,r){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function tk(t,e){return Sr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(t,e){return Qi(t,"POST","/v1/accounts:signInWithPassword",kr(t,e))}async function nk(t,e){return Sr(t,"POST","/v1/accounts:sendOobCode",kr(t,e))}async function sk(t,e){return nk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(t,e){return Qi(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}async function ak(t,e){return Qi(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Nd{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Li(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Li(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return su(e,r,"signInWithPassword",rk);case"emailLink":return ik(e,{email:this._email,oobCode:this._password});default:zt(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return su(e,n,"signUpPassword",tk);case"emailLink":return ak(e,{idToken:r,email:this._email,oobCode:this._password});default:zt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function us(t,e){return Qi(t,"POST","/v1/accounts:signInWithIdp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="http://localhost";class Tn extends Nd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Tn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):zt("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...i}=r;if(!n||!s)return null;const a=new Tn(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return us(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,us(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,us(e,r)}buildRequest(){const e={requestUri:ok,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Zi(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ck(t){const e=Js(Ys(t)).link,r=e?Js(Ys(e)).deep_link_id:null,n=Js(Ys(t)).deep_link_id;return(n?Js(Ys(n)).link:null)||n||r||e||t}class Ed{constructor(e){const r=Js(Ys(e)),n=r.apiKey??null,s=r.oobCode??null,i=lk(r.mode??null);Q(n&&s&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=s,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=ck(e);try{return new Ed(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.providerId=Ps.PROVIDER_ID}static credential(e,r){return Li._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Ed.parseLink(r);return Q(n,"argument-error"),Li._fromEmailAndCode(e,n.code,n.tenantId)}}Ps.PROVIDER_ID="password";Ps.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ps.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends My{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Ji{constructor(){super("facebook.com")}static credential(e){return Tn._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Ji{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Tn._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Dr.credential(r,n)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Ji{constructor(){super("github.com")}static credential(e){return Tn._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ji{constructor(){super("twitter.com")}static credential(e,r){return Tn._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ur.credential(r,n)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(t,e){return Qi(t,"POST","/v1/accounts:signUp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await Dt._fromIdTokenResponse(e,n,s),a=Mh(n);return new Pn({user:i,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=Mh(n);return new Pn({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function Mh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends pn{constructor(e,r,n,s){super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,bo.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new bo(e,r,n,s)}}function Uy(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?bo._fromErrorAndOperation(t,i,e,n):i})}async function dk(t,e,r=!1){const n=await Oi(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Pn._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(t,e,r=!1){const{auth:n}=t;if(Rt(n.app))return Promise.reject(dr(n));const s="reauthenticate";try{const i=await Oi(t,Uy(n,s,e,t),r);Q(i.idToken,n,"internal-error");const a=kd(i.idToken);Q(a,n,"internal-error");const{sub:l}=a;return Q(t.uid===l,n,"user-mismatch"),Pn._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&zt(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(t,e,r=!1){if(Rt(t.app))return Promise.reject(dr(t));const n="signIn",s=await Uy(t,n,e),i=await Pn._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function hk(t,e){return Fy(Ln(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zy(t){const e=Ln(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pk(t,e,r){if(Rt(t.app))return Promise.reject(dr(t));const n=Ln(t),a=await su(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uk).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&zy(t),c}),l=await Pn._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(l.user),l}function mk(t,e,r){return Rt(t.app)?Promise.reject(dr(t)):hk(er(t),Ps.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&zy(t),n})}async function $y(t,e){const r=er(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await sk(r.auth,s);i!==t.email&&await t.reload()}function gk(t,e,r,n){return er(t).onIdTokenChanged(e,r,n)}function yk(t,e,r){return er(t).beforeAuthStateChanged(e,r)}function vk(t,e,r,n){return er(t).onAuthStateChanged(e,r,n)}function ba(t){return er(t).signOut()}const _o="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(_o,"1"),this.storage.removeItem(_o),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=1e3,wk=10;class By extends Vy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ay(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},i=this.storage.getItem(n);D_()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,wk):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}By.type="LOCAL";const bk=By;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy extends Vy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Hy.type="SESSION";const Wy=Hy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Yo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(a).map(async u=>u(r.origin,i)),c=await _k(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=jd("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return window}function Sk(t){Yt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(){return typeof Yt().WorkerGlobalScope<"u"&&typeof Yt().importScripts=="function"}async function Nk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ek(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function jk(){return Gy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="firebaseLocalStorageDb",Ck=1,ko="firebaseLocalStorage",qy="fbase_key";class Yi{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Xo(t,e){return t.transaction([ko],e?"readwrite":"readonly").objectStore(ko)}function Ik(){const t=indexedDB.deleteDatabase(Zy);return new Yi(t).toPromise()}function iu(){const t=indexedDB.open(Zy,Ck);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ko,{keyPath:qy})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ko)?e(n):(n.close(),await Ik(),e(await iu()))})})}async function Uh(t,e,r){const n=Xo(t,!0).put({[qy]:e,value:r});return new Yi(n).toPromise()}async function Tk(t,e){const r=Xo(t,!1).get(e),n=await new Yi(r).toPromise();return n===void 0?null:n.value}function Fh(t,e){const r=Xo(t,!0).delete(e);return new Yi(r).toPromise()}const Pk=800,Ak=3;class Ky{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iu(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Ak)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yo._getInstance(jk()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Nk(),!this.activeServiceWorker)return;this.sender=new kk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ek()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iu();return await Uh(e,_o,"1"),await Fh(e,_o),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uh(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Tk(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fh(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Xo(s,!1).getAll();return new Yi(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ky.type="LOCAL";const Rk=Ky;new Ki(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t,e){return e?cr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends Nd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return us(e,this._buildIdpRequest())}_linkToIdToken(e,r){return us(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return us(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Lk(t){return Fy(t.auth,new Cd(t),t.bypassAuthState)}function Dk(t){const{auth:e,user:r}=t;return Q(r,e,"internal-error"),fk(r,new Cd(t),t.bypassAuthState)}async function Mk(t){const{auth:e,user:r}=t;return Q(r,e,"internal-error"),dk(r,new Cd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lk;case"linkViaPopup":case"linkViaRedirect":return Mk;case"reauthViaPopup":case"reauthViaRedirect":return Dk;default:zt(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Ki(2e3,1e4);class es extends Qy{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=jd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Uk.get())};e()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="pendingRedirect",Fa=new Map;class zk extends Qy{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Fa.get(this.auth._key());if(!e){try{const n=await $k(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Fa.set(this.auth._key(),e)}return this.bypassAuthState||Fa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $k(t,e){const r=Hk(e),n=Bk(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function Vk(t,e){Fa.set(t._key(),e)}function Bk(t){return cr(t._redirectPersistence)}function Hk(t){return Ua(Fk,t.config.apiKey,t.name)}async function Wk(t,e,r=!1){if(Rt(t.app))return Promise.reject(dr(t));const n=Ln(t),s=Ok(n,e),a=await new zk(n,s,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=10*60*1e3;class Zk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qk(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!Jy(e)){const s=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Jt(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gk&&this.cachedEventUids.clear(),this.cachedEventUids.has(zh(e))}saveEventToCache(e){this.cachedEventUids.add(zh(e)),this.lastProcessedEventTime=Date.now()}}function zh(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jy({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jy(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t,e={}){return Sr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jk=/^https?/;async function Yk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Kk(t);for(const r of e)try{if(Xk(r))return}catch{}zt(t,"unauthorized-domain")}function Xk(t){const e=ru(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!Jk.test(r))return!1;if(Qk.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Ki(3e4,6e4);function $h(){const t=Yt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function tS(t){return new Promise((e,r)=>{var s,i,a;function n(){$h(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$h(),r(Jt(t,"network-request-failed"))},timeout:eS.get()})}if((i=(s=Yt().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Yt().gapi)!=null&&a.load)n();else{const l=W_("iframefcb");return Yt()[l]=()=>{gapi.load?n():r(Jt(t,"network-request-failed"))},Oy(`${H_()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw za=null,e})}let za=null;function rS(t){return za=za||tS(t),za}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Ki(5e3,15e3),sS="__/auth/iframe",iS="emulator/auth/iframe",aS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lS(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?_d(e,iS):`https://${t.config.authDomain}/${sS}`,n={apiKey:e.apiKey,appName:t.name,v:qi},s=oS.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Zi(n).slice(1)}`}async function cS(t){const e=await rS(t),r=Yt().gapi;return Q(r,t,"internal-error"),e.open({where:document.body,url:lS(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aS,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const a=Jt(t,"network-request-failed"),l=Yt().setTimeout(()=>{i(a)},nS.get());function c(){Yt().clearTimeout(l),s(n)}n.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dS=500,fS=600,hS="_blank",pS="http://localhost";class Vh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mS(t,e,r,n=dS,s=fS){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...uS,width:n.toString(),height:s.toString(),top:i,left:a},u=nt().toLowerCase();r&&(l=jy(u)?hS:r),Ny(u)&&(e=e||pS,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[g,b])=>`${f}${g}=${b},`,"");if(L_(u)&&l!=="_self")return gS(e||"",l),new Vh(null);const d=window.open(e||"",l,h);Q(d,t,"popup-blocked");try{d.focus()}catch{}return new Vh(d)}function gS(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="__/auth/handler",vS="emulator/auth/handler",xS=encodeURIComponent("fac");async function Bh(t,e,r,n,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:qi,eventId:s};if(e instanceof My){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",e1(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))a[h]=d}if(e instanceof Ji){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${xS}=${encodeURIComponent(c)}`:"";return`${wS(t)}?${Zi(l).slice(1)}${u}`}function wS({config:t}){return t.emulator?_d(t,vS):`https://${t.authDomain}/${yS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="webStorageSupport";class bS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wy,this._completeRedirectFn=Wk,this._overrideRedirectResult=Vk}async _openPopup(e,r,n,s){var a;vr((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await Bh(e,r,n,ru(),s);return mS(e,i,jd())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await Bh(e,r,n,ru(),s);return Sk(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(vr(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await cS(e),n=new Zk(e);return r.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Zl,{type:Zl},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[Zl];i!==void 0&&r(!!i),zt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Yk(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Ay()||Ey()||Sd()}}const _S=bS;var Hh="@firebase/auth",Wh="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NS(t){Ai(new bs("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=n.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ry(t)},u=new $_(n,s,i,c);return J_(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ai(new bs("auth-internal",e=>{const r=Ln(e.getProvider("auth").getImmediate());return(n=>new kS(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(Hh,Wh,SS(t)),os(Hh,Wh,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=5*60,jS=cy("authIdTokenMaxAge")||ES;let Gh=null;const CS=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>jS)return;const s=r==null?void 0:r.token;Gh!==s&&(Gh=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function IS(t=r_()){const e=hy(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Q_(t,{popupRedirectResolver:_S,persistence:[Rk,bk,Wy]}),n=cy("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const a=CS(i.toString());yk(r,a,()=>a(r.currentUser)),gk(r,l=>a(l))}}const s=Ub("auth");return s&&Y_(r,`http://${s}`),r}function TS(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}V_({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Jt("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",TS().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NS("Browser");const Yy={apiKey:"AIzaSyDdp4fnlJnExDI7zYlGnnph0yWptxlGBaU",authDomain:"vitalinuage.firebaseapp.com",projectId:"vitalinuage",storageBucket:"vitalinuage.firebasestorage.app",messagingSenderId:"538603466426",appId:"1:538603466426:web:960bae41f79b9eaab51c83"},ql=Object.entries(Yy).filter(([t,e])=>!e).map(([t])=>t);if(ql.length>0)throw console.error("[FIREBASE CONFIG] Missing environment variables for keys:",ql),new Error(`Missing Firebase configuration: ${ql.join(", ")}. Check your .env file or build environment variables.`);const PS=py(Yy),bt=IS(PS),Xy="https://vitalinuage-backend-538603466426.us-central1.run.app",je=t=>{const e=t.startsWith("/")?t.substring(1):t;return`${Xy}/${e}`},au={exportData:async t=>{const e=await fetch(je("/api/data/export"),{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Error downloading data");return e.blob()},importData:async(t,e)=>{const r=new FormData;r.append("file",e);const n=await fetch(je("/api/data/import"),{method:"POST",headers:{Authorization:`Bearer ${t}`},body:r});if(!n.ok){const s=await n.json();throw new Error(s.detail||"Import failed")}return n.json()}},$a={apiBaseUrl:Xy,getApiUrl:je,...au};function Va(t,e){return async function(n,s,i={}){const{requireAuth:a=!0}=i,l=(s==null?void 0:s.method)||"GET";let c=null;if(a&&(c=await t(),!c||c.trim()===""||c.toLowerCase()==="null"))throw console.error("[AUTH AUDIT] authFetch blocked request. Invalid token:",c),new Error("AUTH_TOKEN_MISSING");const u={...(s==null?void 0:s.headers)||{}};a&&c&&(u.Authorization=`Bearer ${c}`);const h=c?c.slice(0,20)+"...":"none";console.log(`[AUTH AUDIT] authFetch request: ${l} ${n} requireAuth=${a} tokenPreview=${h}`);const d=await fetch(n,{...s,headers:u});if(console.log(`[AUTH AUDIT] authFetch response: ${d.status} ${n}`),d.status===401)throw console.error("[AUTH AUDIT] 401 Unauthorized -> triggering logout"),await e(),new Error("AUTH_401");if(d.status===403)throw console.error("[AUTH AUDIT] 403 Forbidden -> permission denied"),new Error("AUTH_403");return d}}async function Zh(t){const e=await t(je("/api/doctors/profile"));if(!e.ok)throw new Error(`Profile fetch failed with status: ${e.status}`);return e.json()}const e0=v.createContext(void 0),AS=({children:t})=>{const[e,r]=v.useState(null),[n,s]=v.useState(null),[i,a]=v.useState(!0),[l,c]=v.useState(null);v.useEffect(()=>{const _=vk(bt,async m=>{if(console.log(`[AUTH AUDIT] Auth State Changed. User: ${m?m.uid:"null"}`),a(!0),m)try{if(await m.reload(),r(m),console.log(`[AUTH AUDIT] User Reloaded. EmailVerified: ${m.emailVerified}`),m.emailVerified)try{const p=await m.getIdToken();c(p),console.log(`[AUTH AUDIT] Token retrieved. Length: ${p.length}`);const y=Va(async()=>m.getIdToken(),async()=>{await ba(bt)});console.log("[AUTH AUDIT] DoctorContext profile sync start");const k=await Zh(y);console.log(`[AUTH AUDIT] DoctorContext profile sync ok (ID: ${k.email})`),s({professionalName:k.professionalName||k.professional_name,specialty:k.specialty,registrationNumber:k.registrationNumber||k.registration_number,isOnboarded:k.isOnboarded!==void 0?k.isOnboarded:k.is_onboarded||!1,email:m.email||"",isVerified:!0})}catch(p){console.warn(`[AUTH AUDIT] DoctorContext profile sync failed: ${p.message}`),s({isOnboarded:!1,isVerified:m.emailVerified,email:m.email||""})}else console.log("[AUTH AUDIT] Email NOT verified."),s({isOnboarded:!1,isVerified:!1,email:m.email||""})}catch(p){console.error("[AUTH AUDIT] Auth reload error",p),r(null),s(null)}else console.log("[AUTH AUDIT] No User. Clearing State."),r(null),s(null),c(null);a(!1)});return()=>_()},[]);const u=(_,m)=>mk(bt,_,m),h=async()=>{console.log("[AUTH AUDIT] Logout Initiated."),await ba(bt),console.log("[AUTH AUDIT] Firebase signOut completed"),window.location.href="/"},d=async _=>{if(!bt.currentUser)return;const m=await bt.currentUser.getIdToken(),y=await Va(async()=>m,async()=>{await ba(bt)})(je("/api/doctors/profile"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(!y.ok)throw new Error("Onboarding failed");const k=await y.json();s(j=>({...j,...k,isOnboarded:!0}))},f=async()=>{if(e)try{const _=await e.getIdToken(!0),m=Va(async()=>_,async()=>{await ba(bt)}),p=await Zh(m);s({professionalName:p.professionalName||p.professional_name,specialty:p.specialty,registrationNumber:p.registrationNumber||p.registration_number,isOnboarded:p.isOnboarded!==void 0?p.isOnboarded:p.is_onboarded||!1,email:e.email||"",isVerified:!0})}catch(_){console.error("Failed to refresh profile",_)}},[g,b]=v.useState({}),w=_=>b(m=>({...m,..._}));return o.jsx(e0.Provider,{value:{user:e,profile:n,loading:i,token:l,login:u,logout:h,completeOnboarding:d,refreshProfile:f,preferences:g,updatePreferences:w},children:t})},Ke=()=>{const t=v.useContext(e0);if(!t)throw new Error("useDoctor must be used within DoctorProvider");return t},RS=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(""),[s,i]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState(!1),{login:h}=Ke(),d=async f=>{if(f.preventDefault(),!c){l(""),u(!0);try{if(t){const g=await pk(bt,r,s);await $y(g.user),alert("Cuenta creada en Firebase. Por favor, revisa tu correo para verificar tu email antes de entrar."),e(!1)}else await h(r,s),console.log("[LOGIN] Success. App wrapper should now switch view.")}catch(g){console.error(g);let b=g.message;g.code==="auth/email-already-in-use"&&(b="El correo ya est registrado."),g.code==="auth/weak-password"&&(b="La contrasea es muy dbil."),l(b||"Error de conexin o credenciales invlidas")}finally{u(!1)}}};return o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f8f9fa"},children:o.jsxs("div",{style:{padding:"2rem",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",width:"400px",textAlign:"center"},children:[o.jsx("h1",{style:{color:"#1a365d",marginBottom:"0.5rem",fontSize:"2.5rem",fontWeight:"800"},children:"Vitalinuage"}),o.jsx("p",{style:{color:"#718096",marginBottom:"1.5rem"},children:t?"Crea tu cuenta mdica":"Acceso exclusivo para personal mdico"}),a&&o.jsx("div",{style:{backgroundColor:"#fff5f5",color:"#c53030",padding:"0.75rem",borderRadius:"4px",marginBottom:"1rem"},children:a}),o.jsxs("form",{onSubmit:d,children:[o.jsxs("div",{style:{textAlign:"left",marginBottom:"1rem"},children:[o.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"bold",marginBottom:"0.25rem"},children:"Correo Electrnico"}),o.jsx("input",{type:"email",value:r,onChange:f=>n(f.target.value),disabled:c,style:{width:"100%",padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",opacity:c?.7:1},placeholder:"nombre@vitalinuage.com",required:!0})]}),o.jsxs("div",{style:{textAlign:"left",marginBottom:"1.5rem"},children:[o.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"bold",marginBottom:"0.25rem"},children:"Contrasea"}),o.jsx("input",{type:"password",value:s,onChange:f=>i(f.target.value),disabled:c,style:{width:"100%",padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",opacity:c?.7:1},placeholder:"********",required:!0})]}),o.jsx("button",{type:"submit",disabled:c,style:{width:"100%",padding:"0.75rem",backgroundColor:c?"#718096":"#2c5282",color:"#fff",border:"none",borderRadius:"4px",cursor:c?"not-allowed":"pointer",fontWeight:"bold",transition:"background-color 0.2s"},children:c?"Procesando...":t?"Crear Cuenta":"Ingresar"})]}),o.jsxs("p",{style:{marginTop:"1.5rem",fontSize:"0.875rem",color:"#4a5568"},children:[t?"Ya tienes cuenta?":"No tienes cuenta?",o.jsx("span",{onClick:()=>e(!t),style:{color:"#2c5282",cursor:"pointer",fontWeight:"bold",marginLeft:"0.5rem"},children:t?"Inicia sesin":"Regstrate aqu"})]})]})})};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const r=v.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},h)=>v.createElement("svg",{ref:h,...OS,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${LS(t)}`,l].join(" "),...u},[...e.map(([d,f])=>v.createElement(d,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ne("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ne("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=ne("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=ne("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=ne("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ne("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=ne("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=ne("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=ne("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=ne("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function QS(){var i;const{profile:t,logout:e}=Ke(),r=async()=>{console.log("[AUTH AUDIT] VerificationRequired Logout CLICK handler fired");try{await e()}catch(a){console.error("[AUTH AUDIT] VerificationRequired logout failed",a)}},n=async()=>{try{const a=bt.currentUser;a&&(await $y(a),alert("Correo de verificacin reenviado a: "+a.email))}catch(a){console.error("Resend email error:",a),alert("Error al reenviar el correo. Por favor, intenta ms tarde.")}},s=async()=>{try{const a=bt.currentUser;a&&(await a.reload(),a.emailVerified?(await a.getIdToken(!0),window.location.assign("/")):alert("Tu email an no ha sido verificado. Por favor, revisa tu bandeja de entrada."))}catch(a){console.error("Check verification error:",a)}};return o.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center animate-in fade-in zoom-in duration-300",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-6 text-blue-600",children:o.jsx(Pd,{size:40,strokeWidth:1.5})}),o.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Verifica tu correo"}),o.jsxs("p",{className:"text-slate-500 mb-6",children:["Hemos enviado un enlace de confirmacin a ",o.jsx("br",{}),o.jsx("span",{className:"font-semibold text-slate-700",children:t.email||((i=bt.currentUser)==null?void 0:i.email)||"tu email"}),"."]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 rounded-lg p-4 mb-8 text-sm text-yellow-800 text-left",children:[o.jsx("strong",{children:"Importante:"})," Debes verificar tu cuenta antes de poder configurar tu perfil mdico y acceder al sistema."]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:n,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold transition-all shadow-md shadow-blue-100 flex items-center justify-center gap-2",children:[o.jsx(WS,{size:18}),"Reenviar Correo"]}),o.jsxs("button",{onClick:s,className:"w-full py-3 bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 rounded-xl font-semibold transition-all flex items-center justify-center gap-2",children:["Ya lo verifiqu ",o.jsx(DS,{size:18})]})]}),o.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100",children:o.jsxs("button",{onClick:r,className:"text-slate-400 hover:text-red-500 text-sm font-medium flex items-center justify-center gap-2 mx-auto transition-colors",children:[o.jsx(Td,{size:16}),"Cerrar Sesin"]})})]})})}var ea=t=>t.type==="checkbox",_n=t=>t instanceof Date,at=t=>t==null;const l0=t=>typeof t=="object";var Oe=t=>!at(t)&&!Array.isArray(t)&&l0(t)&&!_n(t),JS=t=>Oe(t)&&t.target?ea(t.target)?t.target.checked:t.target.value:t,YS=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,XS=(t,e)=>t.has(YS(e)),eN=t=>{const e=t.constructor&&t.constructor.prototype;return Oe(e)&&e.hasOwnProperty("isPrototypeOf")},Dd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ue(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(Dd&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Oe(t)&&eN(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Ue(t[s]));return n}var sl=t=>/^\w*$/.test(t),Ie=t=>t===void 0,Md=t=>Array.isArray(t)?t.filter(Boolean):[],Ud=t=>Md(t.replace(/["|']|\]/g,"").split(/\.|\[/)),z=(t,e,r)=>{if(!e||!Oe(t))return r;const n=(sl(e)?[e]:Ud(e)).reduce((s,i)=>at(s)?s:s[i],t);return Ie(n)||n===t?Ie(t[e])?r:t[e]:n},Gt=t=>typeof t=="boolean",Ot=t=>typeof t=="function",he=(t,e,r)=>{let n=-1;const s=sl(e)?[e]:Ud(e),i=s.length,a=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==a){const u=t[l];c=Oe(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Jh={BLUR:"blur",FOCUS_OUT:"focusout"},Lt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},tr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tN=Xe.createContext(null);tN.displayName="HookFormContext";var rN=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Lt.all&&(e._proxyFormState[a]=!n||Lt.all),t[a]}});return s};const nN=typeof window<"u"?Xe.useLayoutEffect:Xe.useEffect;var ht=t=>typeof t=="string",sN=(t,e,r,n,s)=>ht(t)?(n&&e.watch.add(t),z(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),z(r,i))):(n&&(e.watchAll=!0),r),cu=t=>at(t)||!l0(t);function Fr(t,e,r=new WeakSet){if(cu(t)||cu(e))return Object.is(t,e);if(_n(t)&&_n(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of n){const a=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(_n(a)&&_n(l)||Oe(a)&&Oe(l)||Array.isArray(a)&&Array.isArray(l)?!Fr(a,l,r):!Object.is(a,l))return!1}}return!0}var Fd=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},di=t=>Array.isArray(t)?t:[t],Yh=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function c0(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const s=t[n],i=e[n];if(s&&Oe(s)&&i){const a=c0(s,i);Oe(a)&&(r[n]=a)}else t[n]&&(r[n]=i)}return r}var Ye=t=>Oe(t)&&!Object.keys(t).length,zd=t=>t.type==="file",So=t=>{if(!Dd)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},u0=t=>t.type==="select-multiple",$d=t=>t.type==="radio",iN=t=>$d(t)||ea(t),Kl=t=>So(t)&&t.isConnected;function aN(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ie(t)?n++:t[e[n++]];return t}function oN(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ie(t[e]))return!1;return!0}function Pe(t,e){const r=Array.isArray(e)?e:sl(e)?[e]:Ud(e),n=r.length===1?t:aN(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Oe(n)&&Ye(n)||Array.isArray(n)&&oN(n))&&Pe(t,r.slice(0,-1)),t}var lN=t=>{for(const e in t)if(Ot(t[e]))return!0;return!1};function d0(t){return Array.isArray(t)||Oe(t)&&!lN(t)}function uu(t,e={}){for(const r in t){const n=t[r];d0(n)?(e[r]=Array.isArray(n)?[]:{},uu(n,e[r])):Ie(n)||(e[r]=!0)}return e}function zn(t,e,r){r||(r=uu(e));for(const n in t){const s=t[n];if(d0(s))Ie(e)||cu(r[n])?r[n]=uu(s,Array.isArray(s)?[]:{}):zn(s,at(e)?{}:e[n],r[n]);else{const i=e[n];r[n]=!Fr(s,i)}}return r}const Xh={value:!1,isValid:!1},ep={value:!0,isValid:!0};var f0=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ie(t[0].attributes.value)?Ie(t[0].value)||t[0].value===""?ep:{value:t[0].value,isValid:!0}:ep:Xh}return Xh},h0=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ie(t)?t:e?t===""?NaN:t&&+t:r&&ht(t)?new Date(t):n?n(t):t;const tp={isValid:!1,value:null};var p0=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,tp):tp;function rp(t){const e=t.ref;return zd(e)?e.files:$d(e)?p0(t.refs).value:u0(e)?[...e.selectedOptions].map(({value:r})=>r):ea(e)?f0(t.refs).value:h0(Ie(e.value)?t.ref.value:e.value,t)}var cN=(t,e,r,n)=>{const s={};for(const i of t){const a=z(e,i);a&&he(s,i,a._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},No=t=>t instanceof RegExp,Vs=t=>Ie(t)?t:No(t)?t.source:Oe(t)?No(t.value)?t.value.source:t.value:t,np=t=>({isOnSubmit:!t||t===Lt.onSubmit,isOnBlur:t===Lt.onBlur,isOnChange:t===Lt.onChange,isOnAll:t===Lt.all,isOnTouch:t===Lt.onTouched});const sp="AsyncFunction";var uN=t=>!!t&&!!t.validate&&!!(Ot(t.validate)&&t.validate.constructor.name===sp||Oe(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===sp)),dN=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),ip=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const fi=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=z(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(fi(l,e))break}else if(Oe(l)&&fi(l,e))break}}};function ap(t,e,r){const n=z(t,r);if(n||sl(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=z(e,i),l=z(t,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var fN=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Ye(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!n||Lt.all))},hN=(t,e,r)=>!t||!e||t===e||di(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),pN=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,mN=(t,e)=>!Md(z(t,e)).length&&Pe(t,e),gN=(t,e,r)=>{const n=di(z(t,r));return he(n,"root",e[r]),he(t,r,n),t};function op(t,e,r="validate"){if(ht(t)||Array.isArray(t)&&t.every(ht)||Gt(t)&&!t)return{type:r,message:ht(t)?t:"",ref:e}}var Fn=t=>Oe(t)&&!No(t)?t:{value:t,message:""},lp=async(t,e,r,n,s,i)=>{const{ref:a,refs:l,required:c,maxLength:u,minLength:h,min:d,max:f,pattern:g,validate:b,name:w,valueAsNumber:_,mount:m}=t._f,p=z(r,w);if(!m||e.has(w))return{};const y=l?l[0]:a,k=P=>{s&&y.reportValidity&&(y.setCustomValidity(Gt(P)?"":P||""),y.reportValidity())},j={},R=$d(a),E=ea(a),T=R||E,q=(_||zd(a))&&Ie(a.value)&&Ie(p)||So(a)&&a.value===""||p===""||Array.isArray(p)&&!p.length,C=Fd.bind(null,w,n,j),H=(P,G,V,Y=tr.maxLength,te=tr.minLength)=>{const ae=P?G:V;j[w]={type:P?Y:te,message:ae,ref:a,...C(P?Y:te,ae)}};if(i?!Array.isArray(p)||!p.length:c&&(!T&&(q||at(p))||Gt(p)&&!p||E&&!f0(l).isValid||R&&!p0(l).isValid)){const{value:P,message:G}=ht(c)?{value:!!c,message:c}:Fn(c);if(P&&(j[w]={type:tr.required,message:G,ref:y,...C(tr.required,G)},!n))return k(G),j}if(!q&&(!at(d)||!at(f))){let P,G;const V=Fn(f),Y=Fn(d);if(!at(p)&&!isNaN(p)){const te=a.valueAsNumber||p&&+p;at(V.value)||(P=te>V.value),at(Y.value)||(G=te<Y.value)}else{const te=a.valueAsDate||new Date(p),ae=J=>new Date(new Date().toDateString()+" "+J),D=a.type=="time",K=a.type=="week";ht(V.value)&&p&&(P=D?ae(p)>ae(V.value):K?p>V.value:te>new Date(V.value)),ht(Y.value)&&p&&(G=D?ae(p)<ae(Y.value):K?p<Y.value:te<new Date(Y.value))}if((P||G)&&(H(!!P,V.message,Y.message,tr.max,tr.min),!n))return k(j[w].message),j}if((u||h)&&!q&&(ht(p)||i&&Array.isArray(p))){const P=Fn(u),G=Fn(h),V=!at(P.value)&&p.length>+P.value,Y=!at(G.value)&&p.length<+G.value;if((V||Y)&&(H(V,P.message,G.message),!n))return k(j[w].message),j}if(g&&!q&&ht(p)){const{value:P,message:G}=Fn(g);if(No(P)&&!p.match(P)&&(j[w]={type:tr.pattern,message:G,ref:a,...C(tr.pattern,G)},!n))return k(G),j}if(b){if(Ot(b)){const P=await b(p,r),G=op(P,y);if(G&&(j[w]={...G,...C(tr.validate,G.message)},!n))return k(G.message),j}else if(Oe(b)){let P={};for(const G in b){if(!Ye(P)&&!n)break;const V=op(await b[G](p,r),y,G);V&&(P={...V,...C(G,V.message)},k(V.message),n&&(j[w]=P))}if(!Ye(P)&&(j[w]={ref:y,...P},!n))return j}}return k(!0),j};const yN={mode:Lt.onSubmit,reValidateMode:Lt.onChange,shouldFocusError:!0};function vN(t={}){let e={...yN,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ot(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Oe(e.defaultValues)||Oe(e.values)?Ue(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Ue(s),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...h};let f={...d};const g={array:Yh(),state:Yh()},b=e.criteriaMode===Lt.all,w=x=>S=>{clearTimeout(u),u=setTimeout(x,S)},_=async x=>{if(!a.keepIsValid&&!e.disabled&&(d.isValid||f.isValid||x)){let S;e.resolver?(S=Ye((await T()).errors),m()):S=await C(n,!0),S!==r.isValid&&g.state.next({isValid:S})}},m=(x,S)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((x||Array.from(l.mount)).forEach(N=>{N&&(S?he(r.validatingFields,N,S):Pe(r.validatingFields,N))}),g.state.next({validatingFields:r.validatingFields,isValidating:!Ye(r.validatingFields)}))},p=(x,S=[],N,U,L=!0,O=!0)=>{if(U&&N&&!e.disabled){if(a.action=!0,O&&Array.isArray(z(n,x))){const Z=N(z(n,x),U.argA,U.argB);L&&he(n,x,Z)}if(O&&Array.isArray(z(r.errors,x))){const Z=N(z(r.errors,x),U.argA,U.argB);L&&he(r.errors,x,Z),mN(r.errors,x)}if((d.touchedFields||f.touchedFields)&&O&&Array.isArray(z(r.touchedFields,x))){const Z=N(z(r.touchedFields,x),U.argA,U.argB);L&&he(r.touchedFields,x,Z)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=zn(s,i)),g.state.next({name:x,isDirty:P(x,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else he(i,x,S)},y=(x,S)=>{he(r.errors,x,S),g.state.next({errors:r.errors})},k=x=>{r.errors=x,g.state.next({errors:r.errors,isValid:!1})},j=(x,S,N,U)=>{const L=z(n,x);if(L){const O=z(i,x,Ie(N)?z(s,x):N);Ie(O)||U&&U.defaultChecked||S?he(i,x,S?O:rp(L._f)):Y(x,O),a.mount&&!a.action&&_()}},R=(x,S,N,U,L)=>{let O=!1,Z=!1;const de={name:x};if(!e.disabled){if(!N||U){(d.isDirty||f.isDirty)&&(Z=r.isDirty,r.isDirty=de.isDirty=P(),O=Z!==de.isDirty);const me=Fr(z(s,x),S);Z=!!z(r.dirtyFields,x),me?Pe(r.dirtyFields,x):he(r.dirtyFields,x,!0),de.dirtyFields=r.dirtyFields,O=O||(d.dirtyFields||f.dirtyFields)&&Z!==!me}if(N){const me=z(r.touchedFields,x);me||(he(r.touchedFields,x,N),de.touchedFields=r.touchedFields,O=O||(d.touchedFields||f.touchedFields)&&me!==N)}O&&L&&g.state.next(de)}return O?de:{}},E=(x,S,N,U)=>{const L=z(r.errors,x),O=(d.isValid||f.isValid)&&Gt(S)&&r.isValid!==S;if(e.delayError&&N?(c=w(()=>y(x,N)),c(e.delayError)):(clearTimeout(u),c=null,N?he(r.errors,x,N):Pe(r.errors,x)),(N?!Fr(L,N):L)||!Ye(U)||O){const Z={...U,...O&&Gt(S)?{isValid:S}:{},errors:r.errors,name:x};r={...r,...Z},g.state.next(Z)}},T=async x=>(m(x,!0),await e.resolver(i,e.context,cN(x||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),q=async x=>{const{errors:S}=await T(x);if(m(x),x)for(const N of x){const U=z(S,N);U?he(r.errors,N,U):Pe(r.errors,N)}else r.errors=S;return S},C=async(x,S,N={valid:!0})=>{for(const U in x){const L=x[U];if(L){const{_f:O,...Z}=L;if(O){const de=l.array.has(O.name),me=L._f&&uN(L._f);me&&d.validatingFields&&m([O.name],!0);const wt=await lp(L,l.disabled,i,b,e.shouldUseNativeValidation&&!S,de);if(me&&d.validatingFields&&m([O.name]),wt[O.name]&&(N.valid=!1,S))break;!S&&(z(wt,O.name)?de?gN(r.errors,wt,O.name):he(r.errors,O.name,wt[O.name]):Pe(r.errors,O.name))}!Ye(Z)&&await C(Z,S,N)}}return N.valid},H=()=>{for(const x of l.unMount){const S=z(n,x);S&&(S._f.refs?S._f.refs.every(N=>!Kl(N)):!Kl(S._f.ref))&&ll(x)}l.unMount=new Set},P=(x,S)=>!e.disabled&&(x&&S&&he(i,x,S),!Fr(oe(),s)),G=(x,S,N)=>sN(x,l,{...a.mount?i:Ie(S)?s:ht(x)?{[x]:S}:S},N,S),V=x=>Md(z(a.mount?i:s,x,e.shouldUnregister?z(s,x,[]):[])),Y=(x,S,N={})=>{const U=z(n,x);let L=S;if(U){const O=U._f;O&&(!O.disabled&&he(i,x,h0(S,O)),L=So(O.ref)&&at(S)?"":S,u0(O.ref)?[...O.ref.options].forEach(Z=>Z.selected=L.includes(Z.value)):O.refs?ea(O.ref)?O.refs.forEach(Z=>{(!Z.defaultChecked||!Z.disabled)&&(Array.isArray(L)?Z.checked=!!L.find(de=>de===Z.value):Z.checked=L===Z.value||!!L)}):O.refs.forEach(Z=>Z.checked=Z.value===L):zd(O.ref)?O.ref.value="":(O.ref.value=L,O.ref.type||g.state.next({name:x,values:Ue(i)})))}(N.shouldDirty||N.shouldTouch)&&R(x,L,N.shouldTouch,N.shouldDirty,!0),N.shouldValidate&&J(x)},te=(x,S,N)=>{for(const U in S){if(!S.hasOwnProperty(U))return;const L=S[U],O=x+"."+U,Z=z(n,O);(l.array.has(x)||Oe(L)||Z&&!Z._f)&&!_n(L)?te(O,L,N):Y(O,L,N)}},ae=(x,S,N={})=>{const U=z(n,x),L=l.array.has(x),O=Ue(S);he(i,x,O),L?(g.array.next({name:x,values:Ue(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&N.shouldDirty&&g.state.next({name:x,dirtyFields:zn(s,i),isDirty:P(x,O)})):U&&!U._f&&!at(O)?te(x,O,N):Y(x,O,N),ip(x,l)&&g.state.next({...r,name:x}),g.state.next({name:a.mount?x:void 0,values:Ue(i)})},D=async x=>{a.mount=!0;const S=x.target;let N=S.name,U=!0;const L=z(n,N),O=me=>{U=Number.isNaN(me)||_n(me)&&isNaN(me.getTime())||Fr(me,z(i,N,me))},Z=np(e.mode),de=np(e.reValidateMode);if(L){let me,wt;const ra=S.type?rp(L._f):JS(x),Nr=x.type===Jh.BLUR||x.type===Jh.FOCUS_OUT,B0=!dN(L._f)&&!e.resolver&&!z(r.errors,N)&&!L._f.deps||pN(Nr,z(r.touchedFields,N),r.isSubmitted,de,Z),dl=ip(N,l,Nr);he(i,N,ra),Nr?(!S||!S.readOnly)&&(L._f.onBlur&&L._f.onBlur(x),c&&c(0)):L._f.onChange&&L._f.onChange(x);const fl=R(N,ra,Nr),H0=!Ye(fl)||dl;if(!Nr&&g.state.next({name:N,type:x.type,values:Ue(i)}),B0)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Nr&&_():Nr||_()),H0&&g.state.next({name:N,...dl?{}:fl});if(!Nr&&dl&&g.state.next({...r}),e.resolver){const{errors:Jd}=await T([N]);if(m([N]),O(ra),U){const W0=ap(r.errors,n,N),Yd=ap(Jd,n,W0.name||N);me=Yd.error,N=Yd.name,wt=Ye(Jd)}}else m([N],!0),me=(await lp(L,l.disabled,i,b,e.shouldUseNativeValidation))[N],m([N]),O(ra),U&&(me?wt=!1:(d.isValid||f.isValid)&&(wt=await C(n,!0)));U&&(L._f.deps&&(!Array.isArray(L._f.deps)||L._f.deps.length>0)&&J(L._f.deps),E(N,wt,me,fl))}},K=(x,S)=>{if(z(r.errors,S)&&x.focus)return x.focus(),1},J=async(x,S={})=>{let N,U;const L=di(x);if(e.resolver){const O=await q(Ie(x)?x:L);N=Ye(O),U=x?!L.some(Z=>z(O,Z)):N}else x?(U=(await Promise.all(L.map(async O=>{const Z=z(n,O);return await C(Z&&Z._f?{[O]:Z}:Z)}))).every(Boolean),!(!U&&!r.isValid)&&_()):U=N=await C(n);return g.state.next({...!ht(x)||(d.isValid||f.isValid)&&N!==r.isValid?{}:{name:x},...e.resolver||!x?{isValid:N}:{},errors:r.errors}),S.shouldFocus&&!U&&fi(n,K,x?L:l.mount),U},oe=(x,S)=>{let N={...a.mount?i:s};return S&&(N=c0(S.dirtyFields?r.dirtyFields:r.touchedFields,N)),Ie(x)?N:ht(x)?z(N,x):x.map(U=>z(N,U))},Ce=(x,S)=>({invalid:!!z((S||r).errors,x),isDirty:!!z((S||r).dirtyFields,x),error:z((S||r).errors,x),isValidating:!!z(r.validatingFields,x),isTouched:!!z((S||r).touchedFields,x)}),Dn=x=>{x&&di(x).forEach(S=>Pe(r.errors,S)),g.state.next({errors:x?r.errors:{}})},Vt=(x,S,N)=>{const U=(z(n,x,{_f:{}})._f||{}).ref,L=z(r.errors,x)||{},{ref:O,message:Z,type:de,...me}=L;he(r.errors,x,{...me,...S,ref:U}),g.state.next({name:x,errors:r.errors,isValid:!1}),N&&N.shouldFocus&&U&&U.focus&&U.focus()},Rs=(x,S)=>Ot(x)?g.state.subscribe({next:N=>"values"in N&&x(G(void 0,S),N)}):G(x,S,!0),Bt=x=>g.state.subscribe({next:S=>{hN(x.name,S.name,x.exact)&&fN(S,x.formState||d,V0,x.reRenderRoot)&&x.callback({values:{...i},...r,...S,defaultValues:s})}}).unsubscribe,Mn=x=>(a.mount=!0,f={...f,...x.formState},Bt({...x,formState:{...h,...x.formState}})),ll=(x,S={})=>{for(const N of x?di(x):l.mount)l.mount.delete(N),l.array.delete(N),S.keepValue||(Pe(n,N),Pe(i,N)),!S.keepError&&Pe(r.errors,N),!S.keepDirty&&Pe(r.dirtyFields,N),!S.keepTouched&&Pe(r.touchedFields,N),!S.keepIsValidating&&Pe(r.validatingFields,N),!e.shouldUnregister&&!S.keepDefaultValue&&Pe(s,N);g.state.next({values:Ue(i)}),g.state.next({...r,...S.keepDirty?{isDirty:P()}:{}}),!S.keepIsValid&&_()},Gd=({disabled:x,name:S})=>{(Gt(x)&&a.mount||x||l.disabled.has(S))&&(x?l.disabled.add(S):l.disabled.delete(S))},cl=(x,S={})=>{let N=z(n,x);const U=Gt(S.disabled)||Gt(e.disabled);return he(n,x,{...N||{},_f:{...N&&N._f?N._f:{ref:{name:x}},name:x,mount:!0,...S}}),l.mount.add(x),N?Gd({disabled:Gt(S.disabled)?S.disabled:e.disabled,name:x}):j(x,!0,S.value),{...U?{disabled:S.disabled||e.disabled}:{},...e.progressive?{required:!!S.required,min:Vs(S.min),max:Vs(S.max),minLength:Vs(S.minLength),maxLength:Vs(S.maxLength),pattern:Vs(S.pattern)}:{},name:x,onChange:D,onBlur:D,ref:L=>{if(L){cl(x,S),N=z(n,x);const O=Ie(L.value)&&L.querySelectorAll&&L.querySelectorAll("input,select,textarea")[0]||L,Z=iN(O),de=N._f.refs||[];if(Z?de.find(me=>me===O):O===N._f.ref)return;he(n,x,{_f:{...N._f,...Z?{refs:[...de.filter(Kl),O,...Array.isArray(z(s,x))?[{}]:[]],ref:{type:O.type,name:x}}:{ref:O}}}),j(x,!1,void 0,O)}else N=z(n,x,{}),N._f&&(N._f.mount=!1),(e.shouldUnregister||S.shouldUnregister)&&!(XS(l.array,x)&&a.action)&&l.unMount.add(x)}}},ul=()=>e.shouldFocusError&&fi(n,K,l.mount),F0=x=>{Gt(x)&&(g.state.next({disabled:x}),fi(n,(S,N)=>{const U=z(n,N);U&&(S.disabled=U._f.disabled||x,Array.isArray(U._f.refs)&&U._f.refs.forEach(L=>{L.disabled=U._f.disabled||x}))},0,!1))},Zd=(x,S)=>async N=>{let U;N&&(N.preventDefault&&N.preventDefault(),N.persist&&N.persist());let L=Ue(i);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:O,values:Z}=await T();m(),r.errors=O,L=Ue(Z)}else await C(n);if(l.disabled.size)for(const O of l.disabled)Pe(L,O);if(Pe(r.errors,"root"),Ye(r.errors)){g.state.next({errors:{}});try{await x(L,N)}catch(O){U=O}}else S&&await S({...r.errors},N),ul(),setTimeout(ul);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ye(r.errors)&&!U,submitCount:r.submitCount+1,errors:r.errors}),U)throw U},z0=(x,S={})=>{z(n,x)&&(Ie(S.defaultValue)?ae(x,Ue(z(s,x))):(ae(x,S.defaultValue),he(s,x,Ue(S.defaultValue))),S.keepTouched||Pe(r.touchedFields,x),S.keepDirty||(Pe(r.dirtyFields,x),r.isDirty=S.defaultValue?P(x,Ue(z(s,x))):P()),S.keepError||(Pe(r.errors,x),d.isValid&&_()),g.state.next({...r}))},qd=(x,S={})=>{const N=x?Ue(x):s,U=Ue(N),L=Ye(x),O=L?s:U;if(S.keepDefaultValues||(s=N),!S.keepValues){if(S.keepDirtyValues){const Z=new Set([...l.mount,...Object.keys(zn(s,i))]);for(const de of Array.from(Z))z(r.dirtyFields,de)?he(O,de,z(i,de)):ae(de,z(O,de))}else{if(Dd&&Ie(x))for(const Z of l.mount){const de=z(n,Z);if(de&&de._f){const me=Array.isArray(de._f.refs)?de._f.refs[0]:de._f.ref;if(So(me)){const wt=me.closest("form");if(wt){wt.reset();break}}}}if(S.keepFieldsRef)for(const Z of l.mount)ae(Z,z(O,Z));else n={}}i=e.shouldUnregister?S.keepDefaultValues?Ue(s):{}:Ue(O),g.array.next({values:{...O}}),g.state.next({values:{...O}})}l={mount:S.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!S.keepIsValid||!!S.keepDirtyValues||!e.shouldUnregister&&!Ye(O),a.watch=!!e.shouldUnregister,a.keepIsValid=!!S.keepIsValid,a.action=!1,S.keepErrors||(r.errors={}),g.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:L?!1:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!Fr(x,s)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:L?{}:S.keepDirtyValues?S.keepDefaultValues&&i?zn(s,i):r.dirtyFields:S.keepDefaultValues&&x?zn(s,x):S.keepDirty?r.dirtyFields:{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitSuccessful:S.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Kd=(x,S)=>qd(Ot(x)?x(i):x,{...e.resetOptions,...S}),$0=(x,S={})=>{const N=z(n,x),U=N&&N._f;if(U){const L=U.refs?U.refs[0]:U.ref;L.focus&&setTimeout(()=>{L.focus(),S.shouldSelect&&Ot(L.select)&&L.select()})}},V0=x=>{r={...r,...x}},Qd={control:{register:cl,unregister:ll,getFieldState:Ce,handleSubmit:Zd,setError:Vt,_subscribe:Bt,_runSchema:T,_updateIsValidating:m,_focusError:ul,_getWatch:G,_getDirty:P,_setValid:_,_setFieldArray:p,_setDisabledField:Gd,_setErrors:k,_getFieldArray:V,_reset:qd,_resetDefaultValues:()=>Ot(e.defaultValues)&&e.defaultValues().then(x=>{Kd(x,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:F0,_subjects:g,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(x){a=x},get _defaultValues(){return s},get _names(){return l},set _names(x){l=x},get _formState(){return r},get _options(){return e},set _options(x){e={...e,...x}}},subscribe:Mn,trigger:J,register:cl,handleSubmit:Zd,watch:Rs,setValue:ae,getValues:oe,reset:Kd,resetField:z0,clearErrors:Dn,unregister:ll,setError:Vt,setFocus:$0,getFieldState:Ce};return{...Qd,formControl:Qd}}function il(t={}){const e=Xe.useRef(void 0),r=Xe.useRef(void 0),[n,s]=Xe.useState({isDirty:!1,isValidating:!1,isLoading:Ot(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ot(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ot(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...l}=vN(t);e.current={...l,formState:n}}const i=e.current.control;return i._options=t,nN(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,a},[i]),Xe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Xe.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Xe.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Xe.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Xe.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),Xe.useEffect(()=>{var a;t.values&&!Fr(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((a=i._options.resetOptions)===null||a===void 0)&&a.keepIsValid||i._setValid(),r.current=t.values,s(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),Xe.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=rN(n,i),e.current}const cp=(t,e,r)=>{if(t&&"reportValidity"in t){const n=z(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},du=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?cp(n.ref,r,t):n&&n.refs&&n.refs.forEach(s=>cp(s,r,t))}},up=(t,e)=>{e.shouldUseNativeValidation&&du(t,e);const r={};for(const n in t){const s=z(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(xN(e.names||Object.keys(t),n)){const a=Object.assign({},z(r,n));he(a,"root",i),he(r,n,a)}else he(r,n,i)}return r},xN=(t,e)=>{const r=dp(e);return t.some(n=>dp(n).match(`^${r}\\.\\d+`))};function dp(t){return t.replace(/\]|\[/g,"")}function m0(t,e,r){function n(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(t),e(l,c);for(const h in a.prototype)h in l||Object.defineProperty(l,h,{value:a.prototype[h].bind(l)});l._zod.constr=a,l._zod.def=c}const s=(r==null?void 0:r.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function a(l){var c;const u=r!=null&&r.Parent?new i:this;n(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const h of u._zod.deferred)h();return u}return Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>{var c,u;return r!=null&&r.Parent&&l instanceof r.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(t)}}),Object.defineProperty(a,"name",{value:t}),a}class wN extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const bN={};function g0(t){return bN}function _N(t,e){return typeof e=="bigint"?e.toString():e}const y0=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function _a(t){return typeof t=="string"?t:t==null?void 0:t.message}function v0(t,e,r){var s,i,a,l,c,u;const n={...t,path:t.path??[]};if(!t.message){const h=_a((a=(i=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:a.call(i,t))??_a((l=e==null?void 0:e.error)==null?void 0:l.call(e,t))??_a((c=r.customError)==null?void 0:c.call(r,t))??_a((u=r.localeError)==null?void 0:u.call(r,t))??"Invalid input";n.message=h}return delete n.inst,delete n.continue,e!=null&&e.reportInput||delete n.input,n}const x0=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(e,_N,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},kN=m0("$ZodError",x0),w0=m0("$ZodError",x0,{Parent:Error}),SN=t=>(e,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},a=e._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new wN;if(a.issues.length){const l=new((s==null?void 0:s.Err)??t)(a.issues.map(c=>v0(c,i,g0())));throw y0(l,s==null?void 0:s.callee),l}return a.value},NN=SN(w0),EN=t=>async(e,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let a=e._zod.run({value:r,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new((s==null?void 0:s.Err)??t)(a.issues.map(c=>v0(c,i,g0())));throw y0(l,s==null?void 0:s.callee),l}return a.value},jN=EN(w0);function fp(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}function CN(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(d){return t.push(d)})}),e){var c=r[a].types,u=c&&c[n.code];r[a]=Fd(a,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r}function IN(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if(n.code==="invalid_union"&&n.errors.length>0){var l=n.errors[0][0];r[a]={message:l.message,type:l.code}}else r[a]={message:i,type:s};if(n.code==="invalid_union"&&n.errors.forEach(function(h){return h.forEach(function(d){return t.push(d)})}),e){var c=r[a].types,u=c&&c[n.code];r[a]=Fd(a,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r}function Vd(t,e,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(t))return function(n,s,i){try{return Promise.resolve(fp(function(){return Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(a){return i.shouldUseNativeValidation&&du({},i),{errors:{},values:r.raw?Object.assign({},n):a}})},function(a){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(a))return{values:{},errors:up(CN(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(t))return function(n,s,i){try{return Promise.resolve(fp(function(){return Promise.resolve((r.mode==="sync"?NN:jN)(t,n,e)).then(function(a){return i.shouldUseNativeValidation&&du({},i),{errors:{},values:r.raw?Object.assign({},n):a}})},function(a){if(function(l){return l instanceof kN}(a))return{values:{},errors:up(IN(a.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}var ue;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ue||(ue={}));var hp;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(hp||(hp={}));const $=ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ar=t=>{switch(typeof t){case"undefined":return $.undefined;case"string":return $.string;case"number":return Number.isNaN(t)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(t)?$.array:t===null?$.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$.promise:typeof Map<"u"&&t instanceof Map?$.map:typeof Set<"u"&&t instanceof Set?$.set:typeof Date<"u"&&t instanceof Date?$.date:$.object;default:return $.unknown}},A=ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let l=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof xr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}xr.create=t=>new xr(t);const fu=(t,e)=>{let r;switch(t.code){case A.invalid_type:t.received===$.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case A.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ue.jsonStringifyReplacer)}`;break;case A.unrecognized_keys:r=`Unrecognized key(s) in object: ${ue.joinValues(t.keys,", ")}`;break;case A.invalid_union:r="Invalid input";break;case A.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ue.joinValues(t.options)}`;break;case A.invalid_enum_value:r=`Invalid enum value. Expected ${ue.joinValues(t.options)}, received '${t.received}'`;break;case A.invalid_arguments:r="Invalid function arguments";break;case A.invalid_return_type:r="Invalid function return type";break;case A.invalid_date:r="Invalid date";break;case A.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ue.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case A.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case A.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case A.custom:r="Invalid input";break;case A.invalid_intersection_types:r="Intersection results could not be merged";break;case A.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case A.not_finite:r="Number must be finite";break;default:r=e.defaultError,ue.assertNever(t)}return{message:r}};let TN=fu;function PN(){return TN}const AN=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function M(t,e){const r=PN(),n=AN({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===fu?void 0:fu].filter(s=>!!s)});t.common.issues.push(n)}class yt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return X;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return yt.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return X;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const X=Object.freeze({status:"aborted"}),Xs=t=>({status:"dirty",value:t}),Ct=t=>({status:"valid",value:t}),pp=t=>t.status==="aborted",mp=t=>t.status==="dirty",_s=t=>t.status==="valid",Eo=t=>typeof Promise<"u"&&t instanceof Promise;var B;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(B||(B={}));class on{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gp=(t,e)=>{if(_s(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new xr(t.common.issues);return this._error=r,this._error}}};function se(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:c}=t;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class ce{get description(){return this._def.description}_getType(e){return Ar(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ar(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new yt,ctx:{common:e.parent.common,data:e.data,parsedType:Ar(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Eo(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ar(e)},s=this._parseSync({data:e,path:n.path,parent:n});return gp(n,s)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ar(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return _s(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>_s(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ar(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(Eo(s)?s:Promise.resolve(s));return gp(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:A.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ns({schema:this,typeName:ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return nn.create(this,this._def)}nullable(){return Es.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xt.create(this)}promise(){return Io.create(this,this._def)}or(e){return jo.create([this,e],this._def)}and(e){return Co.create(this,e,this._def)}transform(e){return new Ns({...se(this._def),schema:this,typeName:ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new gu({...se(this._def),innerType:this,defaultValue:r,typeName:ee.ZodDefault})}brand(){return new tE({typeName:ee.ZodBranded,type:this,...se(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new yu({...se(this._def),innerType:this,catchValue:r,typeName:ee.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Bd.create(this,e)}readonly(){return vu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const RN=/^c[^\s-]{8,}$/i,ON=/^[0-9a-z]+$/,LN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,MN=/^[a-z0-9_-]{21}$/i,UN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$N="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ql;const VN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,HN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,WN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,GN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ZN=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,b0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qN=new RegExp(`^${b0}$`);function _0(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function KN(t){return new RegExp(`^${_0(t)}$`)}function QN(t){let e=`${b0}T${_0(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function JN(t,e){return!!((e==="v4"||!e)&&VN.test(t)||(e==="v6"||!e)&&HN.test(t))}function YN(t,e){if(!UN.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function XN(t,e){return!!((e==="v4"||!e)&&BN.test(t)||(e==="v6"||!e)&&WN.test(t))}class Hr extends ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$.string){const i=this._getOrReturnCtx(e);return M(i,{code:A.invalid_type,expected:$.string,received:i.parsedType}),X}const n=new yt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),M(s,{code:A.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),M(s,{code:A.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?M(s,{code:A.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&M(s,{code:A.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")zN.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"email",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ql||(Ql=new RegExp($N,"u")),Ql.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"emoji",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")DN.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"uuid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")MN.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"nanoid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")RN.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"cuid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")ON.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"cuid2",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")LN.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"ulid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),M(s,{validation:"url",code:A.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"regex",code:A.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),M(s,{code:A.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),M(s,{code:A.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),M(s,{code:A.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?QN(i).test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{code:A.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?qN.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{code:A.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?KN(i).test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{code:A.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?FN.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"duration",code:A.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?JN(e.data,i.version)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"ip",code:A.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?YN(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"jwt",code:A.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?XN(e.data,i.version)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"cidr",code:A.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?GN.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"base64",code:A.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?ZN.test(e.data)||(s=this._getOrReturnCtx(e,s),M(s,{validation:"base64url",code:A.invalid_string,message:i.message}),n.dirty()):ue.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:A.invalid_string,...B.errToObj(n)})}_addCheck(e){return new Hr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...B.errToObj(e)})}url(e){return this._addCheck({kind:"url",...B.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...B.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...B.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...B.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...B.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...B.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...B.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...B.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...B.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...B.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...B.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...B.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...B.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...B.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...B.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...B.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...B.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...B.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...B.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...B.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...B.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...B.errToObj(r)})}nonempty(e){return this.min(1,B.errToObj(e))}trim(){return new Hr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Hr.create=t=>new Hr({checks:[],typeName:ee.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...se(t)});function eE(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class ks extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$.number){const i=this._getOrReturnCtx(e);return M(i,{code:A.invalid_type,expected:$.number,received:i.parsedType}),X}let n;const s=new yt;for(const i of this._def.checks)i.kind==="int"?ue.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),M(n,{code:A.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:A.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:A.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?eE(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),M(n,{code:A.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),M(n,{code:A.not_finite,message:i.message}),s.dirty()):ue.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,B.toString(r))}gt(e,r){return this.setLimit("min",e,!1,B.toString(r))}lte(e,r){return this.setLimit("max",e,!0,B.toString(r))}lt(e,r){return this.setLimit("max",e,!1,B.toString(r))}setLimit(e,r,n,s){return new ks({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:B.toString(s)}]})}_addCheck(e){return new ks({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:B.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:B.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ue.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ks.create=t=>new ks({checks:[],typeName:ee.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...se(t)});class Mi extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==$.bigint)return this._getInvalidInput(e);let n;const s=new yt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:A.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),M(n,{code:A.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),M(n,{code:A.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ue.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return M(r,{code:A.invalid_type,expected:$.bigint,received:r.parsedType}),X}gte(e,r){return this.setLimit("min",e,!0,B.toString(r))}gt(e,r){return this.setLimit("min",e,!1,B.toString(r))}lte(e,r){return this.setLimit("max",e,!0,B.toString(r))}lt(e,r){return this.setLimit("max",e,!1,B.toString(r))}setLimit(e,r,n,s){return new Mi({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:B.toString(s)}]})}_addCheck(e){return new Mi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:B.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Mi.create=t=>new Mi({checks:[],typeName:ee.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...se(t)});class hu extends ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$.boolean){const n=this._getOrReturnCtx(e);return M(n,{code:A.invalid_type,expected:$.boolean,received:n.parsedType}),X}return Ct(e.data)}}hu.create=t=>new hu({typeName:ee.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...se(t)});class Ui extends ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$.date){const i=this._getOrReturnCtx(e);return M(i,{code:A.invalid_type,expected:$.date,received:i.parsedType}),X}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return M(i,{code:A.invalid_date}),X}const n=new yt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),M(s,{code:A.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),M(s,{code:A.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):ue.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ui({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:B.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:B.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ui.create=t=>new Ui({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ee.ZodDate,...se(t)});class yp extends ce{_parse(e){if(this._getType(e)!==$.symbol){const n=this._getOrReturnCtx(e);return M(n,{code:A.invalid_type,expected:$.symbol,received:n.parsedType}),X}return Ct(e.data)}}yp.create=t=>new yp({typeName:ee.ZodSymbol,...se(t)});class vp extends ce{_parse(e){if(this._getType(e)!==$.undefined){const n=this._getOrReturnCtx(e);return M(n,{code:A.invalid_type,expected:$.undefined,received:n.parsedType}),X}return Ct(e.data)}}vp.create=t=>new vp({typeName:ee.ZodUndefined,...se(t)});class xp extends ce{_parse(e){if(this._getType(e)!==$.null){const n=this._getOrReturnCtx(e);return M(n,{code:A.invalid_type,expected:$.null,received:n.parsedType}),X}return Ct(e.data)}}xp.create=t=>new xp({typeName:ee.ZodNull,...se(t)});class wp extends ce{constructor(){super(...arguments),this._any=!0}_parse(e){return Ct(e.data)}}wp.create=t=>new wp({typeName:ee.ZodAny,...se(t)});class bp extends ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ct(e.data)}}bp.create=t=>new bp({typeName:ee.ZodUnknown,...se(t)});class ln extends ce{_parse(e){const r=this._getOrReturnCtx(e);return M(r,{code:A.invalid_type,expected:$.never,received:r.parsedType}),X}}ln.create=t=>new ln({typeName:ee.ZodNever,...se(t)});class _p extends ce{_parse(e){if(this._getType(e)!==$.undefined){const n=this._getOrReturnCtx(e);return M(n,{code:A.invalid_type,expected:$.void,received:n.parsedType}),X}return Ct(e.data)}}_p.create=t=>new _p({typeName:ee.ZodVoid,...se(t)});class Xt extends ce{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==$.array)return M(r,{code:A.invalid_type,expected:$.array,received:r.parsedType}),X;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(a||l)&&(M(r,{code:a?A.too_big:A.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(M(r,{code:A.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(M(r,{code:A.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,l)=>s.type._parseAsync(new on(r,a,r.path,l)))).then(a=>yt.mergeArray(n,a));const i=[...r.data].map((a,l)=>s.type._parseSync(new on(r,a,r.path,l)));return yt.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Xt({...this._def,minLength:{value:e,message:B.toString(r)}})}max(e,r){return new Xt({...this._def,maxLength:{value:e,message:B.toString(r)}})}length(e,r){return new Xt({...this._def,exactLength:{value:e,message:B.toString(r)}})}nonempty(e){return this.min(1,e)}}Xt.create=(t,e)=>new Xt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ee.ZodArray,...se(e)});function $n(t){if(t instanceof Ae){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=nn.create($n(n))}return new Ae({...t._def,shape:()=>e})}else return t instanceof Xt?new Xt({...t._def,type:$n(t.element)}):t instanceof nn?nn.create($n(t.unwrap())):t instanceof Es?Es.create($n(t.unwrap())):t instanceof An?An.create(t.items.map(e=>$n(e))):t}class Ae extends ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ue.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==$.object){const u=this._getOrReturnCtx(e);return M(u,{code:A.invalid_type,expected:$.object,received:u.parsedType}),X}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof ln&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const h=i[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new on(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ln){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(u==="strict")l.length>0&&(M(s,{code:A.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const d=s.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new on(s,d,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const d=await h.key,f=await h.value;u.push({key:d,value:f,alwaysSet:h.alwaysSet})}return u}).then(u=>yt.mergeObjectSync(n,u)):yt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return B.errToObj,new Ae({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a;const s=((a=(i=this._def).errorMap)==null?void 0:a.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:B.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ae({...this._def,unknownKeys:"strip"})}passthrough(){return new Ae({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ae({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ae({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ee.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ae({...this._def,catchall:e})}pick(e){const r={};for(const n of ue.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ae({...this._def,shape:()=>r})}omit(e){const r={};for(const n of ue.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Ae({...this._def,shape:()=>r})}deepPartial(){return $n(this)}partial(e){const r={};for(const n of ue.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Ae({...this._def,shape:()=>r})}required(e){const r={};for(const n of ue.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof nn;)i=i._def.innerType;r[n]=i}return new Ae({...this._def,shape:()=>r})}keyof(){return k0(ue.objectKeys(this.shape))}}Ae.create=(t,e)=>new Ae({shape:()=>t,unknownKeys:"strip",catchall:ln.create(),typeName:ee.ZodObject,...se(e)});Ae.strictCreate=(t,e)=>new Ae({shape:()=>t,unknownKeys:"strict",catchall:ln.create(),typeName:ee.ZodObject,...se(e)});Ae.lazycreate=(t,e)=>new Ae({shape:t,unknownKeys:"strip",catchall:ln.create(),typeName:ee.ZodObject,...se(e)});class jo extends ce{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new xr(l.ctx.common.issues));return M(r,{code:A.invalid_union,unionErrors:a}),X}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new xr(c));return M(r,{code:A.invalid_union,unionErrors:l}),X}}get options(){return this._def.options}}jo.create=(t,e)=>new jo({options:t,typeName:ee.ZodUnion,...se(e)});function pu(t,e){const r=Ar(t),n=Ar(e);if(t===e)return{valid:!0,data:t};if(r===$.object&&n===$.object){const s=ue.objectKeys(e),i=ue.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=pu(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(r===$.array&&n===$.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=pu(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===$.date&&n===$.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Co extends ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(pp(i)||pp(a))return X;const l=pu(i.value,a.value);return l.valid?((mp(i)||mp(a))&&r.dirty(),{status:r.value,value:l.data}):(M(n,{code:A.invalid_intersection_types}),X)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Co.create=(t,e,r)=>new Co({left:t,right:e,typeName:ee.ZodIntersection,...se(r)});class An extends ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.array)return M(n,{code:A.invalid_type,expected:$.array,received:n.parsedType}),X;if(n.data.length<this._def.items.length)return M(n,{code:A.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&n.data.length>this._def.items.length&&(M(n,{code:A.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new on(n,a,n.path,l)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>yt.mergeArray(r,a)):yt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new An({...this._def,rest:e})}}An.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new An({items:t,typeName:ee.ZodTuple,rest:null,...se(e)})};class kp extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.map)return M(n,{code:A.invalid_type,expected:$.map,received:n.parsedType}),X;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new on(n,l,n.path,[u,"key"])),value:i._parse(new on(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return X;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return X;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),l.set(u.value,h.value)}return{status:r.value,value:l}}}}kp.create=(t,e,r)=>new kp({valueType:e,keyType:t,typeName:ee.ZodMap,...se(r)});class Fi extends ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.set)return M(n,{code:A.invalid_type,expected:$.set,received:n.parsedType}),X;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(M(n,{code:A.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(M(n,{code:A.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const h of c){if(h.status==="aborted")return X;h.status==="dirty"&&r.dirty(),u.add(h.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new on(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,r){return new Fi({...this._def,minSize:{value:e,message:B.toString(r)}})}max(e,r){return new Fi({...this._def,maxSize:{value:e,message:B.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Fi.create=(t,e)=>new Fi({valueType:t,minSize:null,maxSize:null,typeName:ee.ZodSet,...se(e)});class Sp extends ce{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Sp.create=(t,e)=>new Sp({getter:t,typeName:ee.ZodLazy,...se(e)});class mu extends ce{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return M(r,{received:r.data,code:A.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:e.data}}get value(){return this._def.value}}mu.create=(t,e)=>new mu({value:t,typeName:ee.ZodLiteral,...se(e)});function k0(t,e){return new Ss({values:t,typeName:ee.ZodEnum,...se(e)})}class Ss extends ce{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return M(r,{expected:ue.joinValues(n),received:r.parsedType,code:A.invalid_type}),X}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return M(r,{received:r.data,code:A.invalid_enum_value,options:n}),X}return Ct(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ss.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ss.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ss.create=k0;class Np extends ce{_parse(e){const r=ue.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==$.string&&n.parsedType!==$.number){const s=ue.objectValues(r);return M(n,{expected:ue.joinValues(s),received:n.parsedType,code:A.invalid_type}),X}if(this._cache||(this._cache=new Set(ue.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ue.objectValues(r);return M(n,{received:n.data,code:A.invalid_enum_value,options:s}),X}return Ct(e.data)}get enum(){return this._def.values}}Np.create=(t,e)=>new Np({values:t,typeName:ee.ZodNativeEnum,...se(e)});class Io extends ce{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==$.promise&&r.common.async===!1)return M(r,{code:A.invalid_type,expected:$.promise,received:r.parsedType}),X;const n=r.parsedType===$.promise?r.data:Promise.resolve(r.data);return Ct(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Io.create=(t,e)=>new Io({type:t,typeName:ee.ZodPromise,...se(e)});class Ns extends ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{M(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async l=>{if(r.value==="aborted")return X;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?X:c.status==="dirty"||r.value==="dirty"?Xs(c.value):c});{if(r.value==="aborted")return X;const l=this._def.schema._parseSync({data:a,path:n.path,parent:n});return l.status==="aborted"?X:l.status==="dirty"||r.value==="dirty"?Xs(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?X:(l.status==="dirty"&&r.dirty(),a(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?X:(l.status==="dirty"&&r.dirty(),a(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!_s(a))return X;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>_s(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:r.value,value:l})):X);ue.assertNever(s)}}Ns.create=(t,e,r)=>new Ns({schema:t,typeName:ee.ZodEffects,effect:e,...se(r)});Ns.createWithPreprocess=(t,e,r)=>new Ns({schema:e,effect:{type:"preprocess",transform:t},typeName:ee.ZodEffects,...se(r)});class nn extends ce{_parse(e){return this._getType(e)===$.undefined?Ct(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nn.create=(t,e)=>new nn({innerType:t,typeName:ee.ZodOptional,...se(e)});class Es extends ce{_parse(e){return this._getType(e)===$.null?Ct(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Es.create=(t,e)=>new Es({innerType:t,typeName:ee.ZodNullable,...se(e)});class gu extends ce{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===$.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}gu.create=(t,e)=>new gu({innerType:t,typeName:ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...se(e)});class yu extends ce{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Eo(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new xr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}yu.create=(t,e)=>new yu({innerType:t,typeName:ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...se(e)});class Ep extends ce{_parse(e){if(this._getType(e)!==$.nan){const n=this._getOrReturnCtx(e);return M(n,{code:A.invalid_type,expected:$.nan,received:n.parsedType}),X}return{status:"valid",value:e.data}}}Ep.create=t=>new Ep({typeName:ee.ZodNaN,...se(t)});class tE extends ce{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Bd extends ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?X:i.status==="dirty"?(r.dirty(),Xs(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?X:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Bd({in:e,out:r,typeName:ee.ZodPipeline})}}class vu extends ce{_parse(e){const r=this._def.innerType._parse(e),n=s=>(_s(s)&&(s.value=Object.freeze(s.value)),s);return Eo(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}vu.create=(t,e)=>new vu({innerType:t,typeName:ee.ZodReadonly,...se(e)});var ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ee||(ee={}));const W=Hr.create,De=ks.create,jp=hu.create,rE=Ui.create;ln.create;const fr=Xt.create,Qe=Ae.create;jo.create;Co.create;An.create;const S0=mu.create,nE=Ss.create;Io.create;nn.create;Es.create;Qe({professional_name:W().min(1,"El nombre profesional es requerido"),specialty:W().min(1,"La especialidad es requerida"),medical_license:W().min(1,"La matrcula es requerida"),onboarding_completed:S0(!0)});Qe({id:De(),email:W().email(),is_verified:jp(),is_onboarded:jp(),professional_name:W().nullable().optional(),specialty:W().nullable().optional(),medical_license:W().nullable().optional()});const sE=Qe({professional_name:W().min(3,"Mnimo 3 caracteres"),specialty:W().min(1,"Campo requerido"),medical_license:W().min(1,"Campo requerido"),registration_number:W().min(1,"Campo requerido")});function iE(){const{completeOnboarding:t,refreshProfile:e}=Ke(),r=$t(),[n,s]=v.useState(null),{register:i,handleSubmit:a,formState:{errors:l,isSubmitting:c,isValid:u}}=il({resolver:Vd(sE),mode:"onChange"}),h=async d=>{s(null);try{const f={professionalName:d.professional_name,specialty:d.specialty,registrationNumber:d.registration_number,phone:"",address:"",isOnboarded:!1,email:""};await t(f),await e(),r("/dashboard")}catch(f){console.error(f),s("Error al completar el onboarding. Por favor intente nuevamente.")}};return o.jsxs("form",{onSubmit:a(h),style:{display:"flex",flexDirection:"column",gap:"1rem",maxWidth:"400px"},children:[n&&o.jsx("div",{style:{padding:"0.5rem",backgroundColor:"#ffebee",color:"#c62828",borderRadius:"4px"},children:n}),o.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[o.jsx("label",{htmlFor:"professional_name",children:"Nombre Profesional"}),o.jsx("input",{id:"professional_name",...i("professional_name"),placeholder:"Dr. Nombre Apellido",style:{padding:"0.5rem"}}),l.professional_name&&o.jsx("span",{style:{color:"red"},children:l.professional_name.message})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[o.jsx("label",{htmlFor:"specialty",children:"Especialidad"}),o.jsx("input",{id:"specialty",...i("specialty"),placeholder:"Ej. Cardiologa",style:{padding:"0.5rem"}}),l.specialty&&o.jsx("span",{style:{color:"red"},children:l.specialty.message})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[o.jsx("label",{htmlFor:"medical_license",children:"Matrcula"}),o.jsx("input",{id:"medical_license",...i("medical_license"),placeholder:"Ej. MP-12345",style:{padding:"0.5rem"}}),l.medical_license&&o.jsx("span",{style:{color:"red"},children:l.medical_license.message})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[o.jsx("label",{htmlFor:"registration_number",children:"Nmero de Registro"}),o.jsx("input",{id:"registration_number",...i("registration_number"),placeholder:"Ej. REG-999",style:{padding:"0.5rem"}}),l.registration_number&&o.jsx("span",{style:{color:"red"},children:l.registration_number.message})]}),o.jsx("button",{type:"submit",disabled:!u||c,style:{padding:"0.75rem",marginTop:"1rem",backgroundColor:!u||c?"#ccc":"#007bff",color:"white",border:"none",cursor:!u||c?"not-allowed":"pointer"},children:c?"Procesando...":"Completar Perfil"})]})}function aE(){return o.jsxs("div",{style:{padding:"2rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsx("h1",{children:"Bienvenido a Vitalinuage"}),o.jsx("p",{children:"Por favor, completa tu perfil profesional para continuar."}),o.jsx("div",{style:{marginTop:"2rem",width:"100%",maxWidth:"400px"},children:o.jsx(iE,{})})]})}const oE=[{label:"Inicio",path:"/dashboard",icon:o.jsx(VS,{size:20})},{label:"Panel de Control",path:"/metrics",icon:o.jsx(t0,{size:20})},{label:"Pacientes",path:"/patients",icon:o.jsx(Ld,{size:20})},{label:"Citas",path:"/appointments",icon:o.jsx(rl,{size:20})}];function lE({isOpen:t,onClose:e,isCollapsed:r=!1,toggleCollapse:n}){const{logout:s}=Ke();$t();const i=async()=>{try{console.log("[AUTH AUDIT] Sidebar Logout Clicked"),await s()}catch(a){console.error("Logout failed",a)}};return o.jsxs(o.Fragment,{children:[t&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:e}),o.jsxs("aside",{className:`
                fixed md:static inset-y-0 left-0 z-50
                bg-white border-r border-slate-200 shadow-sm
                transform transition-all duration-300 ease-in-out
                flex flex-col
                ${t?"translate-x-0":"-translate-x-full md:translate-x-0"}
                ${r?"w-20":"w-64"}
            `,children:[o.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-slate-100 relative shrink-0",children:[!r&&o.jsx("span",{className:"text-xl font-bold text-slate-800 animate-in fade-in duration-300",children:"Vitalinuage"}),r&&o.jsx("span",{className:"text-xl font-bold text-slate-800 mx-auto",children:"V"}),o.jsx("button",{onClick:e,className:"md:hidden text-slate-500",children:o.jsx(o0,{size:24})})]}),o.jsx("nav",{className:"p-3 space-y-1 flex-1 overflow-y-auto",children:oE.map(a=>o.jsxs(Nb,{to:a.path,onClick:()=>window.innerWidth<768&&e(),className:({isActive:l})=>`
                                flex items-center ${r?"justify-center":""} gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-colors
                                ${l?"bg-blue-50 text-blue-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
                            `,title:r?a.label:"",children:[a.icon,!r&&o.jsx("span",{children:a.label})]},a.path))}),o.jsxs("div",{className:`
                    p-3 border-t border-slate-100 shrink-0 flex
                    ${r?"flex-col gap-2":"flex-row justify-between items-center"}
                `,children:[!r&&o.jsxs("button",{onClick:i,className:"flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-colors text-red-600 hover:bg-red-50",title:"Cerrar Sesin",children:[o.jsx(Td,{size:20}),o.jsx("span",{children:"Cerrar Sesin"})]}),o.jsx("div",{className:"hidden md:flex",children:o.jsx("button",{onClick:n,"aria-label":"toggle sidebar",className:`
                                p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-colors
                                ${r?"w-full flex justify-center":""}
                            `,children:r?o.jsx(s0,{size:20}):o.jsx(n0,{size:20})})})]})]})]})}const Hd="-",cE=t=>{const e=dE(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const l=a.split(Hd);return l[0]===""&&l.length!==1&&l.shift(),N0(l,e)||uE(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},N0=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?N0(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Hd);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Cp=/^\[(.+)\]$/,uE=t=>{if(Cp.test(t)){const e=Cp.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},dE=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return hE(Object.entries(t.classGroups),r).forEach(([i,a])=>{xu(a,n,i,e)}),n},xu=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Ip(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(fE(s)){xu(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{xu(a,Ip(e,i),r,n)})})},Ip=(t,e)=>{let r=t;return e.split(Hd).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},fE=t=>t.isThemeGetter,hE=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[r,s]}):t,pE=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},E0="!",mE=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,h=0,d;for(let _=0;_<l.length;_++){let m=l[_];if(u===0){if(m===s&&(n||l.slice(_,_+i)===e)){c.push(l.slice(h,_)),h=_+i;continue}if(m==="/"){d=_;continue}}m==="["?u++:m==="]"&&u--}const f=c.length===0?l:l.substring(h),g=f.startsWith(E0),b=g?f.substring(1):f,w=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:w}};return r?l=>r({className:l,parseClassName:a}):a},gE=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},yE=t=>({cache:pE(t.cacheSize),parseClassName:mE(t),...cE(t)}),vE=/\s+/,xE=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(vE);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:g}=r(u);let b=!!g,w=n(b?f.substring(0,g):f);if(!w){if(!b){l=u+(l.length>0?" "+l:l);continue}if(w=n(f),!w){l=u+(l.length>0?" "+l:l);continue}b=!1}const _=gE(h).join(":"),m=d?_+E0:_,p=m+w;if(i.includes(p))continue;i.push(p);const y=s(w,b);for(let k=0;k<y.length;++k){const j=y[k];i.push(m+j)}l=u+(l.length>0?" "+l:l)}return l};function wE(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=j0(e))&&(n&&(n+=" "),n+=r);return n}const j0=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=j0(t[n]))&&(r&&(r+=" "),r+=e);return r};function bE(t,...e){let r,n,s,i=a;function a(c){const u=e.reduce((h,d)=>d(h),t());return r=yE(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=xE(c,r);return s(c,h),h}return function(){return i(wE.apply(null,arguments))}}const ye=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},C0=/^\[(?:([a-z-]+):)?(.+)\]$/i,_E=/^\d+\/\d+$/,kE=new Set(["px","full","screen"]),SE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rr=t=>ds(t)||kE.has(t)||_E.test(t),Cr=t=>As(t,"length",DE),ds=t=>!!t&&!Number.isNaN(Number(t)),Jl=t=>As(t,"number",ds),Bs=t=>!!t&&Number.isInteger(Number(t)),IE=t=>t.endsWith("%")&&ds(t.slice(0,-1)),re=t=>C0.test(t),Ir=t=>SE.test(t),TE=new Set(["length","size","percentage"]),PE=t=>As(t,TE,I0),AE=t=>As(t,"position",I0),RE=new Set(["image","url"]),OE=t=>As(t,RE,UE),LE=t=>As(t,"",ME),Hs=()=>!0,As=(t,e,r)=>{const n=C0.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},DE=t=>NE.test(t)&&!EE.test(t),I0=()=>!1,ME=t=>jE.test(t),UE=t=>CE.test(t),FE=()=>{const t=ye("colors"),e=ye("spacing"),r=ye("blur"),n=ye("brightness"),s=ye("borderColor"),i=ye("borderRadius"),a=ye("borderSpacing"),l=ye("borderWidth"),c=ye("contrast"),u=ye("grayscale"),h=ye("hueRotate"),d=ye("invert"),f=ye("gap"),g=ye("gradientColorStops"),b=ye("gradientColorStopPositions"),w=ye("inset"),_=ye("margin"),m=ye("opacity"),p=ye("padding"),y=ye("saturate"),k=ye("scale"),j=ye("sepia"),R=ye("skew"),E=ye("space"),T=ye("translate"),q=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",re,e],P=()=>[re,e],G=()=>["",rr,Cr],V=()=>["auto",ds,re],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",re],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[ds,re];return{cacheSize:500,separator:":",theme:{colors:[Hs],spacing:[rr,Cr],blur:["none","",Ir,re],brightness:oe(),borderColor:[t],borderRadius:["none","","full",Ir,re],borderSpacing:P(),borderWidth:G(),contrast:oe(),grayscale:K(),hueRotate:oe(),invert:K(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[IE,Cr],inset:H(),margin:H(),opacity:oe(),padding:P(),saturate:oe(),scale:oe(),sepia:K(),skew:oe(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[Ir]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),re]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bs,re]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Bs,re]}],"grid-cols":[{"grid-cols":[Hs]}],"col-start-end":[{col:["auto",{span:["full",Bs,re]},re]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Hs]}],"row-start-end":[{row:["auto",{span:[Bs,re]},re]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,e]}],"min-w":[{"min-w":[re,e,"min","max","fit"]}],"max-w":[{"max-w":[re,e,"none","full","min","max","fit","prose",{screen:[Ir]},Ir]}],h:[{h:[re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ir,Cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jl]}],"font-family":[{font:[Hs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",ds,Jl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rr,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rr,Cr]}],"underline-offset":[{"underline-offset":["auto",rr,re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),AE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OE]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[rr,re]}],"outline-w":[{outline:[rr,Cr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[rr,Cr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ir,LE]}],"shadow-color":[{shadow:[Hs]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ir,re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Bs,re]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[rr,Cr,Jl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wu=bE(FE);function zE(){const t=$t(),{profile:e,logout:r}=Ke(),[n,s]=v.useState(!1),i=v.useRef(null);v.useEffect(()=>{function l(c){i.current&&!i.current.contains(c.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[i]);const a=async()=>{console.log("[AUTH AUDIT] Header Logout CLICK handler fired");try{await r()}catch(l){console.error("[AUTH AUDIT] Header logout failed",l)}};return o.jsxs("header",{className:"sticky top-0 left-0 right-0 h-16 bg-white/80 backdrop-blur-md border-b border-gray-100 z-40 flex items-center justify-between px-6 transition-all",children:[o.jsx("div",{"data-testid":"header-date-display",className:"hidden md:block text-sm font-medium text-slate-500",children:new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).replace(/^\w/,l=>l.toUpperCase())}),o.jsxs("div",{className:"relative",ref:i,children:[o.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-3 p-1.5 pr-3 rounded-full hover:bg-slate-100 transition-colors outline-none focus:ring-2 focus:ring-blue-100",children:[o.jsx("div",{className:"h-9 w-9 bg-blue-100 rounded-full flex items-center justify-center text-[#1e3a8a]",children:o.jsx(Od,{className:"h-5 w-5"})}),o.jsx("span",{className:"text-sm font-medium text-slate-700 hidden sm:block",children:e.professionalName}),o.jsx(US,{className:wu("h-4 w-4 text-slate-400 transition-transform duration-200",n&&"transform rotate-180")})]}),n&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-100 py-2 overflow-hidden animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[o.jsxs("div",{className:"px-4 py-2 border-b border-gray-50",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900",children:e.professionalName}),o.jsx("p",{className:"text-xs text-slate-500 truncate",children:e.email||"Usuario"})]}),o.jsxs("div",{className:"py-1",children:[o.jsxs("button",{onClick:()=>{s(!1),t("/settings")},className:"flex w-full items-center gap-2 px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors",children:[o.jsx(a0,{className:"h-4 w-4 text-slate-400"}),"Configuracin de Perfil"]}),o.jsxs("button",{onClick:a,className:"flex w-full items-center gap-2 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[o.jsx(Td,{className:"h-4 w-4 text-red-400"}),"Cerrar Sesin"]})]})]})]})]})}function $E(){const[t,e]=v.useState(!1),n=hn().pathname==="/dashboard",[s,i]=v.useState(()=>{const l=localStorage.getItem("sidebar_collapsed");return l===null?!0:l==="true"}),a=()=>{i(l=>{const c=!l;return localStorage.setItem("sidebar_collapsed",String(c)),c})};return o.jsxs("div",{className:`flex h-screen ${n?"bg-white":"bg-slate-50"} overflow-hidden`,children:[o.jsx(lE,{isOpen:t,onClose:()=>e(!1),isCollapsed:s,toggleCollapse:a}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300",children:[o.jsxs("div",{className:"md:hidden bg-white border-b border-slate-200 p-4 flex items-center",children:[o.jsx("button",{onClick:()=>e(!0),className:"p-2 -ml-2 text-slate-600 hover:bg-slate-100 rounded-md",children:o.jsx(BS,{size:24})}),o.jsx("span",{className:"ml-4 font-semibold text-slate-800",children:"Menu"})]}),o.jsx("div",{className:"hidden md:block",children:o.jsx(zE,{})}),o.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx(db,{})})})]})]})}function VE(){return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"flex flex-col items-center gap-4",children:o.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})})})}const BE=Qe({query:W().min(1,"Escriba al menos 1 caracter")}),HE=Qe({id:W(),nombre_completo:W(),dni:W(),imc:De()});Qe({results:fr(HE)});function $e(){const{user:t,logout:e}=Ke(),r=v.useCallback(async()=>{if(!t)return console.warn("[AUTH AUDIT] useAuthFetch: No user available"),null;try{return await t.getIdToken()}catch(i){return console.error("[AUTH AUDIT] useAuthFetch: Failed to get token",i),null}},[t]),n=v.useCallback(async()=>{console.log("[AUTH AUDIT] Unauthorized -> logout"),await e()},[e]);return v.useCallback((i,a,l)=>Va(r,n)(i,a,l),[r,n])}function Yl(){const t=$t(),{profile:e}=Ke(),[r,n]=v.useState(null),[s,i]=v.useState(!1),[a,l]=v.useState(null),[c,u]=v.useState(""),[h,d]=v.useState(!1),f=()=>{const m=new Date().getHours();return m>=6&&m<13?"Buenos das":m>=13&&m<20?"Buenas tardes":"Buenas noches"},{register:g,handleSubmit:b}=il({resolver:Vd(BE)}),w=$e(),_=async m=>{if(l(null),n(null),i(!1),d(!1),!(m.query.length<3)){i(!0),u(m.query),d(!0);try{const p=await w(je(`/api/patients/search?q=${encodeURIComponent(m.query)}`));if(p.status===503){l("El servicio de bsqueda no est disponible momentneamente.");return}if(!p.ok){n([]);return}const y=await p.json();n(y.results||[])}catch(p){p.message!=="AUTH_TOKEN_MISSING"&&p.message!=="AUTH_401"&&l("Error de conexin al buscar pacientes.")}finally{d(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center pt-[20vh] font-sans px-4",children:[o.jsxs("h1",{className:"text-4xl font-light text-slate-800 mb-8 tracking-tight",children:[f(),", ",o.jsx("span",{className:"font-semibold text-[#1e3a8a]",children:e.professionalName})]}),o.jsx("div",{className:"w-full max-w-2xl relative",children:o.jsxs("form",{onSubmit:b(_),className:"relative group",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:o.jsx(Ad,{className:"h-5 w-5 text-gray-400 group-focus-within:text-[#1e3a8a] transition-colors"})}),o.jsx("input",{...g("query"),type:"text",autoFocus:!0,autoComplete:"off",placeholder:"Buscar paciente por nombre o DNI...",className:"w-full pl-12 pr-4 py-3.5 rounded-full border border-gray-200 shadow-sm focus:shadow-md focus:border-transparent focus:ring-2 focus:ring-blue-100 outline-none transition-all text-gray-800 text-lg"}),o.jsx("button",{type:"submit",className:"hidden"})]})}),o.jsxs("div",{className:"w-full max-w-2xl mt-8",children:[h&&o.jsx("div",{className:"text-center text-slate-500 py-4",children:"Buscando..."}),a&&!h&&o.jsx("div",{className:"p-4 bg-red-50 text-red-700 rounded-md border border-red-100 text-center",children:a}),s&&!h&&!a&&r&&r.length>0&&o.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm overflow-hidden",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-50 bg-gray-50/50",children:o.jsxs("p",{className:"text-sm text-gray-500",children:["Resultados para ",o.jsxs("span",{className:"font-semibold text-gray-700",children:['"',c,'"']})]})}),o.jsx("ul",{children:r.map(m=>o.jsx("li",{onClick:()=>t(`/patient/${m.id}`,{state:{from:"/search"}}),className:"border-b border-gray-50 last:border-none hover:bg-slate-50 transition-colors cursor-pointer",children:o.jsxs("div",{className:"px-4 py-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-[#1e3a8a]",children:m.nombre_completo}),o.jsxs("p",{className:"text-sm text-gray-500",children:["DNI: ",m.dni]})]}),o.jsx("div",{className:"text-right",children:o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.imc>25?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:["IMC: ",m.imc.toFixed(1)]})})]})},m.id))})]}),s&&!h&&!a&&r&&r.length===0&&o.jsxs("div",{className:"text-center mt-8",children:[o.jsxs("p",{className:"text-gray-600 mb-4",children:["No se encontr a ",o.jsxs("span",{className:"font-semibold",children:['"',c,'"']}),"."]}),o.jsxs("button",{onClick:()=>t(`/register?name=${encodeURIComponent(c)}`),className:"bg-[#1e3a8a] hover:bg-blue-900 text-white font-medium py-2 px-6 rounded-md transition-colors shadow-sm",children:["+ Registrar a ",c," como nuevo paciente"]})]})]})]})}function ka({title:t,value:e,icon:r,trend:n}){return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:t}),o.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:e}),n&&o.jsx("span",{className:"inline-flex items-center text-xs font-medium text-green-600 mt-2 bg-green-50 px-2 py-0.5 rounded-full",children:n})]}),o.jsx("div",{className:"p-3 bg-blue-50 rounded-lg text-blue-600",children:r})]})}const WE=Qe({patient_name:W(),action:W(),timestamp:W()}),GE=Qe({total_patients:De(),appointments_today:De(),pending_tasks:De(),total_prescriptions:De().default(0),weekly_patient_flow:fr(De()).default([]),efficiency_rate:De().default(0),recent_activity:fr(WE)});function ZE(){const[t,e]=v.useState(null),[r,n]=v.useState(!0),[s,i]=v.useState(null),a=$e(),l=async()=>{n(!0),i(null);try{const c=await a(je("/api/doctors/dashboard/stats"));if(!c.ok)throw new Error(`Error ${c.status}: Failed to fetch stats`);const u=await c.json(),h=GE.parse(u);e(h)}catch(c){c.message!=="AUTH_TOKEN_MISSING"&&c.message!=="AUTH_401"&&(console.error("Dashboard Stats Error:",c),i("Error loading stats"))}finally{n(!1)}};return v.useEffect(()=>{l()},[]),{stats:t,isLoading:r,error:s,refresh:l}}function qE(){var i;const{stats:t,isLoading:e,error:r}=ZE();if(e)return o.jsx("div",{className:"p-8 text-center text-slate-500",children:"Cargando resumen..."});if(r||!t)return o.jsx("div",{className:"p-8 text-center text-red-500",children:"Error cargando datos del tablero."});const n=Math.max(...t.weekly_patient_flow||[0],1),s=Array.from({length:7},(a,l)=>{const c=new Date;return c.setDate(c.getDate()-(6-l)),c.toLocaleDateString("es-ES",{weekday:"short"})});return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Panel de Control"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Resumen y mtricas clave"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(ka,{title:"Total Pacientes",value:t.total_patients,icon:o.jsx(Ld,{size:24})}),o.jsx(ka,{title:"Citas de Hoy",value:t.appointments_today,icon:o.jsx(rl,{size:24})}),o.jsx(ka,{title:"Recetas Emitidas",value:t.total_prescriptions,icon:o.jsx(nl,{size:24}),trend:"+5 recientes"}),o.jsx(ka,{title:"Eficacia",value:`${t.efficiency_rate}%`,icon:o.jsx(qS,{size:24}),trend:"Conv. Recetas"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-2 bg-blue-50 rounded-lg text-blue-600",children:o.jsx(t0,{size:20})}),o.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Flujo de Pacientes (7 das)"})]})}),o.jsxs("div",{className:"h-48 flex items-end justify-between gap-2",children:[(i=t.weekly_patient_flow)==null?void 0:i.map((a,l)=>o.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-full bg-blue-100 rounded-t-sm hover:bg-blue-200 transition-all relative group-hover:shadow-md",style:{height:`${a/n*100}%`},children:o.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:[a," citas"]})}),o.jsx("span",{className:"text-xs text-slate-500 capitalize",children:s[l]})]},l)),(!t.weekly_patient_flow||t.weekly_patient_flow.length===0)&&o.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 italic",children:"Sin datos suficientes"})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Actividad Reciente"}),o.jsx(Id,{size:20,className:"text-slate-400"})]}),o.jsx("div",{className:"divide-y divide-slate-100",children:t.recent_activity.length===0?o.jsx("div",{className:"p-6 text-center text-slate-500",children:"No hay actividad reciente."}):t.recent_activity.map((a,l)=>o.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-900",children:a.patient_name}),o.jsx("p",{className:"text-xs text-slate-500",children:a.action})]})]}),o.jsx("span",{className:"text-xs text-slate-400",children:new Date(a.timestamp).toLocaleDateString()})]},l))})]})]})]})}nE(["Activo","En Seguimiento","Inactivo"]);const KE=Qe({id:De(),full_name:W(),id_number:W(),last_consultation:W().nullable().optional(),status:W()}),QE=Qe({data:fr(KE),total:De(),page:De(),size:De()});Qe({blood_type:W().nullable().optional().transform(t=>t==null?void 0:t.trim()),allergies:fr(W().transform(t=>t.trim())),chronic_conditions:fr(W().transform(t=>t.trim())),family_history:W().nullable().optional().transform(t=>t==null?void 0:t.trim()),current_medications:fr(W().transform(t=>t.trim()))});const JE=Qe({reason:W().min(1,"El motivo es requerido").transform(t=>t.trim()),diagnosis:W().nullable().optional().transform(t=>t==null?void 0:t.trim()),treatment:W().nullable().optional().transform(t=>t==null?void 0:t.trim()),notes:W().nullable().optional().transform(t=>t==null?void 0:t.trim())});JE.extend({id:De(),date:W(),created_at:W(),prescription_id:De().nullable().optional()});const T0=Qe({name:W().min(1,"Nombre del medicamento requerido").transform(t=>t.trim()),dosage:W().min(1,"Dosis requerida").transform(t=>t.trim()),frequency:W().min(1,"Frecuencia requerida").transform(t=>t.trim()),duration:W().min(1,"Duracin requerida").transform(t=>t.trim()),notes:W().nullable().optional().transform(t=>t==null?void 0:t.trim())});Qe({consultation_id:De(),medications:fr(T0).min(1,"Debe incluir al menos un medicamento")});const YE=Qe({id:De(),date:W().or(rE()),doctor_name:W(),patient_name:W(),medications:fr(T0)});function XE(t=1,e=10){const[r,n]=v.useState(null),[s,i]=v.useState(t),[a,l]=v.useState(""),[c,u]=v.useState(!0),[h,d]=v.useState(null),f=$e(),g=async(w,_)=>{u(!0),d(null);try{const m=new URL(je("/api/patients"));m.searchParams.append("page",w.toString()),m.searchParams.append("size",e.toString()),_&&m.searchParams.append("search",_);const p=await f(m.toString());if(!p.ok)throw new Error("Failed to fetch patients");const y=await p.json(),k=QE.parse(y);n(k),i(k.page)}catch(m){m.message!=="AUTH_TOKEN_MISSING"&&m.message!=="AUTH_401"&&(console.error(m),d("Error cargando pacientes."))}finally{u(!1)}};return v.useEffect(()=>{g(s,a)},[s,a]),{data:r,page:s,setPage:i,search:a,setSearch:w=>{l(w),i(1)},isLoading:c,error:h,refresh:()=>g(s,a)}}function e2(){const{data:t,page:e,setPage:r,isLoading:n,error:s,setSearch:i}=XE(),a=$t(),[l,c]=v.useState("");if(v.useEffect(()=>{const g=setTimeout(()=>{i(l)},300);return()=>clearTimeout(g)},[l,i]),n&&!t&&!l)return o.jsx("div",{className:"p-8 text-center text-slate-500",children:"Cargando pacientes..."});if(s||!t)return o.jsx("div",{className:"p-8 text-center text-red-500",children:"Error al cargar la lista de pacientes."});const{data:u,total:h,size:d}=t,f=Math.ceil(h/d);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative max-w-md",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Ad,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-md leading-5 bg-white placeholder-slate-500 focus:outline-none focus:placeholder-slate-400 focus:border-blue-300 focus:ring focus:ring-blue-200 sm:text-sm transition duration-150 ease-in-out",placeholder:"Buscar por nombre o DNI...",value:l,onChange:g=>c(g.target.value)})]}),u.length===0&&l===""?o.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center border border-slate-200",children:[o.jsx(Od,{size:48,className:"mx-auto text-slate-300 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No hay pacientes registrados"}),o.jsx("p",{className:"text-slate-500 mb-6",children:"Comienza registrando tu primer paciente."}),o.jsx("button",{onClick:()=>a("/register"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Nuevo Paciente"})]}):o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[o.jsx("thead",{className:"bg-slate-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Nombre Completo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Identificacin"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"ltima Consulta"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:u.length>0?u.map(g=>o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-slate-900",children:g.full_name})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-slate-500",children:g.id_number})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:g.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:g.last_consultation?new Date(g.last_consultation).toLocaleDateString():"-"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("button",{onClick:()=>a(`/patients/${g.id}`,{state:{from:"/patients"}}),className:"text-blue-600 hover:text-blue-900 inline-flex items-center gap-1",children:[o.jsx(FS,{size:16})," Ver"]})})]},g.id)):o.jsx("tr",{children:o.jsxs("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:['No se encontraron pacientes para "',l,'"']})})})]})}),o.jsx("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200 sm:px-6",children:o.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-slate-700",children:["Mostrando ",o.jsx("span",{className:"font-medium",children:Math.min((e-1)*d+1,h)})," a ",o.jsx("span",{className:"font-medium",children:Math.min(e*d,h)})," de ",o.jsx("span",{className:"font-medium",children:h})," resultados"]})}),o.jsx("div",{children:o.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[o.jsxs("button",{onClick:()=>r(g=>Math.max(1,g-1)),disabled:e===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:bg-slate-100 disabled:cursor-not-allowed",children:[o.jsx("span",{className:"sr-only",children:"Anterior"}),o.jsx(n0,{size:20})]}),o.jsxs("button",{onClick:()=>r(g=>Math.min(f,g+1)),disabled:e>=f||f===0,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:bg-slate-100 disabled:cursor-not-allowed",children:[o.jsx("span",{className:"sr-only",children:"Siguiente"}),o.jsx(s0,{size:20})]})]})})]})})]})]})}function t2(){return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Pacientes"}),o.jsx("p",{className:"text-slate-500",children:"Gestiona tu cartera de pacientes registrados."})]}),o.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:o.jsx(Ld,{className:"text-blue-600",size:24})})]}),o.jsx(e2,{})]})}function P0({onClose:t}){const{preferences:e,updatePreferences:r,refreshProfile:n}=Ke(),[s,i]=v.useState(!1),a=v.useRef(null),l=$e(),c=async u=>{var f;const h=(f=u.target.files)==null?void 0:f[0];if(!h)return;i(!0);const d=new FormData;d.append("file",h);try{(await l("/api/doctor/logo",{method:"POST",body:d})).ok?await n():console.error("Upload failed")}catch(g){console.error(g)}finally{i(!1)}};return o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full border border-slate-100 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5 text-[#1e3a8a]"}),o.jsx("h3",{className:"text-xl font-bold text-[#1e3a8a]",children:"Preferencias de Impresin"})]}),o.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 p-2 rounded-full hover:bg-slate-200 transition-colors",children:""})]}),o.jsxs("div",{className:"p-6 space-y-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3 block",children:"Formato de Papel"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:["A4","Letter"].map(u=>o.jsxs("button",{onClick:()=>r({paperSize:u}),className:`relative p-4 rounded-xl border-2 transition-all flex flex-col items-center justify-center gap-2 h-24
                                        ${e.paperSize===u?"border-[#1e3a8a] bg-blue-50/50 text-[#1e3a8a]":"border-slate-100 hover:border-slate-300 text-slate-600"}`,children:[o.jsx(nl,{className:`h-6 w-6 ${u==="Letter"?"scale-75":"scale-100"}`}),o.jsx("span",{className:"font-bold",children:u}),e.paperSize===u&&o.jsx("div",{className:"absolute top-2 right-2 bg-[#1e3a8a] text-white rounded-full p-0.5",children:o.jsx(MS,{className:"h-3 w-3"})})]},u))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3 block",children:"Estilo de Plantilla"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:["minimal","modern","classic"].map(u=>o.jsx("button",{onClick:()=>r({templateId:u}),className:`relative px-3 py-3 rounded-lg border text-sm font-medium transition-all capitalize
                                        ${e.templateId===u?"border-[#1e3a8a] bg-[#1e3a8a] text-white":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:u},u))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3 block",children:"Logotipo Personalizado"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"h-20 w-20 rounded-lg bg-slate-100 border border-slate-200 flex items-center justify-center overflow-hidden relative group",children:[e.logoUrl?o.jsx("img",{src:e.logoUrl,alt:"Logo",className:"w-full h-full object-contain"}):o.jsx("span",{className:"text-xs text-slate-400 text-center px-1",children:"Sin Logo"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx("button",{onClick:()=>{var u;return(u=a.current)==null?void 0:u.click()},className:"text-white text-xs font-medium hover:underline",children:"Cambiar"})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Sube tu logo en formato PNG o JPG. Se mostrar en la cabecera de tus recetas."}),o.jsxs("button",{onClick:()=>{var u;return(u=a.current)==null?void 0:u.click()},disabled:s,className:"flex items-center gap-2 px-4 py-2 border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-700 text-sm font-medium transition-colors",children:[o.jsx(Rd,{className:"h-4 w-4"}),s?"Subiendo...":"Subir Imagen"]}),o.jsx("input",{ref:a,type:"file",accept:"image/png, image/jpeg",className:"hidden",onChange:c})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3 block",children:"Colores Institucionales"}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Color Primario (Encabezados/Bordes)"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:e.primaryColor||"#1e3a8a",onChange:u=>r({primaryColor:u.target.value}),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer shadow-sm"}),o.jsx("span",{className:"text-sm font-mono text-slate-600 uppercase",children:e.primaryColor||"#1e3a8a"})]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Color Secundario (Detalles)"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:e.secondaryColor||"#64748b",onChange:u=>r({secondaryColor:u.target.value}),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer shadow-sm"}),o.jsx("span",{className:"text-sm font-mono text-slate-600 uppercase",children:e.secondaryColor||"#64748b"})]})]})]})]})]}),o.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-100 flex justify-between items-center",children:[o.jsx("button",{onClick:()=>{window.open("/api/print/test","_blank")},className:"px-6 py-2 bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 rounded-lg font-medium text-sm shadow-sm transition-colors",children:" Ver Vista Previa"}),o.jsx("button",{onClick:t,className:"px-6 py-2 bg-[#1e3a8a] text-white rounded-lg hover:bg-blue-900 font-medium text-sm shadow-sm transition-colors",children:"Listo"})]})]})})}const Tp={getWhatsAppLink:async t=>{try{const e=await fetch(`/api/print/${t}/whatsapp-link`);if(!e.ok)throw new Error("Failed to generate WhatsApp link");return(await e.json()).url}catch(e){throw console.error("Error generating WhatsApp link:",e),e}},sendEmail:async(t,e)=>{try{const r=await fetch(`/api/print/${t}/send-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!r.ok){const n=await r.json();throw new Error(n.detail||"Failed to send email")}}catch(r){throw console.error("Error sending email:",r),r}},validateToken:async t=>{try{const e=await fetch(`/api/v/${t}`);if(!e.ok){if(e.status===404)return null;throw new Error("Validation failed")}return await e.json()}catch(e){throw console.error("Error validating token:",e),e}}},r2=({consultationId:t,patientEmail:e})=>{const r=$e(),[n,s]=v.useState(!1),[i,a]=v.useState(""),[l,c]=v.useState(""),u=async()=>{try{const d=await Tp.getWhatsAppLink(r,t);window.open(d,"_blank")}catch{alert("Error al generar enlace de WhatsApp")}},h=async()=>{if(!e){alert("No hay email registrado para este paciente");return}s(!0),a(""),c("");try{await Tp.sendEmail(r,t,e),a(`Enviado a ${e}`)}catch(d){c(d.message||"Error al enviar email")}finally{s(!1)}};return o.jsxs("div",{className:"mt-6 border-t pt-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Entrega Multicanal"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:u,className:"flex-1 bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded shadow flex items-center justify-center gap-2 transition-colors",children:[o.jsx("span",{children:""})," Enviar por WhatsApp"]}),o.jsx("button",{onClick:h,disabled:n,className:`flex-1 font-medium py-2 px-4 rounded shadow flex items-center justify-center gap-2 transition-colors
            ${n?"bg-gray-300 cursor-not-allowed text-gray-500":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:n?"Enviando...":o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""})," Enviar por Email"]})})]}),i&&o.jsxs("p",{className:"mt-2 text-sm text-green-600 font-medium text-center",children:[" ",i]}),l&&o.jsxs("p",{className:"mt-2 text-sm text-red-600 font-medium text-center",children:[" ",l]}),o.jsxs("div",{className:"mt-4 bg-gray-50 p-3 rounded text-xs text-gray-500",children:[o.jsx("p",{className:"font-semibold mb-1",children:"Historial de Envos:"}),o.jsxs("p",{children:[" ",i?"Email enviado recientemente":"No hay envos recientes"]})]})]})};function n2({patientId:t}){const[e,r]=v.useState(null),[n,s]=v.useState(!0),[i,a]=v.useState(!1),[l,c]=v.useState(null),[u,h]=v.useState(!1),d=$e();v.useEffect(()=>{f()},[t]);const f=async()=>{try{const _=await d(je(`/api/medical-background/pacientes/${t}/antecedentes`));if(_.status===404){c("Mdulo no disponible o paciente no encontrado."),s(!1);return}if(_.ok){const m=await _.json();r(m)}else c("Error cargando antecedentes.")}catch(_){_.message!=="AUTH_TOKEN_MISSING"&&_.message!=="AUTH_401"&&c("Error de conexin.")}finally{s(!1)}},g=async()=>{if(e){a(!0),h(!1),c(null);try{const _=await d(je(`/api/medical-background/pacientes/${t}/antecedentes`),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(_.ok){const m=await _.json();r(m),h(!0),setTimeout(()=>h(!1),3e3)}else c("Error al guardar cambios.")}catch(_){_.message!=="AUTH_TOKEN_MISSING"&&_.message!=="AUTH_401"&&c("Error de conexin al guardar.")}finally{a(!1)}}},b=(_,m)=>{e&&r({...e,[_]:m})};if(n)return o.jsx("div",{className:"p-8 text-center text-slate-500",children:"Cargando antecedentes..."});if(!e&&l)return o.jsx("div",{className:"p-8 text-center text-red-500 bg-red-50 rounded-lg",children:l});if(!e)return o.jsx("div",{className:"p-8 text-center text-slate-400",children:"No se pudo inicializar formulario."});const w=[{key:"alergias",label:"Alergias"},{key:"patologicos",label:"Antecedentes Patolgicos"},{key:"no_patologicos",label:"No Patolgicos"},{key:"heredofamiliares",label:"Heredofamiliares"},{key:"quirurgicos",label:"Quirrgicos"},{key:"medicamentos_actuales",label:"Medicamentos Actuales"}];return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-[#1e3a8a]",children:"Antecedentes Clnicos"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Registre la historia mdica relevante del paciente."})]}),u&&o.jsxs("span",{className:"flex items-center text-green-600 text-sm font-medium animate-pulse",children:[o.jsx(r0,{className:"w-4 h-4 mr-1"}),"Guardado correctamente"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map(({key:_,label:m})=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{htmlFor:_,className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider",children:m}),o.jsx("textarea",{id:_,className:"w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-[#1e3a8a] transition-all text-slate-700 min-h-[100px] text-sm leading-relaxed",value:e[_]||"",onChange:p=>b(_,p.target.value),placeholder:"Sin datos registrados..."})]},_))}),o.jsx("div",{className:"mt-8 flex justify-end",children:o.jsx("button",{onClick:g,disabled:i,className:"flex items-center gap-2 bg-[#1e3a8a] text-white px-6 py-2.5 rounded-lg hover:bg-blue-900 transition-colors shadow-sm disabled:opacity-70 disabled:cursor-not-allowed font-medium",children:i?o.jsx(o.Fragment,{children:"Guardando..."}):o.jsxs(o.Fragment,{children:[o.jsx(Xi,{className:"w-4 h-4"}),"Guardar Antecedentes"]})})}),l&&o.jsxs("div",{className:"mt-4 p-3 bg-red-50 text-red-700 rounded-lg flex items-center gap-2 text-sm",children:[o.jsx(el,{className:"w-4 h-4"}),l]})]})}const s2=()=>{const t=navigator.userAgent||navigator.vendor||window.opera;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)};let i2={data:""},a2=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||i2},o2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,l2=/\/\*[^]*?\*\/|  +/g,Pp=/\n+/g,zr=(t,e)=>{let r="",n="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?zr(a,i):i+"{"+zr(a,i[1]=="k"?"":e)+"}":typeof a=="object"?n+=zr(a,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=zr.p?zr.p(i,a):i+":"+a+";")}return r+(e&&s?e+"{"+s+"}":s)+n},nr={},A0=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+A0(t[r]);return e}return t},c2=(t,e,r,n,s)=>{let i=A0(t),a=nr[i]||(nr[i]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(i));if(!nr[a]){let c=i!==t?t:(u=>{let h,d,f=[{}];for(;h=o2.exec(u.replace(l2,""));)h[4]?f.shift():h[3]?(d=h[3].replace(Pp," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][h[1]]=h[2].replace(Pp," ").trim();return f[0]})(t);nr[a]=zr(s?{["@keyframes "+a]:c}:c,r?"":"."+a)}let l=r&&nr.g?nr.g:null;return r&&(nr.g=nr[a]),((c,u,h,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(nr[a],e,n,l),a},u2=(t,e,r)=>t.reduce((n,s,i)=>{let a=e[i];if(a&&a.call){let l=a(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":zr(l,""):l===!1?"":l}return n+s+(a??"")},"");function al(t){let e=this||{},r=t.call?t(e.p):t;return c2(r.unshift?r.raw?u2(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,a2(e.target),e.g,e.o,e.k)}let R0,bu,_u;al.bind({g:1});let wr=al.bind({k:1});function d2(t,e,r,n){zr.p=e,R0=t,bu=r,_u=n}function mn(t,e){let r=this||{};return function(){let n=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:bu&&bu()},l),r.o=/ *go\d+/.test(c),l.className=al.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),_u&&u[0]&&_u(l),R0(u,l)}return s}}var f2=t=>typeof t=="function",To=(t,e)=>f2(t)?t(e):t,h2=(()=>{let t=0;return()=>(++t).toString()})(),O0=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),p2=20,Wd="default",L0=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return L0(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Ba=[],D0={toasts:[],pausedAt:void 0,settings:{toastLimit:p2}},qt={},M0=(t,e=Wd)=>{qt[e]=L0(qt[e]||D0,t),Ba.forEach(([r,n])=>{r===e&&n(qt[e])})},U0=t=>Object.keys(qt).forEach(e=>M0(t,e)),m2=t=>Object.keys(qt).find(e=>qt[e].toasts.some(r=>r.id===t)),ol=(t=Wd)=>e=>{M0(e,t)},g2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},y2=(t={},e=Wd)=>{let[r,n]=v.useState(qt[e]||D0),s=v.useRef(qt[e]);v.useEffect(()=>(s.current!==qt[e]&&n(qt[e]),Ba.push([e,n]),()=>{let a=Ba.findIndex(([l])=>l===e);a>-1&&Ba.splice(a,1)}),[e]);let i=r.toasts.map(a=>{var l,c,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((l=t[a.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((c=t[a.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||g2[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...r,toasts:i}},v2=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||h2()}),ta=t=>(e,r)=>{let n=v2(e,t,r);return ol(n.toasterId||m2(n.id))({type:2,toast:n}),n.id},Ne=(t,e)=>ta("blank")(t,e);Ne.error=ta("error");Ne.success=ta("success");Ne.loading=ta("loading");Ne.custom=ta("custom");Ne.dismiss=(t,e)=>{let r={type:3,toastId:t};e?ol(e)(r):U0(r)};Ne.dismissAll=t=>Ne.dismiss(void 0,t);Ne.remove=(t,e)=>{let r={type:4,toastId:t};e?ol(e)(r):U0(r)};Ne.removeAll=t=>Ne.remove(void 0,t);Ne.promise=(t,e,r)=>{let n=Ne.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?To(e.success,s):void 0;return i?Ne.success(i,{id:n,...r,...r==null?void 0:r.success}):Ne.dismiss(n),s}).catch(s=>{let i=e.error?To(e.error,s):void 0;i?Ne.error(i,{id:n,...r,...r==null?void 0:r.error}):Ne.dismiss(n)}),t};var x2=1e3,w2=(t,e="default")=>{let{toasts:r,pausedAt:n}=y2(t,e),s=v.useRef(new Map).current,i=v.useCallback((d,f=x2)=>{if(s.has(d))return;let g=setTimeout(()=>{s.delete(d),a({type:4,toastId:d})},f);s.set(d,g)},[]);v.useEffect(()=>{if(n)return;let d=Date.now(),f=r.map(g=>{if(g.duration===1/0)return;let b=(g.duration||0)+g.pauseDuration-(d-g.createdAt);if(b<0){g.visible&&Ne.dismiss(g.id);return}return setTimeout(()=>Ne.dismiss(g.id,e),b)});return()=>{f.forEach(g=>g&&clearTimeout(g))}},[r,n,e]);let a=v.useCallback(ol(e),[e]),l=v.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=v.useCallback((d,f)=>{a({type:1,toast:{id:d,height:f}})},[a]),u=v.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),h=v.useCallback((d,f)=>{let{reverseOrder:g=!1,gutter:b=8,defaultPosition:w}=f||{},_=r.filter(y=>(y.position||w)===(d.position||w)&&y.height),m=_.findIndex(y=>y.id===d.id),p=_.filter((y,k)=>k<m&&y.visible).length;return _.filter(y=>y.visible).slice(...g?[p+1]:[0,p]).reduce((y,k)=>y+(k.height||0)+b,0)},[r]);return v.useEffect(()=>{r.forEach(d=>{if(d.dismissed)i(d.id,d.removeDelay);else{let f=s.get(d.id);f&&(clearTimeout(f),s.delete(d.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:h}}},b2=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_2=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,k2=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,S2=mn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${b2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${k2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,N2=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,E2=mn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${N2} 1s linear infinite;
`,j2=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,C2=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,I2=mn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${C2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,T2=mn("div")`
  position: absolute;
`,P2=mn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,A2=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R2=mn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${A2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,O2=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?v.createElement(R2,null,e):e:r==="blank"?null:v.createElement(P2,null,v.createElement(E2,{...n}),r!=="loading"&&v.createElement(T2,null,r==="error"?v.createElement(S2,{...n}):v.createElement(I2,{...n})))},L2=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,D2=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,M2="0%{opacity:0;} 100%{opacity:1;}",U2="0%{opacity:1;} 100%{opacity:0;}",F2=mn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,z2=mn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$2=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=O0()?[M2,U2]:[L2(r),D2(r)];return{animation:e?`${wr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},V2=v.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?$2(t.position||e||"top-center",t.visible):{opacity:0},i=v.createElement(O2,{toast:t}),a=v.createElement(z2,{...t.ariaProps},To(t.message,t));return v.createElement(F2,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:a}):v.createElement(v.Fragment,null,i,a))});d2(v.createElement);var B2=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=v.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return v.createElement("div",{ref:i,className:e,style:r},s)},H2=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:O0()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},W2=al`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sa=16,G2=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:u}=w2(r,i);return v.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Sa,left:Sa,right:Sa,bottom:Sa,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(h=>{let d=h.position||e,f=u.calculateOffset(h,{reverseOrder:t,gutter:n,defaultPosition:e}),g=H2(d,f);return v.createElement(B2,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?W2:"",style:g},h.type==="custom"?To(h.message,h):s?s(h):v.createElement(V2,{toast:h,position:d}))}))},et=Ne;function Z2({patientId:t}){const e=$e(),{token:r}=Ke(),[n,s]=v.useState([]),[i,a]=v.useState(!0);v.useEffect(()=>{l()},[t]);const l=async()=>{try{const d=await e(je(`/api/patients/${t}/consultations`));if(d.ok){const f=await d.json();s(f)}}catch(d){d.message!=="AUTH_TOKEN_MISSING"&&d.message!=="AUTH_401"&&console.error("Failed to load consultations",d)}finally{a(!1)}},c=async d=>{try{const f=$a.apiBaseUrl,g=await e(`${f}/api/consultas/${d}/pdf`,{method:"GET"});if(!g.ok){const m=await g.json();et.error(m.detail||"Error al descargar PDF");return}const b=await g.blob(),w=window.URL.createObjectURL(b),_=document.createElement("a");_.href=w,_.download=`receta_${d}.pdf`,document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(w)}catch(f){console.error("Error downloading PDF:",f),et.error("Error de conexin al descargar PDF")}},u=async d=>{var f;try{const g=$a.apiBaseUrl,b=await e(`${g}/api/consultas/${d.id}/create-verification`,{method:"POST"});if(!b.ok){et.error("Error al generar el enlace de verificacin");return}const{uuid:w}=await b.json(),_=`${g}/v/${w}/pdf`,y=`Hola ${`${d.patient.nombre} ${d.patient.apellido_paterno}`}, el Dr. Vitalinuage le enva su receta mdica de Vitalinuage. Puede verla aqu: ${_}`,k=(f=d.patient.telefono)==null?void 0:f.replace(/\D/g,"");if(!k){et.error("El paciente no tiene telfono registrado");return}const j=encodeURIComponent(y),R=s2(),E=R?`https://wa.me/${k}?text=${j}`:`https://web.whatsapp.com/send?phone=${k}&text=${j}`;R?(window.open(E,"_blank"),e(`${g}/api/consultas/${d.id}/mark-whatsapp-sent`,{method:"POST"}).catch(console.error),s(T=>T.map(q=>q.id===d.id?{...q,whatsapp_sent_at:new Date().toISOString()}:q))):(et("Asegrate de tener WhatsApp Web abierto en otra pestaa",{duration:3e3,icon:""}),setTimeout(()=>{window.open(E,"_blank"),e(`${g}/api/consultas/${d.id}/mark-whatsapp-sent`,{method:"POST"}).catch(console.error),s(T=>T.map(q=>q.id===d.id?{...q,whatsapp_sent_at:new Date().toISOString()}:q))},1500))}catch(g){console.error("Error sending WhatsApp:",g),et.error("Error al enviar por WhatsApp")}},h=async d=>{var f;try{const g=$a.apiBaseUrl;if(!((f=d.patient)!=null&&f.email)){et.error("El paciente no tiene email registrado");return}const b=await e(`${g}/api/consultas/${d.id}/send-email`,{method:"POST"});if(b.ok){const w=await b.json();et.success(`Email enviado a ${d.patient.email}`),s(_=>_.map(m=>m.id===d.id?{...m,email_sent_at:new Date().toISOString()}:m))}else{const w=await b.json();et.error(w.detail||"Error al enviar email")}}catch(g){console.error("Error sending email:",g),et.error("Error al enviar email")}};return i?o.jsx("div",{className:"p-8 text-center text-slate-400",children:"Cargando historial..."}):o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lu,{className:"text-[#1e3a8a] w-5 h-5"}),o.jsx("h2",{className:"text-lg font-semibold text-[#1e3a8a]",children:"Evolucin Clnica"})]})}),o.jsx("div",{className:"space-y-4",children:n.length===0?o.jsxs("div",{className:"py-12 bg-slate-50 rounded-lg flex flex-col items-center justify-center text-slate-400",children:[o.jsx(lu,{className:"w-12 h-12 mb-3 opacity-20"}),o.jsx("p",{children:"No hay consultas registradas."})]}):n.map(d=>o.jsxs("div",{className:"group border border-slate-100 rounded-lg p-5 hover:shadow-md transition-all bg-white relative",children:[o.jsxs("div",{className:"absolute top-5 right-5 flex items-center gap-3",children:[o.jsxs("button",{onClick:()=>u(d),className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors text-xs font-medium shadow-sm",title:"Enviar por WhatsApp",children:[o.jsx(i0,{className:"w-3.5 h-3.5"}),"WhatsApp"]}),o.jsxs("button",{onClick:()=>h(d),className:"flex items-center gap-1 px-3 py-1.5 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100 transition-colors text-xs font-medium shadow-sm",title:"Enviar por Email",children:[o.jsx(Pd,{className:"w-3.5 h-3.5"}),"Email"]}),d.plan_tratamiento&&o.jsxs("button",{onClick:()=>c(d.id),className:"flex items-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-xs font-medium shadow-sm",title:"Descargar Receta PDF",children:[o.jsx(nl,{className:"w-3.5 h-3.5"}),"Receta PDF"]}),o.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-1",children:[o.jsx(rl,{className:"w-3 h-3"}),d.created_at?new Date(d.created_at).toLocaleDateString():"Fecha desc."]})]}),o.jsx("h3",{className:"text-md font-semibold text-[#1e3a8a] mb-1",children:d.motivo_consulta}),o.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-3",children:["DX: ",d.diagnostico]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-slate-600",children:[o.jsxs("div",{className:"bg-slate-50 p-3 rounded border border-slate-100",children:[o.jsx("p",{className:"font-semibold text-xs text-slate-400 mb-1",children:"TRATAMIENTO"}),d.plan_tratamiento]}),d.examen_fisico&&o.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[o.jsx("p",{className:"font-semibold text-xs text-slate-400 mb-1",children:"EXAMEN FSICO"}),o.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-line",children:d.examen_fisico||"No registrado"})]})]})]},d.id))})]})}function q2({imc:t,bloodPressure:e,weight:r,height:n,lastConsultationDate:s}){const i=c=>c?c<25?"bg-emerald-50 text-emerald-700 border-emerald-200":c<=30?"bg-orange-50 text-orange-700 border-orange-200":"bg-red-50 text-red-700 border-red-200":"bg-slate-50 text-slate-600 border-slate-200",a=c=>c?c<25?"Normal":c<=30?"Sobrepeso":"Obesidad":"No registrado",l=c=>c?c<25?"bg-emerald-100 text-emerald-600":c<=30?"bg-orange-100 text-orange-600":"bg-red-100 text-red-600":"bg-slate-100 text-slate-600";return o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6","data-testid":"vital-signs-grid",children:[o.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-all p-3 flex flex-col","data-testid":"imc-card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:`p-1.5 rounded-lg ${l(t)}`,children:o.jsx(Id,{size:16,strokeWidth:2.5})}),o.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"IMC"})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsx("div",{className:"text-xl font-black text-slate-900 mb-1.5 tracking-tight",children:t?t.toFixed(1):"--"}),o.jsx("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-[9px] font-bold uppercase tracking-wide border ${i(t)}`,"data-testid":"imc-indicator",children:a(t)})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-all p-3 flex flex-col","data-testid":"vital-card-bp",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"p-1.5 bg-rose-100 rounded-lg text-rose-600",children:o.jsx($S,{size:16,strokeWidth:2.5})}),o.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Presin"})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsx("div",{className:"text-lg font-black text-slate-900 tracking-tight",children:e||"--/--"}),o.jsx("div",{className:"text-[9px] text-slate-500 mt-0.5 font-semibold",children:"mmHg"})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-all p-3 flex flex-col","data-testid":"vital-card-weight",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"p-1.5 bg-violet-100 rounded-lg text-violet-600",children:o.jsx(KS,{size:16,strokeWidth:2.5})}),o.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Peso"})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsx("div",{className:"text-lg font-black text-slate-900 tracking-tight",children:r?`${r} kg`:"--"}),o.jsx("div",{className:"text-[9px] text-slate-600 mt-0.5 font-semibold",children:n?`${n} cm`:"--"})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md transition-all p-3 flex flex-col","data-testid":"vital-card-last",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"p-1.5 bg-sky-100 rounded-lg text-sky-600",children:o.jsx(rl,{size:16,strokeWidth:2.5})}),o.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"ltima"})]}),o.jsxs("div",{className:"mt-auto",children:[o.jsx("div",{className:"text-xs font-black text-slate-900 tracking-tight",children:s?new Date(s).toLocaleDateString("es-ES",{day:"2-digit",month:"short"}):"Sin datos"}),o.jsx("div",{className:"text-[9px] text-slate-500 mt-0.5 font-semibold",children:"Consulta"})]})]})]})}function Ap(){var C,H,P,G;const t=$t(),{id:e}=vd(),r=hn(),{profile:n}=Ke(),[s,i]=v.useState(null),[a,l]=v.useState(!0),[c,u]=v.useState([]),[h,d]=v.useState(null),[f,g]=v.useState(!1),[b,w]=v.useState(null),[_,m]=v.useState(!1),[p,y]=v.useState(!1),k=()=>{var Y;const V=((Y=r.state)==null?void 0:Y.from)||"/search";t(V)},j=async()=>{if(!(!h||!b))try{const V=await T(`/api/consultations/${h.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(V.ok){const Y=await V.json();u(te=>te.map(ae=>ae.id===h.id?{...ae,reason:Y.reason||ae.reason,diagnosis:Y.diagnosis||ae.diagnosis,treatment:Y.treatment||ae.treatment}:ae)),g(!1),d(null)}}catch(V){console.error("Failed to update consultation",V)}},[R,E]=v.useState("consultations"),T=$e();if(v.useEffect(()=>{if(!e)return;const V=T(je(`/api/patients/${e}`)).then(te=>{if(!te.ok)throw new Error("Patient not found");return te.json()}),Y=T(je(`/api/patients/${e}/consultations`)).then(te=>te.ok?te.json():[]);Promise.all([V,Y]).then(([te,ae])=>{i(te),u(ae),l(!1)}).catch(te=>{te.message!=="AUTH_TOKEN_MISSING"&&te.message!=="AUTH_401"&&console.error(te),l(!1)})},[e]),a)return o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:"Cargando ficha..."});if(!s)return o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:"Paciente no encontrado"});`${s.nombre}${s.apellido_paterno}`;const q=new Date().getFullYear()-new Date(s.fecha_nacimiento).getFullYear();return o.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans px-8 pt-28 relative",children:[o.jsxs("div",{className:`max-w-4xl mx-auto space-y-6 ${h||_?"blur-sm brightness-50 pointer-events-none":""} transition-all duration-300`,children:[o.jsxs("button",{onClick:k,className:"flex items-center text-slate-500 hover:text-[#1e3a8a] transition-colors mb-2",children:[o.jsx(tl,{className:"h-4 w-4 mr-1"}),"Volver a bsqueda"]}),o.jsxs("div",{className:"flex justify-between items-start mb-8",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex gap-3 items-baseline mb-2",children:[o.jsxs("h1",{className:"text-4xl font-extrabold tracking-tighter text-slate-900",children:[s.nombre," ",s.apellido_paterno]}),p&&o.jsx("span",{className:"text-xs text-blue-600 font-semibold",children:"Editando"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-slate-500 font-medium text-sm",children:[o.jsxs("span",{children:["DNI: ",s.dni]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[q," aos"]}),o.jsx("span",{children:""}),o.jsx("span",{children:s.email||"Sin email"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>y(!p),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"Editar Paciente",children:o.jsx(a0,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>m(!0),className:"p-2 text-slate-400 hover:text-blue-600 transition-colors",title:"Configuracin de Impresin",children:o.jsx(rn,{className:"h-5 w-5"})})]})]}),s.allergies&&s.allergies.length>0?o.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border-2 border-red-200 p-6 mb-8 rounded-3xl shadow-lg flex items-start gap-4 animate-pulse-slow","data-testid":"allergy-alert-banner",children:[o.jsx("div",{className:"p-3 bg-red-100 rounded-2xl",children:o.jsx(ou,{className:"h-6 w-6 text-red-600",strokeWidth:2.5})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h3",{className:"text-red-900 font-black text-base mb-2 uppercase tracking-wide flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl",children:""}),"ALERGIAS REGISTRADAS"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:s.allergies.map((V,Y)=>o.jsx("span",{className:"px-4 py-2 bg-red-100 text-red-800 rounded-full text-sm font-bold border-2 border-red-200",children:V},Y))})]})]}):o.jsx("div",{className:"bg-slate-50 border border-slate-200 p-4 mb-8 rounded-2xl text-center",children:o.jsx("p",{className:"text-slate-500 text-sm font-semibold",children:" Sin alergias registradas"})}),o.jsx(q2,{imc:(()=>{if(s.imc)return s.imc;const V=c[0];if(V!=null&&V.peso_kg&&(V!=null&&V.estatura_cm)){const Y=V.estatura_cm/100;return V.peso_kg/(Y*Y)}})(),bloodPressure:(C=c[0])==null?void 0:C.presion_arterial,weight:(H=c[0])==null?void 0:H.peso_kg,height:(P=c[0])==null?void 0:P.estatura_cm,lastConsultationDate:(G=c[0])==null?void 0:G.created_at})]}),o.jsxs("div",{className:"flex border-b border-slate-200 gap-6",children:[o.jsx("button",{onClick:()=>E("consultations"),className:`pb-3 text-sm font-medium transition-colors border-b-2 ${R==="consultations"?"border-[#1e3a8a] text-[#1e3a8a]":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Consultas & Historial"}),o.jsx("button",{onClick:()=>E("background"),className:`pb-3 text-sm font-medium transition-colors border-b-2 ${R==="background"?"border-[#1e3a8a] text-[#1e3a8a]":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Antecedentes"}),o.jsx("button",{onClick:()=>E("recipes"),className:`pb-3 text-sm font-medium transition-colors border-b-2 ${R==="recipes"?"border-[#1e3a8a] text-[#1e3a8a]":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Recetas"})]}),o.jsxs("div",{className:"min-h-[400px]",children:[R==="consultations"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in fade-in duration-300",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsx(Z2,{patientId:parseInt(e||"0")})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6 h-fit",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Acciones Rpidas"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>t(`/patient/${e}/new-consultation`),className:"w-full flex items-center justify-center gap-2 bg-[#1e3a8a] hover:bg-blue-900 text-white font-medium py-3 px-4 rounded-lg transition-all shadow-sm hover:shadow-md",children:[o.jsx(Kh,{className:"h-5 w-5"}),"Nueva Consulta"]}),o.jsx("button",{onClick:()=>y(!p),className:`w-full flex items-center justify-center gap-2 border hover:bg-slate-50 font-medium py-3 px-4 rounded-lg transition-colors ${p?"bg-slate-100 text-slate-800 border-slate-300":"bg-white border-slate-200 text-slate-700"}`,children:p?"Cancelar Edicin":"Editar Datos"})]})]})]}),R==="background"&&o.jsx("div",{className:"animate-in fade-in slide-in-from-left-4 duration-300",children:o.jsx(n2,{patientId:parseInt(e||"0")})}),R==="recipes"&&o.jsxs("div",{className:"animate-in fade-in slide-in-from-left-4 duration-300 bg-white p-12 rounded-xl text-center border border-slate-100 shadow-sm",children:[o.jsx("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Kh,{className:"h-8 w-8 text-[#1e3a8a]"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Gestin de Recetas"}),o.jsx("p",{className:"text-slate-500 max-w-md mx-auto mb-6",children:"Mdulo de gestin de recetas electrnicas activado. Aqu podr visualizar y generar nuevas recetas para el paciente."}),o.jsxs("button",{onClick:()=>t(`/patient/${e}/new-prescription`),className:"inline-flex items-center gap-2 bg-[#1e3a8a] text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-900 transition-colors shadow-md",children:[o.jsx(GS,{className:"h-5 w-5"}),"+ Nueva Receta / Licencia"]})]})]}),_&&o.jsx(P0,{onClose:()=>m(!1)}),h&&o.jsx(K2,{consultation:h,isEditing:f,onClose:()=>d(null),onEdit:()=>g(!0),onSave:j,editForm:b,setEditForm:w,patientEmail:s.email})]})}function K2({consultation:t,isEditing:e,onClose:r,onEdit:n,onSave:s,editForm:i,setEditForm:a,patientEmail:l}){const c=$e(),[u,h]=v.useState(!0);v.useEffect(()=>{i?h(!1):c(`/api/consultations/${t.id}`).then(f=>f.json()).then(f=>{a(f),h(!1)}).catch(()=>h(!1))},[t.id,i]);const d=()=>{window.open(`/api/print/consultation/${t.id}`,"_blank")};return u&&!i?null:o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full border border-slate-100 overflow-hidden animate-in fade-in zoom-in duration-200",children:[o.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-[#1e3a8a]",children:e?"Editar Consulta":"Detalle de Consulta"}),o.jsxs("p",{className:"text-sm text-slate-500",children:[new Date(t.date).toLocaleDateString(),"  ",t.doctor]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!e&&o.jsx("button",{onClick:d,className:"p-2 text-slate-400 hover:text-[#1e3a8a] hover:bg-slate-100 rounded-full transition-colors",title:"Imprimir Receta",children:o.jsx(rn,{className:"h-5 w-5"})}),o.jsx("button",{onClick:r,className:"text-slate-400 hover:text-slate-600 p-2 rounded-full hover:bg-slate-200 transition-colors",children:""})]})]}),o.jsx("div",{className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto",children:e?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Motivo de Consulta"}),o.jsx("input",{className:"w-full p-2 border border-slate-200 rounded font-medium text-slate-800",value:i.reason||"",onChange:f=>a({...i,reason:f.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Diagnstico"}),o.jsx("input",{className:"w-full p-2 border border-slate-200 rounded text-slate-800",value:i.diagnosis||"",onChange:f=>a({...i,diagnosis:f.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Tratamiento"}),o.jsx("textarea",{className:"w-full p-2 border border-slate-200 rounded text-slate-800",value:i.treatment||"",onChange:f=>a({...i,treatment:f.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-yellow-700 uppercase tracking-wider mb-1",children:"Notas Clnicas"}),o.jsx("textarea",{className:"w-full p-2 border border-yellow-200 bg-yellow-50 rounded text-slate-700 h-24",value:i.notes||"",onChange:f=>a({...i,notes:f.target.value})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Motivo de Consulta"}),o.jsx("p",{className:"text-lg text-slate-800 font-medium",children:i==null?void 0:i.reason})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Diagnstico"}),o.jsx("p",{className:"text-slate-800",children:i==null?void 0:i.diagnosis})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Tratamiento"}),o.jsx("p",{className:"text-slate-800",children:i==null?void 0:i.treatment})]})]}),(i==null?void 0:i.notes)&&o.jsxs("div",{className:"mt-4 bg-yellow-50 p-4 rounded-lg border border-yellow-100",children:[o.jsx("label",{className:"block text-xs font-semibold text-yellow-700 uppercase tracking-wider mb-1",children:"Notas Clnicas"}),o.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:i.notes})]}),o.jsx(r2,{consultationId:t.id,patientEmail:l})]})}),o.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-100 flex justify-end gap-3",children:[o.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 hover:text-slate-800 font-medium text-sm transition-colors",children:"Cerrar"}),e?o.jsx("button",{onClick:s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium text-sm shadow-sm transition-colors",children:"Guardar Cambios"}):o.jsx("button",{onClick:n,className:"px-4 py-2 bg-[#1e3a8a] text-white rounded-lg hover:bg-blue-900 font-medium text-sm shadow-sm transition-colors",children:"Editar Consulta"})]})]})})}const Q2=Qe({nombre:W().min(2,"Mnimo 2 caracteres"),apellido_paterno:W().min(1,"Mnimo 1 caracter"),apellido_materno:W().optional(),dni:W().min(1,"DNI requerido"),fecha_nacimiento:W().refine(t=>new Date(t).toString()!=="Invalid Date",{message:"Fecha de nacimiento invlida"}),sexo:W().default("M"),telefono:W().optional(),email:W().email("Email invlido").optional().or(S0("")),direccion:W().optional(),ocupacion:W().optional(),estado_civil:W().optional(),peso:De().default(0),talla:De().default(0),imc:De().default(0),grupo_sanguineo:W().optional(),alergias:W().optional(),observaciones:W().optional(),ownerId:W()}),J2=Q2.pick({dni:!0,fecha_nacimiento:!0,telefono:!0,sexo:!0}).extend({fullName:W().min(3,"Nombre completo requerido")});function Y2(){const t=$t(),[e]=Cb(),[r,n]=v.useState(!1),{token:s}=Ke(),{register:i,handleSubmit:a,setValue:l,setError:c,setFocus:u,clearErrors:h,formState:{errors:d}}=il({resolver:Vd(J2),defaultValues:{sexo:"M"}});v.useEffect(()=>{const b=e.get("name");b&&l("fullName",b)},[e,l]);const f=$e(),g=async b=>{n(!0);try{const w=b.fullName.trim().split(" "),_=w[0]||"SinNombre",m=w.slice(1).join(" ")||"SinApellido",p={nombre:_,apellido_paterno:m,apellido_materno:"",dni:b.dni,fecha_nacimiento:b.fecha_nacimiento,sexo:b.sexo,telefono:b.telefono||"",direccion:"",peso:0,talla:0,imc:0},y=await f(je("/api/patients"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(y.ok){const k=await y.json();Ne.success("Paciente registrado correctamente"),t(`/patient/${k.id}`)}else y.status===409?(c("dni",{type:"manual",message:"Este DNI ya est registrado en tu lista"}),u("dni")):(console.error("Failed to register"),Ne.error("Error al registrar: Verifique los datos o intente ms tarde"))}catch(w){console.error(w),Ne.error("Error de conexin")}finally{n(!1)}};return o.jsx("div",{className:"min-h-screen bg-slate-50 font-sans p-6 pt-24",children:o.jsxs("div",{className:"max-w-xl mx-auto",children:[o.jsxs("button",{onClick:()=>t("/search"),className:"flex items-center text-slate-500 hover:text-[#1e3a8a] mb-6 transition-colors",children:[o.jsx(tl,{className:"h-4 w-4 mr-1"}),"Volver al buscador"]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-[#1e3a8a] mb-6",children:"Nuevo Paciente"}),o.jsxs("form",{onSubmit:a(g),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nombre Completo"}),o.jsx("input",{...i("fullName"),type:"text",className:"w-full px-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-[#1e3a8a] outline-none transition-all text-slate-800",placeholder:"Ej: Juan Prez"}),d.fullName&&o.jsx("p",{className:"text-red-500 text-xs",children:d.fullName.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"DNI / Identificacin"}),o.jsx("input",{...i("dni",{onChange:()=>{var b;((b=d.dni)==null?void 0:b.type)==="manual"&&h("dni")}}),type:"text",className:`w-full px-4 py-3 border rounded-lg outline-none transition-all text-slate-800 ${d.dni?"border-red-500 focus:ring-2 focus:ring-red-100 focus:border-red-500":"border-slate-200 focus:ring-2 focus:ring-blue-100 focus:border-[#1e3a8a]"}`,placeholder:"Ej: 12345678"}),d.dni&&o.jsx("p",{className:"text-red-500 text-xs",children:d.dni.message})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Fecha de Nacimiento"}),o.jsx("input",{...i("fecha_nacimiento"),type:"date",className:"w-full px-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-[#1e3a8a] outline-none transition-all text-slate-800"}),d.fecha_nacimiento&&o.jsx("p",{className:"text-red-500 text-xs",children:d.fecha_nacimiento.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Sexo"}),o.jsxs("select",{...i("sexo"),className:"w-full px-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-[#1e3a8a] outline-none transition-all text-slate-800 bg-white",children:[o.jsx("option",{value:"M",children:"Masculino"}),o.jsx("option",{value:"F",children:"Femenino"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Telfono"}),o.jsx("input",{...i("telefono"),type:"tel",className:"w-full px-4 py-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-[#1e3a8a] outline-none transition-all text-slate-800",placeholder:"+54 11 ..."}),d.telefono&&o.jsx("p",{className:"text-red-500 text-xs",children:d.telefono.message})]}),o.jsx("div",{className:"pt-4",children:o.jsxs("button",{type:"submit",disabled:r,className:"w-full flex items-center justify-center gap-2 bg-[#1e3a8a] hover:bg-blue-900 text-white font-medium py-3.5 px-6 rounded-lg transition-all shadow-sm active:scale-95 disabled:opacity-50",children:[o.jsx(Xi,{className:"h-5 w-5"}),r?"Guardando...":"Guardar y Abrir Ficha"]})})]})]})]})})}function X2({onChange:t,initialData:e}){const[r,n]=v.useState({peso_kg:(e==null?void 0:e.peso_kg)||"",estatura_cm:(e==null?void 0:e.estatura_cm)||"",presion_arterial:(e==null?void 0:e.presion_arterial)||"",frecuencia_cardiaca:(e==null?void 0:e.frecuencia_cardiaca)||"",temperatura_c:(e==null?void 0:e.temperatura_c)||"",imc:(e==null?void 0:e.imc)||""}),s=(l,c)=>{if(l>0&&c>0){const u=c/100;return parseFloat((l/(u*u)).toFixed(2))}return null},i=l=>l<25?"text-green-600":l<30?"text-orange-500":"text-red-600",a=(l,c)=>{const u={...r,[l]:c};if(l==="peso_kg"||l==="estatura_cm"){const h=parseFloat(l==="peso_kg"?c:r.peso_kg),d=parseFloat(l==="estatura_cm"?c:r.estatura_cm),f=s(h,d);f&&(u.imc=f.toString())}n(u),t(u)};return o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"peso",className:"block text-sm font-medium text-gray-700",children:"Peso (kg)"}),o.jsx("input",{id:"peso",type:"number",step:"0.1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 bg-white border",value:r.peso_kg,onChange:l=>a("peso_kg",l.target.value),placeholder:"Ej: 70.5"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"estatura",className:"block text-sm font-medium text-gray-700",children:"Estatura (cm)"}),o.jsx("input",{id:"estatura",type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 bg-white border",value:r.estatura_cm,onChange:l=>a("estatura_cm",l.target.value),placeholder:"Ej: 175"})]}),o.jsxs("div",{className:"flex flex-col justify-end pb-2",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"IMC Calculado:"}),r.imc?o.jsx("span",{className:`text-xl font-bold ${i(parseFloat(r.imc))}`,children:r.imc}):o.jsx("span",{className:"text-gray-400 text-sm italic",children:"Pendiente de datos"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Presin Arterial"}),o.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 bg-white border",value:r.presion_arterial,onChange:l=>a("presion_arterial",l.target.value),placeholder:"Ej: 120/80"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Frec. Cardaca (lpm)"}),o.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 bg-white border",value:r.frecuencia_cardiaca,onChange:l=>a("frecuencia_cardiaca",l.target.value),placeholder:"Ej: 70"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Temp (C)"}),o.jsx("input",{type:"number",step:"0.1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 bg-white border",value:r.temperatura_c,onChange:l=>a("temperatura_c",l.target.value),placeholder:"Ej: 36.5"})]})]})}function ej({onSelect:t}){const[e,r]=v.useState(""),[n,s]=v.useState([]),[i,a]=v.useState(!1),[l,c]=v.useState(e),[u,h]=v.useState(!1);v.useEffect(()=>{const f=setTimeout(()=>{c(e)},500);return()=>{clearTimeout(f)}},[e]);const d=$e();return v.useEffect(()=>{(async()=>{if(!l||l.length<3){s([]),h(!1);return}a(!0),h(!0);try{const g=await d(je("/api/diagnosis/suggest-cie10"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l})});if(g.ok){const b=await g.json();s(b.suggestions||[])}else console.error("Diagnosis API Error")}catch(g){g.message!=="AUTH_TOKEN_MISSING"&&g.message!=="AUTH_401"&&console.error("Network Error:",g)}finally{a(!1)}})()},[l]),o.jsxs("div",{className:"relative w-full mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagnstico Presuntivo (IA)"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i?o.jsx(Di,{className:"h-5 w-5 text-blue-500 animate-spin"}):o.jsx(Ad,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Escriba sntomas o diagnstico (Ej: Dolor lumbar...)",value:e,onChange:f=>r(f.target.value)})]}),u&&n.length>0&&o.jsxs("ul",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:[n.map(f=>o.jsxs("li",{className:"text-gray-900 cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-blue-50",onClick:()=>{t(f.code,f.description),r(`${f.code} - ${f.description}`),h(!1)},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"font-bold text-blue-800 w-16",children:f.code}),o.jsx("span",{className:"text-gray-700",children:f.description})]}),o.jsx("span",{className:"block text-xs text-gray-400 ml-16 truncate",children:f.relevance_reason})]},f.code)),o.jsx("li",{className:"text-xs text-center py-2 text-gray-400 border-t bg-gray-50",children:"Sugerencias generadas por Gemini AI"})]}),u&&i&&n.length===0&&o.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md py-2 px-4 text-sm text-gray-500",children:"Buscando sugerencias..."})]})}function tj(){const t=$t(),{id:e}=vd(),{profile:r}=Ke(),[n,s]=v.useState({reason:"",notes:"",diagnosis:"",treatment:"",weight:"",height:"",peso_kg:void 0,estatura_cm:void 0,imc:void 0,presion_arterial:void 0,frecuencia_cardiaca:void 0,temperatura_c:void 0,cie10_code:void 0,cie10_description:void 0}),[i,a]=v.useState(!1),[l,c]=v.useState(null),u=$e(),h=async f=>{f.preventDefault(),a(!0),c(null);try{const g={reason:n.reason,diagnosis:n.diagnosis,treatment:n.treatment,notes:n.notes||void 0},b=await u(je(`/api/patients/${e}/consultations`),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!b.ok){const w=await b.json().catch(()=>({}));throw new Error(w.detail||"Error al guardar la consulta")}if(n.weight&&n.height){const w=parseFloat(n.weight),_=parseFloat(n.height)/100,m=w/(_*_);await u(je(`/api/patients/${e}`),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({imc:parseFloat(m.toFixed(1))})}).catch(console.error)}t(`/patient/${e}`)}catch(g){c(g.message||"Error desconocido")}finally{a(!1)}},d=f=>{s(g=>({...g,[f.target.name]:f.target.value}))};return o.jsx("div",{className:"min-h-screen bg-slate-50 font-sans p-6 pt-24",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-slate-500 hover:text-[#1e3a8a] transition-colors mb-6",children:[o.jsx(tl,{className:"h-4 w-4 mr-2"}),"Cancelar y Volver"]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 overflow-hidden relative",children:[o.jsx("div",{className:"h-2 bg-[#1e3a8a] w-full"}),o.jsxs("form",{onSubmit:h,className:"p-8 md:p-12 space-y-8",children:[o.jsxs("div",{className:"flex justify-between items-start border-b border-slate-100 pb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-serif text-slate-800 mb-2",children:"Nueva Consulta"}),o.jsx("p",{className:"text-slate-500 text-sm",children:"Registrando atencin para el paciente"})]}),o.jsxs("div",{className:"text-right text-xs text-slate-400",children:[o.jsx("p",{children:new Date().toLocaleDateString()}),o.jsx("p",{children:r.professionalName})]})]}),l&&o.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-md text-sm",children:l}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 uppercase tracking-wide",children:[o.jsx(lu,{className:"h-4 w-4 text-[#1e3a8a]"}),"Motivo de Consulta"]}),o.jsx("input",{type:"text",name:"reason",value:n.reason,onChange:d,required:!0,placeholder:"Ej: Dolor abdominal agudo...",className:"w-full border-0 border-b-2 border-slate-200 focus:border-[#1e3a8a] focus:ring-0 px-0 py-2 text-lg bg-transparent transition-colors placeholder:text-slate-300"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 uppercase tracking-wide",children:[o.jsx(nl,{className:"h-4 w-4 text-[#1e3a8a]"}),"Notas de Examen Fsico"]}),o.jsx("textarea",{name:"notes",value:n.notes,onChange:d,rows:3,className:"w-full rounded-md border-slate-200 focus:border-[#1e3a8a] focus:ring-[#1e3a8a] bg-slate-50/50",placeholder:"Hallazgos relevantes..."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-slate-700 uppercase tracking-wide",children:[o.jsx(Id,{className:"h-4 w-4 text-[#1e3a8a]"}),"Diagnstico"]}),o.jsx("input",{type:"text",name:"diagnosis",value:n.diagnosis,onChange:d,required:!0,placeholder:"Ej: Gastritis Aguda",className:"w-full border-0 border-b-2 border-slate-200 focus:border-[#1e3a8a] focus:ring-0 px-0 py-2 text-lg font-medium text-slate-800 bg-transparent transition-colors"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-medium mb-3",children:"Constantes Vitales"}),o.jsx(X2,{onChange:f=>s({...n,...f})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-medium mb-3",children:"Diagnstico CIE-10 (IA)"}),o.jsx(ej,{onSelect:(f,g)=>s({...n,cie10_code:f,cie10_description:g})})]}),o.jsxs("div",{className:"space-y-3 bg-yellow-50/30 p-6 -mx-6 md:-mx-8 border-y border-yellow-100/50",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-[#1e3a8a] uppercase tracking-wide mb-2",children:[o.jsx(HS,{className:"h-4 w-4"}),"Plan de Tratamiento / Receta"]}),o.jsx("textarea",{name:"treatment",value:n.treatment,onChange:d,required:!0,className:"w-full min-h-[200px] border-0 bg-transparent focus:ring-0 text-slate-700 leading-relaxed resize-y placeholder:text-slate-300",placeholder:"Escriba aqu las indicaciones, medicamentos y dosis...",style:{backgroundImage:"linear-gradient(transparent, transparent 31px, #e2e8f0 31px)",backgroundSize:"100% 32px",lineHeight:"32px"}})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsxs("button",{type:"submit",disabled:i,className:"flex items-center gap-2 bg-[#1e3a8a] hover:bg-blue-900 text-white font-semibold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transition-all disabled:opacity-50 transform hover:-translate-y-1",children:[o.jsx(Xi,{className:"h-5 w-5"}),i?"Guardando...":"Finalizar Consulta"]})})]})]})]})})}function rj(){const{token:t}=Ke(),e=$e(),[r,n]=v.useState(!1),[s,i]=v.useState(!1),[a,l]=v.useState(null),c=v.useRef(null),u=async()=>{if(t)try{n(!0);const d=await au.exportData(e),f=window.URL.createObjectURL(d),g=document.createElement("a");g.href=f,g.download=`vitalinuage_backup_${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(g),g.click(),window.URL.revokeObjectURL(f),document.body.removeChild(g),et.success("Respaldo descargado correctamente")}catch(d){console.error("Export error:",d),et.error("Error al descargar el respaldo")}finally{n(!1)}},h=async d=>{var g;const f=(g=d.target.files)==null?void 0:g[0];if(!(!f||!t)){if(!f.name.endsWith(".zip")){et.error("Solo se permiten archivos .zip");return}try{i(!0);const b=await au.importData(e,f);l(b),et.success("Importacin completada con xito")}catch(b){console.error("Import error:",b),et.error(b instanceof Error?b.message:"Error al importar datos")}finally{i(!1),c.current&&(c.current.value="")}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Gestin de Datos y Portabilidad"}),o.jsx("p",{className:"text-slate-500",children:"Descarga una copia completa de tus registros mdicos o restaura desde un respaldo anterior compatible."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center mb-4",children:o.jsx(qh,{className:"w-6 h-6 text-blue-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Exportar Informacin"}),o.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Descarga un archivo ZIP con todos tus pacientes y consultas en formato CSV compatible con Excel."})]}),o.jsxs("button",{onClick:u,disabled:r,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r?o.jsx(Di,{className:"w-5 h-5 animate-spin"}):o.jsx(qh,{className:"w-5 h-5"}),r?"Generando...":"Descargar Copia de Seguridad"]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-50 flex items-center justify-center mb-4",children:o.jsx(Rd,{className:"w-6 h-6 text-indigo-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Restaurar Respaldo"}),o.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Sube un archivo ZIP generado previamente por Vitalinuage para restaurar tu historial mdico."})]}),o.jsxs("div",{children:[o.jsx("input",{ref:c,type:"file",accept:".zip",onChange:h,className:"hidden"}),o.jsxs("button",{onClick:()=>{var d;return(d=c.current)==null?void 0:d.click()},disabled:s,className:"w-full py-3 px-4 bg-white border border-slate-200 hover:border-indigo-300 text-slate-700 hover:text-indigo-600 rounded-xl font-medium transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?o.jsx(Di,{className:"w-5 h-5 animate-spin"}):o.jsx(zS,{className:"w-5 h-5"}),s?"Procesando...":"Subir Archivo"]})]})]})]}),a&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl animate-fade-in relative",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:o.jsx(r0,{className:"w-6 h-6 text-green-600"})}),o.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Importacin Completada"})]}),o.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-slate-600",children:"Pacientes Totales:"}),o.jsx("span",{className:"font-medium text-slate-900",children:a.patients_processed})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-slate-600",children:"Pacientes Nuevos:"}),o.jsxs("span",{className:"font-medium text-green-600",children:["+",a.patients_inserted]})]}),o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-slate-600",children:"Consultas Insertadas:"}),o.jsxs("span",{className:"font-medium text-blue-600",children:["+",a.consultations_inserted]})]}),a.errors.length>0&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[o.jsxs("h4",{className:"flex items-center gap-2 text-xs font-semibold text-red-600 mb-1",children:[o.jsx(el,{className:"w-3 h-3"})," Errores (",a.errors.length,")"]}),o.jsx("ul",{className:"text-xs text-red-500 list-disc pl-4 max-h-20 overflow-y-auto",children:a.errors.slice(0,5).map((d,f)=>o.jsx("li",{children:d},f))})]})]}),o.jsx("button",{onClick:()=>l(null),className:"w-full py-2.5 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors",children:"Cerrar"})]})})]})}function nj({onClose:t}){const{profile:e}=Ke(),[r,n]=v.useState(""),[s,i]=v.useState(!1),[a,l]=v.useState(null),c=`eliminar mi cuenta vitalinuage/${e.email}`,u=r===c,h=$e(),d=async()=>{if(u){i(!0),l(null);try{const f=await h(je("/api/users/me"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmation_phrase:r})});if(!f.ok){const g=await f.json();throw new Error(g.detail||"Error al eliminar la cuenta")}localStorage.clear(),sessionStorage.clear(),window.location.href="/"}catch(f){console.error(f),f.message!=="AUTH_TOKEN_MISSING"&&f.message!=="AUTH_401"&&l(f instanceof Error?f.message:"Error desconocido"),i(!1)}}};return o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-200",children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-lg w-full p-6 shadow-2xl border border-red-100 relative",children:[o.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 p-1 hover:bg-slate-100 rounded-full transition-colors",children:o.jsx(o0,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-red-50 flex items-center justify-center mb-4 border-4 border-red-100",children:o.jsx(ou,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Ests absolutamente seguro?"}),o.jsxs("p",{className:"text-sm text-slate-500 mt-2 max-w-sm",children:["Esta accin es ",o.jsx("span",{className:"font-bold text-red-600",children:"irreversible"}),". Se eliminarn permanentemente todos tus pacientes, consultas y configuraciones."]})]}),o.jsxs("div",{className:"bg-red-50/50 rounded-xl p-4 border border-red-100 mb-6 text-left",children:[o.jsx("label",{className:"block text-xs font-semibold text-red-800 uppercase tracking-wide mb-2",children:"Para confirmar, escribe:"}),o.jsx("div",{className:"font-mono text-sm text-slate-600 bg-white px-3 py-2 rounded-lg border border-red-100 select-all",children:c})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{type:"text",value:r,onChange:f=>n(f.target.value),placeholder:"Escribe la frase aqu...",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-red-500 focus:ring-4 focus:ring-red-50/50 outline-none transition-all font-medium text-slate-900 placeholder:text-slate-400",autoFocus:!0}),a&&o.jsxs("div",{className:"text-sm text-red-600 bg-red-50 px-3 py-2 rounded-lg flex items-center gap-2",children:[o.jsx(ou,{className:"w-4 h-4"}),a]}),o.jsx("button",{onClick:d,disabled:!u||s,className:"w-full py-3.5 px-4 bg-red-600 hover:bg-red-700 text-white rounded-xl font-bold shadow-lg shadow-red-200 hover:shadow-red-300 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Di,{className:"w-5 h-5 animate-spin"}),"Eliminando cuenta..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ZS,{className:"w-5 h-5"}),"Eliminar mi cuenta permanentemente"]})})]})]})})}function sj(){const{refreshProfile:t}=Ke(),[e,r]=v.useState(!1),[n,s]=v.useState(!1),[i,a]=v.useState(null),[l,c]=v.useState(null),[u,h]=v.useState(!1),[d,f]=v.useState(!1),{register:g,handleSubmit:b,setValue:w}=il(),_=$e();v.useEffect(()=>{_("/api/doctor/profile").then(E=>E.json()).then(E=>{w("professionalName",E.professional_name),w("specialty",E.specialty),w("address",E.address),w("phone",E.phone)}).catch(E=>console.error("Error loading profile",E)),_("/api/print/preferences").then(E=>E.json()).then(E=>{E.signature_url&&c(E.signature_url)}).catch(E=>console.error("Error loading signature",E))},[w]);const m=async E=>{try{const T={professional_name:E.professionalName,specialty:E.specialty,address:E.address,phone:E.phone};(await _("/api/doctor/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).ok&&(await t(),r(!0),setTimeout(()=>r(!1),3e3))}catch(T){console.error("Error saving profile",T)}},p=v.useCallback(E=>{E.preventDefault(),s(!0)},[]),y=v.useCallback(E=>{E.preventDefault(),s(!1)},[]),k=v.useCallback(E=>{E.preventDefault(),s(!1);const T=E.dataTransfer.files[0];if(T&&T.type.startsWith("image/")){const q=URL.createObjectURL(T);a(q)}},[]),j=v.useCallback(E=>{if(E.target.files&&E.target.files[0]){const T=E.target.files[0],q=URL.createObjectURL(T);a(q)}},[]),R=v.useCallback(async E=>{if(E.target.files&&E.target.files[0]){const T=E.target.files[0],q=URL.createObjectURL(T);c(q);const C=new FormData;C.append("file",T);try{(await _("/api/doctor/signature",{method:"POST",body:C})).ok&&(r(!0),setTimeout(()=>r(!1),3e3))}catch(H){console.error("Error uploading signature",H)}}},[]);return o.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans p-6 pt-24",children:[o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-[#1e3a8a]",children:"Configuracin de Perfil"}),o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Personaliza tu informacin y apariencia. Estos datos son visibles en tus recetas."})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-8",children:o.jsxs("form",{onSubmit:b(m),className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Foto de Perfil"}),o.jsxs("div",{className:"flex gap-6 items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-24 w-24 rounded-full border-2 border-slate-100 overflow-hidden bg-slate-50 flex items-center justify-center",children:i?o.jsx("img",{src:i,alt:"Preview",className:"h-full w-full object-cover"}):o.jsx(Od,{className:"h-10 w-10 text-slate-300"})})}),o.jsxs("div",{onDragOver:p,onDragLeave:y,onDrop:k,className:wu("flex-1 border-2 border-dashed rounded-xl p-8 transition-all duration-200 cursor-pointer group relative",n?"border-[#1e3a8a] bg-blue-50/50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"),children:[o.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),o.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:wu("p-3 rounded-full mb-3 transition-colors",n?"bg-blue-100 text-[#1e3a8a]":"bg-slate-100 text-slate-400 group-hover:text-slate-500"),children:o.jsx(Qh,{className:"h-6 w-6"})}),o.jsx("p",{className:"text-sm font-medium text-slate-700 mb-1",children:n?"Suelta la imagen aqu!":"Arrastra tu foto aqu"}),o.jsx("p",{className:"text-xs text-slate-400",children:"O haz clic para seleccionar (JPG, PNG)"})]})]})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Firma y Sello (Opcional)"}),o.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Sube una imagen (PNG con fondo transparente recomendado) de tu firma y sello."}),o.jsxs("div",{className:"flex gap-6 items-start",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-24 w-40 rounded-lg border-2 border-slate-100 overflow-hidden bg-white flex items-center justify-center",children:l?o.jsx("img",{src:l,alt:"Signature Preview",className:"max-h-full max-w-full object-contain"}):o.jsx("span",{className:"text-xs text-slate-400",children:"Sin firma"})})}),o.jsxs("div",{className:"flex-1 border-2 border-dashed border-slate-200 hover:border-slate-300 hover:bg-slate-50 rounded-xl p-6 relative flex flex-col items-center justify-center text-center",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),o.jsx(Qh,{className:"h-6 w-6 text-slate-400 mb-2"}),o.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Arrastra o selecciona tu firma"})]})]})]}),o.jsx("hr",{className:"border-slate-100"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Nombre Profesional"}),o.jsx("input",{...g("professionalName"),type:"text",className:"w-full px-4 py-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-[#1e3a8a] outline-none transition-all text-slate-800"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Especialidad"}),o.jsx("input",{...g("specialty"),type:"text",className:"w-full px-4 py-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-[#1e3a8a] outline-none transition-all text-slate-800"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Direccin del Consultorio"}),o.jsx("input",{...g("address"),type:"text",className:"w-full px-4 py-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-[#1e3a8a] outline-none transition-all text-slate-800"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Telfono de Contacto"}),o.jsx("input",{...g("phone"),type:"text",className:"w-full px-4 py-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-100 focus:border-[#1e3a8a] outline-none transition-all text-slate-800"})]})]}),o.jsxs("div",{className:"pt-4 flex items-center justify-between",children:[o.jsx("div",{children:e&&o.jsx("span",{className:"text-sm text-green-600 font-medium animate-in fade-in",children:" Cambios guardados correctamente"})}),o.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-[#1e3a8a] hover:bg-blue-900 text-white font-medium py-2.5 px-6 rounded-lg transition-all shadow-sm active:scale-95",children:[o.jsx(Xi,{className:"h-4 w-4"}),"Guardar Cambios"]})]})]})}),o.jsx("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-slate-100 p-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-[#1e3a8a] flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5"}),"Preferencias de Impresin"]}),o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Configura el diseo, papel y colores de tus recetas PDF."})]}),o.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-[#1e3a8a] hover:bg-blue-900 text-white font-medium py-2.5 px-6 rounded-lg transition-all shadow-sm active:scale-95",children:[o.jsx(rn,{className:"h-4 w-4"}),"Configurar Impresin"]})]})}),o.jsx("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-slate-100 p-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-[#1e3a8a] flex items-center gap-2",children:[o.jsx(rn,{className:"h-5 w-5"}),"Mapeo de Talonario A5"]}),o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Calibra la posicin del texto para imprimir sobre tus recetarios fsicos pre-impresos."})]}),o.jsx("a",{href:"/settings/talonario",className:"flex items-center gap-2 bg-white border border-[#1e3a8a] text-[#1e3a8a] hover:bg-blue-50 font-medium py-2.5 px-6 rounded-lg transition-all shadow-sm active:scale-95",children:"Calibrar Talonario"})]})}),o.jsx("div",{className:"mt-8",children:o.jsx(rj,{})}),o.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-200",children:[o.jsxs("h3",{className:"text-sm font-bold text-red-600 uppercase tracking-wider mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-red-600"}),"Zona de Peligro"]}),o.jsxs("div",{className:"bg-red-50 rounded-xl border border-red-100 p-6 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-red-900 mb-1",children:"Eliminar Cuenta"}),o.jsx("p",{className:"text-sm text-red-700 max-w-md",children:"Esta accin eliminar permanentemente todos tus datos, pacientes y consultas. No se puede deshacer."})]}),o.jsx("button",{onClick:()=>f(!0),className:"whitespace-nowrap px-5 py-2.5 bg-white border-2 border-red-100 text-red-600 hover:bg-red-600 hover:text-white hover:border-red-600 rounded-lg font-bold transition-all shadow-sm active:scale-95",children:"Eliminar mi cuenta"})]})]})]}),u&&o.jsx(P0,{onClose:()=>h(!1)}),d&&o.jsx(nj,{onClose:()=>f(!1)})]})}const Ws=148,Gs=210,Rp=[{field_key:"patient_name",label:"Nombre Paciente",x_mm:20,y_mm:40,font_size_pt:12,max_width_mm:80},{field_key:"patient_dni",label:"DNI",x_mm:100,y_mm:40,font_size_pt:12,max_width_mm:30},{field_key:"date",label:"Fecha",x_mm:110,y_mm:20,font_size_pt:12,max_width_mm:30},{field_key:"diagnosis",label:"Diagnstico",x_mm:20,y_mm:60,font_size_pt:12,max_width_mm:110},{field_key:"treatment",label:"Tratamiento",x_mm:20,y_mm:90,font_size_pt:12,max_width_mm:110},{field_key:"doctor_signature",label:"Firma y Sello",x_mm:80,y_mm:150,font_size_pt:12,max_width_mm:50},{field_key:"qr_code",label:"Cdigo QR",x_mm:120,y_mm:180,font_size_pt:0,max_width_mm:25}],ij=()=>{const[t,e]=v.useState(null),[r,n]=v.useState(null),[s,i]=v.useState(Rp),[a,l]=v.useState(null),[c,u]=v.useState(!1),[h,d]=v.useState("Mi Talonario"),[f,g]=v.useState(null),[b,w]=v.useState(!0),[_,m]=v.useState(!1),p=v.useRef(null),y=$e();v.useEffect(()=>{(async()=>{try{const H=await fetch("/config/feature-flags.json");if(H.ok){const P=await H.json();e(P.prescription_coords_v1===!0)}else e(!1)}catch(H){console.error("Failed to load feature flags",H),e(!1)}})()},[]),v.useEffect(()=>{if(t===!1||t===null)return;(async()=>{try{const H=await y(je("/api/maps"));if(H.ok){const P=await H.json(),G=Array.isArray(P)?P.find(V=>V.is_active)||P[0]:P;if(G){g(G.id),d(G.name);const V=G.fields_config,Y=Rp.map(te=>V.find(D=>D.field_key===te.field_key)||te);i(Y),G.background_image_url&&n(G.background_image_url)}}else H.status===404&&console.log("No map configured yet")}catch(H){console.error("Failed to fetch map",H)}finally{w(!1)}})()},[t]);const k=C=>{var G;const H=(G=C.target.files)==null?void 0:G[0];if(!H)return;const P=new FileReader;P.onload=V=>{var Y;n((Y=V.target)==null?void 0:Y.result)},P.readAsDataURL(H)},j=C=>({left:`${C.x_mm/Ws*100}%`,top:`${C.y_mm/Gs*100}%`,fontSize:`${C.font_size_pt}pt`}),R=v.useCallback(C=>{if(!c||!a||!p.current)return;const H=p.current.getBoundingClientRect(),P=C.clientX-H.left,G=C.clientY-H.top,V=P/H.width*Ws,Y=G/H.height*Gs;i(te=>te.map(ae=>ae.field_key===a?{...ae,x_mm:Math.max(0,Math.min(V,Ws)),y_mm:Math.max(0,Math.min(Y,Gs))}:ae))},[c,a]),E=v.useCallback(()=>{u(!1)},[]);v.useEffect(()=>(c?(window.addEventListener("mousemove",R),window.addEventListener("mouseup",E)):(window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",E)),()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",E)}),[c,R,E]),v.useEffect(()=>{const C=H=>{if(!a)return;const P=.5;i(G=>G.map(V=>{if(V.field_key!==a)return V;let{x_mm:Y,y_mm:te}=V;switch(H.key){case"ArrowUp":te-=P;break;case"ArrowDown":te+=P;break;case"ArrowLeft":Y-=P;break;case"ArrowRight":Y+=P;break;default:return V}return{...V,x_mm:Y,y_mm:te}}))};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[a]);const T=async()=>{m(!0);const C={name:h,canvas_width_mm:Ws,canvas_height_mm:Gs,fields_config:s,is_active:!0};try{const H=await y(je("/api/maps"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(H.ok){const P=await H.json();g(P.id),alert("Mapa guardado exitosamente")}else{const P=await H.text();console.error("Error saving map",P),alert("Error guardando mapa")}}catch(H){console.error("Error saving map",H),alert("Error conectando con servidor")}finally{m(!1)}},q=()=>{if(!f){alert("Primero guarda el mapa");return}const C=prompt("Ingresa un ID de consulta existente para probar:","1");C&&window.open(je(`/api/print/mapped/${C}?map_id=${f}&debug=true`),"_blank")};return t===null?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"text-gray-500",children:"Cargando..."})}):t===!1?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 max-w-md",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(el,{className:"h-6 w-6 text-yellow-600"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Funcionalidad no disponible"})]}),o.jsx("p",{className:"text-sm text-yellow-700",children:"El editor de mapas de impresin est desactivado. Contacta al administrador del sistema."})]})}):b?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"text-gray-500",children:"Cargando configuracin..."})}):o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-6 h-[calc(100vh-100px)]",children:[o.jsxs("div",{className:"w-full md:w-1/3 bg-white p-6 rounded-lg shadow-md flex flex-col gap-4 overflow-y-auto",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Editor de Mapas de Impresin"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Nombre del Mapa"}),o.jsx("input",{type:"text",value:h,onChange:C=>d(C.target.value),className:"p-2 border rounded"})]}),o.jsxs("div",{className:"p-4 border-2 border-dashed rounded-lg text-center cursor-pointer hover:bg-gray-50 relative",children:[o.jsx("input",{type:"file",onChange:k,className:"absolute inset-0 opacity-0 cursor-pointer",accept:"image/*"}),o.jsx(Rd,{className:"mx-auto h-8 w-8 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-500",children:"Subir foto del talonario"})]}),o.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[o.jsx("h3",{className:"font-semibold",children:"Campos Disponibles"}),o.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selecciona un campo para moverlo con el teclado"}),s.map(C=>o.jsxs("div",{onClick:()=>l(C.field_key),className:`p-2 rounded cursor-pointer border flex justify-between items-center ${a===C.field_key?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-200"}`,children:[o.jsx("span",{className:"text-sm",children:C.label}),o.jsxs("span",{className:"text-xs text-gray-400",children:[C.x_mm.toFixed(1),", ",C.y_mm.toFixed(1)," mm"]})]},C.field_key))]}),o.jsxs("button",{onClick:T,disabled:_,className:"mt-auto bg-blue-600 text-white p-3 rounded-md flex items-center justify-center gap-2 hover:bg-blue-700 disabled:opacity-50",children:[o.jsx(Xi,{size:20})," ",_?"Guardando...":"Guardar Configuracin"]}),f&&o.jsxs("button",{onClick:q,className:"bg-gray-800 text-white p-3 rounded-md flex items-center justify-center gap-2 hover:bg-gray-900",children:[o.jsx(rn,{size:20})," Prueba de Impresin (Debug)"]})]}),o.jsx("div",{className:"flex-1 bg-gray-100 rounded-lg flex items-center justify-center p-8 overflow-auto",children:o.jsxs("div",{ref:p,className:"bg-white shadow-2xl relative select-none",style:{aspectRatio:`${Ws}/${Gs}`,height:"100%",maxHeight:"800px",backgroundImage:r?`url(${r})`:"none",backgroundSize:"cover",backgroundPosition:"center"},children:[!r&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 text-sm",children:"Sin imagen de fondo"}),s.map(C=>o.jsxs("div",{style:j(C),onMouseDown:H=>{H.stopPropagation(),l(C.field_key),u(!0)},className:`absolute border border-dashed flex items-center px-1 cursor-move text-xs whitespace-nowrap overflow-hidden
                        ${a===C.field_key?"border-blue-600 bg-blue-100/50 text-blue-800 z-10":"border-gray-400 bg-white/50 text-gray-600"}
                    `,children:[C.field_key==="qr_code"?o.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 font-bold",children:"QR"}):C.label,o.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-black opacity-20 cursor-se-resize",onMouseDown:H=>{H.stopPropagation()}})]},C.field_key))]})})]})},aj=()=>o.jsxs("div",{className:"container mx-auto",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4 px-6 pt-4",children:"Configuracin de Talonario"}),o.jsx(ij,{})]});function oj(){const[t,e]=v.useState(null),[r,n]=v.useState(null),[s,i]=v.useState(!0),[a,l]=v.useState(""),[c,u]=v.useState(""),[h,d]=v.useState("all"),f=$e(),g=async()=>{i(!0);try{const w=new URLSearchParams;a&&w.append("start_date",new Date(a).toISOString()),c&&w.append("end_date",new Date(c).toISOString()),h!=="all"&&w.append("status",h);const _=await f(`${$a.apiBaseUrl}/api/audit/dispatch-summary?${w.toString()}`);if(_.status===404)throw new Error("Audit Panel is disabled or not found.");if(!_.ok)throw new Error("Failed to load audit data");const m=await _.json();e(m)}catch(w){w.message!=="AUTH_TOKEN_MISSING"&&w.message!=="AUTH_401"&&n(w.message)}finally{i(!1)}},b=()=>{if(!t)return;const w=[`Fecha,Paciente,Medico,Email Sent,WhatsApp Sent
`],_=t.items.map(k=>`${k.issue_date},"${k.patient_name}","${k.doctor_name}",${k.email_sent_at||""},${k.whatsapp_sent_at||""}`),m=new Blob([w+_.join(`
`)],{type:"text/csv"}),p=window.URL.createObjectURL(m),y=document.createElement("a");y.href=p,y.download=`audit_${new Date().toISOString().split("T")[0]}.csv`,y.click()};return v.useEffect(()=>{g()},[]),s?o.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading audit data..."}):r?o.jsxs("div",{className:"p-8 text-red-500 flex items-center gap-2",children:[o.jsx(el,{className:"w-5 h-5"})," ",r]}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Panel de Auditora de Despachos"}),o.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6 flex flex-wrap gap-4 items-end",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),o.jsx("input",{type:"date",className:"border border-gray-300 rounded px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500",onChange:w=>{}})]})}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow mb-6 flex flex-wrap gap-4 items-end",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),o.jsx("input",{type:"date",value:a,onChange:w=>l(w.target.value),className:"border border-gray-300 rounded px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),o.jsx("input",{type:"date",value:c,onChange:w=>u(w.target.value),className:"border border-gray-300 rounded px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),o.jsxs("select",{value:h,onChange:w=>d(w.target.value),className:"border border-gray-300 rounded px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500 min-w-[150px]",children:[o.jsx("option",{value:"all",children:"Todos"}),o.jsx("option",{value:"pending",children:"Pendientes"}),o.jsx("option",{value:"sent",children:"Enviados"})]})]}),o.jsx("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded text-sm font-medium hover:bg-blue-700 transition-colors",children:"Filtrar"}),o.jsx("div",{className:"flex-grow"}),o.jsx("button",{onClick:b,className:"border border-gray-300 text-gray-700 px-4 py-2 rounded text-sm font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",children:o.jsx("span",{children:" CSV"})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paciente"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mdico"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Canales"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t==null?void 0:t.items.map(w=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.issue_date).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.patient_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.doctor_name}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 flex gap-4",children:[o.jsxs("span",{className:`flex items-center gap-1 ${w.email_sent_at?"text-green-600 font-semibold":"text-gray-400"}`,children:[o.jsx(Pd,{className:"w-4 h-4"})," ",w.email_sent_at?"Enviado":"Pendiente"]}),o.jsxs("span",{className:`flex items-center gap-1 ${w.whatsapp_sent_at?"text-green-600 font-semibold":"text-gray-400"}`,children:[o.jsx(i0,{className:"w-4 h-4"})," ",w.whatsapp_sent_at?"Enviado":"Pendiente"]})]})]},w.uuid))})]}),o.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 text-sm text-gray-500 bg-gray-50",children:["Total: ",t==null?void 0:t.total_count," registros encontrados"]})]})]})}const lj=()=>{const{id:t}=vd(),e=$t(),r=$e(),[n,s]=v.useState(null),[i,a]=v.useState(!0),[l,c]=v.useState(null);return v.useEffect(()=>{(async()=>{if(t)try{const h=await r(je(`/api/patients/prescriptions/${t}`));if(!h.ok)throw new Error("No se pudo cargar la receta");const d=await h.json(),f=YE.parse(d);s(f)}catch(h){console.error(h),h.message!=="AUTH_TOKEN_MISSING"&&h.message!=="AUTH_401"&&c("Error al cargar receta.")}finally{a(!1)}})()},[t]),i?o.jsx("div",{className:"flex h-screen items-center justify-center",children:o.jsx(Di,{className:"animate-spin text-blue-600",size:48})}):l||!n?o.jsxs("div",{className:"flex h-screen flex-col items-center justify-center gap-4",children:[o.jsx("p",{className:"text-red-500 font-medium",children:l||"Receta no encontrada"}),o.jsx("button",{onClick:()=>e(-1),className:"text-blue-600 hover:underline",children:"Volver"})]}):o.jsxs("div",{className:"min-h-screen bg-slate-100 p-8 print:p-0 print:bg-white text-slate-900",children:[o.jsxs("div",{className:"max-w-3xl mx-auto mb-6 flex justify-between items-center print:hidden",children:[o.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-slate-600 hover:text-slate-900 transition-colors",children:[o.jsx(tl,{size:20,className:"mr-2"})," Volver"]}),o.jsxs("button",{onClick:()=>window.print(),className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium",children:[o.jsx(rn,{size:20,className:"mr-2"})," Imprimir Receta"]})]}),o.jsxs("div",{className:"max-w-3xl mx-auto bg-white p-12 shadow-xl print:shadow-none print:w-full print:max-w-none print:mx-0 print:p-8 min-h-[29.7cm] relative",children:[o.jsxs("div",{className:"border-b-2 border-slate-900 pb-6 mb-8 flex justify-between items-end",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:["Dr. ",n.doctor_name]}),o.jsx("p",{className:"text-slate-500 font-medium",children:"Medicina General"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"RECETA MDICA"}),o.jsxs("p",{className:"text-slate-500 text-sm",children:["Folio #",n.id.toString().padStart(6,"0")]})]})]}),o.jsx("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-100 mb-8 print:bg-transparent print:border-slate-200",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Paciente"}),o.jsx("span",{className:"text-lg font-semibold text-slate-900",children:n.patient_name})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Fecha de Emisin"}),o.jsx("span",{className:"text-lg font-semibold text-slate-900",children:new Date(n.date).toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"})})]})]})}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 border-b border-slate-100 pb-2",children:"Prescripcin"}),o.jsx("div",{className:"space-y-6",children:n.medications.map((u,h)=>o.jsxs("div",{className:"flex gap-4 items-baseline",children:[o.jsxs("span",{className:"text-slate-400 font-bold w-6",children:[h+1,"."]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[o.jsxs("span",{className:"font-bold text-lg text-slate-900",children:[u.name," ",u.dosage]}),o.jsx("span",{className:"text-slate-600 font-medium",children:u.duration})]}),o.jsxs("p",{className:"text-slate-700 italic",children:["Indicacin: ",u.frequency," ",u.duration&&`durante ${u.duration}`]}),u.notes&&o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:u.notes})]})]},h))})]}),o.jsxs("div",{className:"absolute bottom-12 left-12 right-12 text-center print:bottom-8",children:[o.jsx("div",{className:"mb-12 flex justify-center",children:o.jsx("div",{className:"w-64 border-t border-slate-900"})}),o.jsxs("p",{className:"font-bold text-slate-900 text-lg",children:["Dr. ",n.doctor_name]}),o.jsx("p",{className:"text-slate-500",children:"Mdico Cirujano"}),o.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"RUT: 12.345.678-9 | Reg. Colegio Mdico: 12345"})]})]}),o.jsx("style",{children:`
                @media print {
                    @page { margin: 0; size: auto; }
                    body { -webkit-print-color-adjust: exact; background-color: white; }
                }
                `})]})};function cj(){const{user:t,profile:e,loading:r}=Ke();return r?o.jsx(VE,{}):t?t.emailVerified?e!=null&&e.isOnboarded?o.jsxs(zl,{children:[o.jsx(G2,{position:"top-right"}),o.jsx(hb,{children:o.jsxs(Je,{element:o.jsx($E,{}),children:[o.jsx(Je,{path:"/*",element:o.jsx(Yl,{})}),o.jsx(Je,{path:"/dashboard",element:o.jsx(Yl,{})}),o.jsx(Je,{path:"/metrics",element:o.jsx(qE,{})}),o.jsx(Je,{path:"/patients",element:o.jsx(t2,{})}),o.jsx(Je,{path:"/patients/:id",element:o.jsx(Ap,{})}),o.jsx(Je,{path:"/search",element:o.jsx(Yl,{})}),o.jsx(Je,{path:"/register",element:o.jsx(Y2,{})}),o.jsx(Je,{path:"/patient/:id",element:o.jsx(Ap,{})}),o.jsx(Je,{path:"/patient/:id/new-consultation",element:o.jsx(tj,{})}),o.jsx(Je,{path:"/settings",element:o.jsx(sj,{})}),o.jsx(Je,{path:"/settings/talonario",element:o.jsx(aj,{})}),o.jsx(Je,{path:"/audit",element:o.jsx(oj,{})}),o.jsx(Je,{path:"/print/prescription/:id",element:o.jsx(lj,{})})]})})]}):o.jsx(zl,{children:o.jsx(aE,{})}):o.jsx(zl,{children:o.jsx(QS,{})}):o.jsx(RS,{})}function uj(){return o.jsx(AS,{children:o.jsx(cj,{})})}Xl.createRoot(document.getElementById("root")).render(o.jsx(Xe.StrictMode,{children:o.jsx(uj,{})}));
