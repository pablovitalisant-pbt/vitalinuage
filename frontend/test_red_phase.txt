
> vitalinuage-frontend@0.0.0 test
> jest src/tests/slice35_1_profile_ui.test.tsx --verbose --no-cache --watchAll=false

  console.warn
    Ã”ÃœÃ¡Â´Â©Ã… React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.

    [0m [90m 86 |[39m
     [90m 87 |[39m     it([32m'RED TEST: Should display allergy alert banner with warning background'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 88 |[39m         render(
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 89 |[39m             [33m<[39m[33mBrowserRouter[39m[33m>[39m
     [90m 90 |[39m                 [33m<[39m[33mPatientProfile[39m [33m/[39m[33m>[39m
     [90m 91 |[39m             [33m<[39m[33m/[39m[33mBrowserRouter[39m[33m>[39m[0m

      at warn (node_modules/react-router/lib/deprecations.ts:9:13)
      at warnOnce (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logDeprecation [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:26:5)
      at logV6DeprecationWarnings (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/tests/slice35_1_profile_ui.test.tsx:88:15)

  console.warn
    Ã”ÃœÃ¡Â´Â©Ã… React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

    [0m [90m 86 |[39m
     [90m 87 |[39m     it([32m'RED TEST: Should display allergy alert banner with warning background'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 88 |[39m         render(
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 89 |[39m             [33m<[39m[33mBrowserRouter[39m[33m>[39m
     [90m 90 |[39m                 [33m<[39m[33mPatientProfile[39m [33m/[39m[33m>[39m
     [90m 91 |[39m             [33m<[39m[33m/[39m[33mBrowserRouter[39m[33m>[39m[0m

      at warn (node_modules/react-router/lib/deprecations.ts:9:13)
      at warnOnce (node_modules/react-router/lib/deprecations.ts:14:3)
      at Object.logDeprecation [as UNSAFE_logV6DeprecationWarnings] (node_modules/react-router/lib/deprecations.ts:37:5)
      at logV6DeprecationWarnings (node_modules/react-router-dom/index.tsx:816:25)
      at commitHookEffectListMount (node_modules/react-dom/cjs/react-dom.development.js:23189:26)
      at commitPassiveMountOnFiber (node_modules/react-dom/cjs/react-dom.development.js:24970:11)
      at commitPassiveMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24930:9)
      at commitPassiveMountEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24917:7)
      at commitPassiveMountEffects (node_modules/react-dom/cjs/react-dom.development.js:24905:3)
      at flushPassiveEffectsImpl (node_modules/react-dom/cjs/react-dom.development.js:27078:3)
      at flushPassiveEffects (node_modules/react-dom/cjs/react-dom.development.js:27023:14)
      at node_modules/react-dom/cjs/react-dom.development.js:26808:9
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/tests/slice35_1_profile_ui.test.tsx:88:15)

FAIL src/tests/slice35_1_profile_ui.test.tsx (6.001 s)
  Slice 35.1: Clinical Profile Redesign (Red Phase)
    â”œÃ¹ RED TEST: Should display allergy alert banner with warning background (1107 ms)
    â”œÃ¹ RED TEST: Should display IMC card with color-coded indicator (Orange zone) (1009 ms)
    â”œÃ¹ RED TEST: Should display IMC card with RED indicator for high IMC (1014 ms)
    â”œÃ¹ RED TEST: Should display consultations in timeline format with CIE-10 as title (1013 ms)
    â”œÃ¹ RED TEST: Should display vital signs snapshot with 4 cards (1017 ms)

  Ã”Ã¹Ã… Slice 35.1: Clinical Profile Redesign (Red Phase) Ã”Ã‡â•‘ RED TEST: Should display allergy alert banner with warning background

    Unable to find an element with the text: /Juan/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="min-h-screen bg-slate-50 flex items-center justify-center"
        >
          Cargando ficha...
        </div>
      </div>
    </body>

      93 |
      94 |         // Wait for patient data to load
    > 95 |         await screen.findByText(/Juan/i);
         |                      ^
      96 |
      97 |         // EXPECTED TO FAIL: Look for allergy alert banner with warning styling
      98 |         const allergyBanner = screen.getByTestId('allergy-alert-banner');

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at node_modules/@testing-library/dom/dist/query-helpers.js:86:33
      at Object.<anonymous> (src/tests/slice35_1_profile_ui.test.tsx:95:22)

  Ã”Ã¹Ã… Slice 35.1: Clinical Profile Redesign (Red Phase) Ã”Ã‡â•‘ RED TEST: Should display IMC card with color-coded indicator (Orange zone)

    Unable to find an element with the text: /Juan/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="min-h-screen bg-slate-50 flex items-center justify-center"
        >
          Cargando ficha...
        </div>
      </div>
    </body>

      113 |         );
      114 |
    > 115 |         await screen.findByText(/Juan/i);
          |                      ^
      116 |
      117 |         // EXPECTED TO FAIL: Look for IMC card with dynamic color
      118 |         const imcCard = screen.getByTestId('imc-card');

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at node_modules/@testing-library/dom/dist/query-helpers.js:86:33
      at Object.<anonymous> (src/tests/slice35_1_profile_ui.test.tsx:115:22)

  Ã”Ã¹Ã… Slice 35.1: Clinical Profile Redesign (Red Phase) Ã”Ã‡â•‘ RED TEST: Should display IMC card with RED indicator for high IMC

    Unable to find an element with the text: /Marâ”œÂ¡a/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="min-h-screen bg-slate-50 flex items-center justify-center"
        >
          Cargando ficha...
        </div>
      </div>
    </body>

      151 |         );
      152 |
    > 153 |         await screen.findByText(/Marâ”œÂ¡a/i);
          |                      ^
      154 |
      155 |         // EXPECTED TO FAIL: Look for red indicator
      156 |         const imcIndicator = screen.getByTestId('imc-indicator');

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at node_modules/@testing-library/dom/dist/query-helpers.js:86:33
      at Object.<anonymous> (src/tests/slice35_1_profile_ui.test.tsx:153:22)

  Ã”Ã¹Ã… Slice 35.1: Clinical Profile Redesign (Red Phase) Ã”Ã‡â•‘ RED TEST: Should display consultations in timeline format with CIE-10 as title

    Unable to find an element with the text: /Juan/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="min-h-screen bg-slate-50 flex items-center justify-center"
        >
          Cargando ficha...
        </div>
      </div>
    </body>

      165 |         );
      166 |
    > 167 |         await screen.findByText(/Juan/i);
          |                      ^
      168 |
      169 |         // EXPECTED TO FAIL: Look for timeline container
      170 |         const timeline = screen.getByTestId('consultation-timeline');

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at node_modules/@testing-library/dom/dist/query-helpers.js:86:33
      at Object.<anonymous> (src/tests/slice35_1_profile_ui.test.tsx:167:22)

  Ã”Ã¹Ã… Slice 35.1: Clinical Profile Redesign (Red Phase) Ã”Ã‡â•‘ RED TEST: Should display vital signs snapshot with 4 cards

    Unable to find an element with the text: /Juan/i. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div
          class="min-h-screen bg-slate-50 flex items-center justify-center"
        >
          Cargando ficha...
        </div>
      </div>
    </body>

      190 |         );
      191 |
    > 192 |         await screen.findByText(/Juan/i);
          |                      ^
      193 |
      194 |         // EXPECTED TO FAIL: Look for vital signs grid
      195 |         const vitalSignsGrid = screen.getByTestId('vital-signs-grid');

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at node_modules/@testing-library/dom/dist/query-helpers.js:86:33
      at Object.<anonymous> (src/tests/slice35_1_profile_ui.test.tsx:192:22)

Test Suites: 1 failed, 1 total
Tests:       5 failed, 5 total
Snapshots:   0 total
Time:        6.806 s
Ran all test suites matching src/tests/slice35_1_profile_ui.test.tsx.
